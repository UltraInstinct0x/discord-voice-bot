{"level":"info","message":"Registering slash commands...","timestamp":"2024-12-10T22:06:10.349Z"}
{"level":"info","message":"Web server listening on port 3000","timestamp":"2024-12-10T22:06:10.354Z"}
{"level":"info","message":"Slash commands registered successfully","timestamp":"2024-12-10T22:06:10.873Z"}
{"channelId":"1203423437754990602","guildId":"1203065884990644245","level":"info","message":"Voice connection ready","timestamp":"2024-12-10T22:06:26.188Z"}
{"error":"wav is not defined","level":"error","message":"Error processing audio buffer","timestamp":"2024-12-10T22:06:28.813Z"}
{"level":"info","message":"Audio stream ended","timestamp":"2024-12-10T22:06:30.615Z"}
{"level":"info","message":"Registering slash commands...","timestamp":"2024-12-10T22:08:17.625Z"}
{"level":"info","message":"Web server listening on port 3000","timestamp":"2024-12-10T22:08:17.630Z"}
{"level":"info","message":"Slash commands registered successfully","timestamp":"2024-12-10T22:08:17.998Z"}
{"channelId":"1203423437754990602","guildId":"1203065884990644245","level":"info","message":"Voice connection ready","timestamp":"2024-12-10T22:08:37.314Z"}
{"level":"info","message":"Audio stream ended","timestamp":"2024-12-10T22:08:46.026Z"}
{"error":"wav is not defined","level":"error","message":"Error processing audio buffer","timestamp":"2024-12-10T22:08:48.994Z"}
{"level":"info","message":"Audio stream ended","timestamp":"2024-12-10T22:08:50.155Z"}
{"level":"info","message":"Audio stream ended","timestamp":"2024-12-10T22:08:53.335Z"}
{"level":"info","message":"Registering slash commands...","timestamp":"2024-12-10T22:10:06.564Z"}
{"level":"info","message":"Web server listening on port 3000","timestamp":"2024-12-10T22:10:06.569Z"}
{"level":"info","message":"Slash commands registered successfully","timestamp":"2024-12-10T22:10:07.019Z"}
{"channelId":"1203423437754990602","guildId":"1203065884990644245","level":"info","message":"Voice connection ready","timestamp":"2024-12-10T22:10:19.227Z"}
{"level":"info","message":"Audio stream ended","timestamp":"2024-12-10T22:10:22.193Z"}
{"level":"info","message":"Audio stream ended","timestamp":"2024-12-10T22:10:26.173Z"}
{"error":"HTTP error! status: 503","level":"error","message":"HuggingFace TTS attempt 1 failed","model":"facebook/mms-tts-eng","timestamp":"2024-12-10T22:10:29.372Z"}
{"error":"HTTP error! status: 503","level":"error","message":"HuggingFace TTS attempt 2 failed","model":"facebook/mms-tts-eng","timestamp":"2024-12-10T22:10:31.893Z"}
{"error":"HTTP error! status: 503","level":"error","message":"HuggingFace TTS attempt 3 failed","model":"facebook/mms-tts-eng","timestamp":"2024-12-10T22:10:37.378Z"}
{"error":"HTTP error! status: 503","level":"error","message":"Error generating TTS","timestamp":"2024-12-10T22:10:37.379Z"}
{"error":"HTTP error! status: 503","level":"error","message":"Error processing audio buffer","timestamp":"2024-12-10T22:10:37.380Z"}
{"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"<@1314391102308220969> thank god you are here my friend.","timestamp":"2024-12-10T22:12:02.149Z","userId":"422749762060550154"}
{"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"can you tell me how exactly whale's can communicate witch each other and how captain ahab's story is","timestamp":"2024-12-10T22:13:02.073Z","userId":"422749762060550154"}
{"error":"HTTP error! status: 503","level":"error","message":"HuggingFace TTS attempt 1 failed","model":"facebook/fastspeech2-en-ljspeech","timestamp":"2024-12-10T22:13:04.429Z"}
{"error":"HTTP error! status: 503","level":"error","message":"HuggingFace TTS attempt 2 failed","model":"facebook/fastspeech2-en-ljspeech","timestamp":"2024-12-10T22:13:06.893Z"}
{"error":"HTTP error! status: 503","level":"error","message":"HuggingFace TTS attempt 3 failed","model":"facebook/fastspeech2-en-ljspeech","timestamp":"2024-12-10T22:13:11.406Z"}
{"error":"HTTP error! status: 503","level":"error","message":"Error generating TTS","timestamp":"2024-12-10T22:13:11.407Z"}
{"error":"HTTP error! status: 503","level":"error","message":"Error handling message","timestamp":"2024-12-10T22:13:11.408Z","userId":"422749762060550154"}
{"level":"info","message":"Registering slash commands...","timestamp":"2024-12-10T22:17:27.240Z"}
{"level":"info","message":"Web server listening on port 3000","timestamp":"2024-12-10T22:17:27.245Z"}
{"level":"info","message":"Slash commands registered successfully","timestamp":"2024-12-10T22:17:27.731Z"}
{"channelId":"1203423437754990602","guildId":"1203065884990644245","level":"info","message":"Voice connection ready","timestamp":"2024-12-10T22:17:39.429Z"}
{"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"<@1314391102308220969> hello there","timestamp":"2024-12-10T22:17:50.822Z","userId":"422749762060550154"}
{"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"<@1314391102308220969> tell me a joke about php","timestamp":"2024-12-10T22:18:03.691Z","userId":"422749762060550154"}
{"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"lollz","timestamp":"2024-12-10T22:18:16.852Z","userId":"422749762060550154"}
{"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"why did lambo go bankrupt?","timestamp":"2024-12-10T22:18:45.966Z","userId":"422749762060550154"}
{"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"cuz php is dead...","timestamp":"2024-12-10T22:19:15.599Z","userId":"422749762060550154"}
{"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"Whales can communicate with each other through various vocalizations such as clicks, whistles, and s","timestamp":"2024-12-10T22:20:14.209Z","userId":"422749762060550154"}
{"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"ok","timestamp":"2024-12-10T22:21:07.751Z","userId":"422749762060550154"}
{"error":"HTTP error! status: 500","level":"error","message":"HuggingFace TTS failed after retries:","model":"coqui/XTTS-v2","timestamp":"2024-12-10T22:21:13.711Z"}
{"error":"HTTP error! status: 500","level":"error","message":"TTS failed for provider huggingface_coqui:","timestamp":"2024-12-10T22:21:13.712Z"}
{"level":"info","message":"Registering slash commands...","timestamp":"2024-12-10T22:23:29.220Z"}
{"level":"info","message":"Web server listening on port 3000","timestamp":"2024-12-10T22:23:29.225Z"}
{"level":"info","message":"Slash commands registered successfully","timestamp":"2024-12-10T22:23:29.643Z"}
{"channelId":"1203423437754990602","guildId":"1203065884990644245","level":"info","message":"Voice connection ready","timestamp":"2024-12-10T22:23:43.588Z"}
{"level":"info","message":"Audio stream ended","timestamp":"2024-12-10T22:23:49.341Z"}
{"level":"info","message":"Audio stream ended","timestamp":"2024-12-10T22:23:54.157Z"}
{"error":"Cannot read properties of undefined (reading 'LONG_RESPONSE_THRESHOLD')","level":"error","message":"Error processing audio buffer","timestamp":"2024-12-10T22:23:56.707Z"}
{"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"can you tell me how they make quantum computers?","timestamp":"2024-12-10T22:24:30.241Z","userId":"422749762060550154"}
{"error":"HTTP error! status: 503","level":"error","message":"HuggingFace TTS failed after retries:","model":"facebook/mms-tts-eng","timestamp":"2024-12-10T22:24:36.824Z"}
{"error":"HTTP error! status: 503","level":"error","message":"TTS failed for provider huggingface_facebook:","timestamp":"2024-12-10T22:24:36.827Z"}
{"level":"info","message":"Audio stream ended","timestamp":"2024-12-10T22:25:08.998Z"}
{"error":"Cannot read properties of undefined (reading 'LONG_RESPONSE_THRESHOLD')","level":"error","message":"Error processing audio buffer","timestamp":"2024-12-10T22:25:16.765Z"}
{"level":"info","message":"Registering slash commands...","timestamp":"2024-12-10T22:27:44.778Z"}
{"level":"info","message":"Web server listening on port 3000","timestamp":"2024-12-10T22:27:44.783Z"}
{"level":"info","message":"Slash commands registered successfully","timestamp":"2024-12-10T22:27:45.405Z"}
{"channelId":"1203423437754990602","guildId":"1203065884990644245","level":"info","message":"Voice connection ready","timestamp":"2024-12-10T22:27:55.661Z"}
{"level":"info","message":"Audio stream ended","timestamp":"2024-12-10T22:28:02.926Z"}
{"level":"info","message":"Audio stream ended","timestamp":"2024-12-10T22:28:11.508Z"}
{"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"analyze this cv for me <@1314391102308220969>\n\nAttachments:\n[File attached: gokhanguney-cv.pdf]","timestamp":"2024-12-10T22:28:39.835Z","userId":"422749762060550154"}
{"level":"info","message":"Registering slash commands...","timestamp":"2024-12-10T22:43:35.610Z"}
{"level":"info","message":"Web server listening on port 3000","timestamp":"2024-12-10T22:43:35.614Z"}
{"level":"info","message":"Slash commands registered successfully","timestamp":"2024-12-10T22:43:36.065Z"}
{"level":"info","message":"Registering slash commands...","timestamp":"2024-12-10T22:43:52.659Z"}
{"level":"info","message":"Web server listening on port 3000","timestamp":"2024-12-10T22:43:52.663Z"}
{"level":"info","message":"Slash commands registered successfully","timestamp":"2024-12-10T22:43:53.058Z"}
{"error":"voiceHandler.joinVoiceChannel is not a function","level":"error","message":"Error handling machine command","timestamp":"2024-12-10T22:45:37.627Z"}
{"level":"info","message":"Registering slash commands...","timestamp":"2024-12-10T22:46:49.602Z"}
{"level":"info","message":"Web server listening on port 3000","timestamp":"2024-12-10T22:46:49.606Z"}
{"level":"info","message":"Slash commands registered successfully","timestamp":"2024-12-10T22:46:50.017Z"}
{"channelId":"1203423437754990602","guildId":"1203065884990644245","level":"info","message":"Voice connection ready","timestamp":"2024-12-10T22:46:58.294Z"}
{"level":"info","message":"Audio stream ended","timestamp":"2024-12-10T22:47:24.338Z"}
{"level":"info","message":"Audio stream ended","timestamp":"2024-12-10T22:47:28.207Z"}
{"level":"info","message":"Audio stream ended","timestamp":"2024-12-10T22:47:31.975Z"}
{"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"One day, a fierce dragon descended upon the village, causing chaos and destruction wherever it went. The villagers were terrified and did not know what to do.\n\nLily, hearing the cries of her fellow villagers, knew she had to do something to save them. She bravely stepped forward and","timestamp":"2024-12-10T22:48:06.963Z","userId":"422749762060550154"}
{"level":"info","message":"Audio stream ended","timestamp":"2024-12-10T22:48:20.632Z"}
{"level":"info","message":"Audio stream ended","timestamp":"2024-12-10T22:48:35.208Z"}
{"level":"info","message":"Audio stream ended","timestamp":"2024-12-10T22:49:06.750Z"}
{"level":"info","message":"Registering slash commands...","timestamp":"2024-12-10T22:49:59.980Z"}
{"level":"info","message":"Web server listening on port 3000","timestamp":"2024-12-10T22:49:59.985Z"}
{"level":"info","message":"Slash commands registered successfully","timestamp":"2024-12-10T22:50:00.610Z"}
{"channelId":"1203423437754990602","guildId":"1203065884990644245","level":"info","message":"Voice connection ready","timestamp":"2024-12-10T22:50:15.184Z"}
{"level":"info","message":"Audio stream ended","timestamp":"2024-12-10T22:50:41.094Z"}
{"level":"info","message":"Audio stream ended","timestamp":"2024-12-10T22:50:55.710Z"}
{"level":"info","message":"Audio stream ended","timestamp":"2024-12-10T22:51:02.970Z"}
{"level":"info","message":"Audio stream ended","timestamp":"2024-12-10T22:51:07.010Z"}
{"error":"HTTP error! status: 503","level":"error","message":"HuggingFace TTS failed after retries:","model":"facebook/mms-tts-eng","timestamp":"2024-12-10T22:51:13.109Z"}
{"error":"HTTP error! status: 503","level":"error","message":"TTS failed for provider huggingface_facebook:","timestamp":"2024-12-10T22:51:13.110Z"}
{"error":"HTTP error! status: 503","level":"error","message":"HuggingFace TTS failed after retries:","model":"facebook/fastspeech2-en-ljspeech","timestamp":"2024-12-10T22:51:17.634Z"}
{"error":"HTTP error! status: 503","level":"error","message":"TTS failed for provider huggingface_fastspeech:","timestamp":"2024-12-10T22:51:17.635Z"}
{"error":"HTTP error! status: 500","level":"error","message":"HuggingFace TTS failed after retries:","model":"coqui/XTTS-v2","timestamp":"2024-12-10T22:51:22.180Z"}
{"error":"HTTP error! status: 500","level":"error","message":"TTS failed for provider huggingface_coqui:","timestamp":"2024-12-10T22:51:22.183Z"}
{"error":"HTTP error! status: 404","level":"error","message":"HuggingFace TTS failed after retries:","model":"ai4bharat/indic-tts-coqui-indo_eng-asr_tts","timestamp":"2024-12-10T22:51:26.622Z"}
{"error":"HTTP error! status: 404","level":"error","message":"TTS failed for provider huggingface_indic:","timestamp":"2024-12-10T22:51:26.624Z"}
{"error":"HTTP error! status: 404","level":"error","message":"TTS generation failed:","timestamp":"2024-12-10T22:51:26.624Z"}
{"error":"HTTP error! status: 404","level":"error","message":"Error processing audio buffer","timestamp":"2024-12-10T22:51:26.624Z"}
{"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"i said give me tiktok ideas","timestamp":"2024-12-10T22:51:41.451Z","userId":"422749762060550154"}
{"level":"info","message":"Audio stream ended","timestamp":"2024-12-10T22:52:04.070Z"}
{"level":"info","message":"Audio stream ended","timestamp":"2024-12-10T22:52:11.828Z"}
{"level":"info","message":"Audio stream ended","timestamp":"2024-12-10T22:52:22.248Z"}
{"level":"info","message":"Registering slash commands...","timestamp":"2024-12-10T22:57:51.166Z"}
{"level":"info","message":"Web server listening on port 3000","timestamp":"2024-12-10T22:57:51.174Z"}
{"level":"info","message":"Slash commands registered successfully","timestamp":"2024-12-10T22:57:51.657Z"}
{"channelId":"1203423437754990602","guildId":"1203065884990644245","level":"info","message":"Voice connection ready","timestamp":"2024-12-10T22:58:00.625Z"}
{"level":"info","message":"Audio stream ended","timestamp":"2024-12-10T22:58:04.027Z"}
{"level":"info","message":"Audio stream ended","timestamp":"2024-12-10T22:58:06.885Z"}
{"level":"info","message":"Audio stream ended","timestamp":"2024-12-10T22:58:21.485Z"}
{"level":"info","message":"Audio stream ended","timestamp":"2024-12-10T22:58:31.324Z"}
{"level":"info","message":"Audio stream ended","timestamp":"2024-12-10T22:58:50.123Z"}
{"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"Comedy skits with your friends or family members\nA dance challenge with a unique twist\nLip-syncing to popular songs or movie quotes\nDIY or life hack tutorials\nTrying out a new recipe or cooking challenge\nRecreating viral TikTok trends or challenges\nA funny pet or animal video\nA day in the life vlog showing your daily routine\nA makeup or fashion transformation video\nEducation orIlona is a feminine given name of Hungarian origin, meaning \"beauty\" or \"light.\" It is also used in several other countries, including Poland and Czech Republic. Ilona is a popular name in Eastern Europe and is often associated with qualities such as grace, elegance, and intelligence. Famous Ilonas include Hungarian swimmer Ilona Novák and Finnish singer Ilona.\n\nIn addition to being a name, Ilona is also the title of a novel by Hungarian author Zsigmond Mó","timestamp":"2024-12-10T22:59:46.971Z","userId":"422749762060550154"}
{"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"wonderful news, trump won!","timestamp":"2024-12-10T23:01:17.338Z","userId":"422749762060550154"}
{"level":"info","message":"Registering slash commands...","timestamp":"2024-12-10T23:07:56.670Z"}
{"level":"info","message":"Web server listening on port 3000","timestamp":"2024-12-10T23:07:56.676Z"}
{"level":"info","message":"Slash commands registered successfully","timestamp":"2024-12-10T23:07:57.168Z"}
{"channelId":"1203423437754990602","guildId":"1203065884990644245","level":"info","message":"Voice connection ready","timestamp":"2024-12-10T23:08:05.762Z"}
{"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"hello world!","timestamp":"2024-12-10T23:08:12.529Z","userId":"422749762060550154"}
{"level":"info","message":"Audio stream ended","timestamp":"2024-12-10T23:08:54.384Z"}
{"error":"HTTP error! status: 503","level":"error","message":"HuggingFace TTS failed after retries:","model":"facebook/mms-tts-eng","timestamp":"2024-12-10T23:09:01.081Z"}
{"level":"info","message":"Attempting with retry message after HuggingFace failure","timestamp":"2024-12-10T23:09:01.081Z"}
{"error":"HTTP error! status: 503","level":"error","message":"HuggingFace TTS failed after retries:","model":"facebook/mms-tts-eng","timestamp":"2024-12-10T23:09:03.028Z"}
{"error":"HTTP error! status: 503","level":"error","message":"TTS failed for provider huggingface_facebook:","timestamp":"2024-12-10T23:09:03.030Z"}
{"level":"info","message":"Audio stream ended","timestamp":"2024-12-10T23:09:35.259Z"}
{"error":"400 Invalid file format. Supported formats: ['flac', 'm4a', 'mp3', 'mp4', 'mpeg', 'mpga', 'oga', 'ogg', 'wav', 'webm']","level":"error","message":"Error transcribing audio","timestamp":"2024-12-10T23:09:37.424Z"}
{"error":"400 Invalid file format. Supported formats: ['flac', 'm4a', 'mp3', 'mp4', 'mpeg', 'mpga', 'oga', 'ogg', 'wav', 'webm']","level":"error","message":"Error processing audio buffer","timestamp":"2024-12-10T23:09:37.425Z"}
{"level":"info","message":"Audio stream ended","timestamp":"2024-12-10T23:09:37.779Z"}
{"level":"info","message":"Audio stream ended","timestamp":"2024-12-10T23:09:54.602Z"}
{"level":"info","message":"Audio stream ended","timestamp":"2024-12-10T23:10:15.808Z"}
{"level":"info","message":"Audio stream ended","timestamp":"2024-12-10T23:10:33.381Z"}
{"level":"info","message":"Audio stream ended","timestamp":"2024-12-10T23:10:37.899Z"}
{"error":"400 Invalid file format. Supported formats: ['flac', 'm4a', 'mp3', 'mp4', 'mpeg', 'mpga', 'oga', 'ogg', 'wav', 'webm']","level":"error","message":"Error transcribing audio","timestamp":"2024-12-10T23:10:46.963Z"}
{"error":"400 Invalid file format. Supported formats: ['flac', 'm4a', 'mp3', 'mp4', 'mpeg', 'mpga', 'oga', 'ogg', 'wav', 'webm']","level":"error","message":"Error processing audio buffer","timestamp":"2024-12-10T23:10:46.964Z"}
{"error":"400 Invalid file format. Supported formats: ['flac', 'm4a', 'mp3', 'mp4', 'mpeg', 'mpga', 'oga', 'ogg', 'wav', 'webm']","level":"error","message":"Error transcribing audio","timestamp":"2024-12-10T23:10:47.882Z"}
{"error":"400 Invalid file format. Supported formats: ['flac', 'm4a', 'mp3', 'mp4', 'mpeg', 'mpga', 'oga', 'ogg', 'wav', 'webm']","level":"error","message":"Error processing audio buffer","timestamp":"2024-12-10T23:10:47.883Z"}
{"level":"info","message":"Audio stream ended","timestamp":"2024-12-10T23:10:48.764Z"}
{"level":"info","message":"Audio stream ended","timestamp":"2024-12-10T23:10:55.537Z"}
{"level":"info","message":"Audio stream ended","timestamp":"2024-12-10T23:11:12.096Z"}
{"level":"info","message":"Registering slash commands...","timestamp":"2024-12-13T11:18:51.429Z"}
{"level":"info","message":"Web server listening on port 3000","timestamp":"2024-12-13T11:18:51.433Z"}
{"level":"info","message":"Slash commands registered successfully","timestamp":"2024-12-13T11:18:51.920Z"}
{"level":"error","message":"Discord client error: ServerSettings is not a constructor","stack":"TypeError: ServerSettings is not a constructor\n    at SettingsService.getServerSettings (/usr/src/app/src/services/settingsService.js:66:30)\n    at CommandHandler.handleCommand (/usr/src/app/src/handlers/commandHandler.js:9:42)\n    at Client.<anonymous> (/usr/src/app/src/index.js:95:26)\n    at Client.emit (node:events:517:28)\n    at MessageCreateAction.handle (/usr/src/app/node_modules/discord.js/src/client/actions/MessageCreate.js:32:14)\n    at module.exports [as MESSAGE_CREATE] (/usr/src/app/node_modules/discord.js/src/client/websocket/handlers/MESSAGE_CREATE.js:4:32)\n    at WebSocketManager.handlePacket (/usr/src/app/node_modules/discord.js/src/client/websocket/WebSocketManager.js:348:31)\n    at WebSocketManager.<anonymous> (/usr/src/app/node_modules/discord.js/src/client/websocket/WebSocketManager.js:232:12)\n    at WebSocketManager.emit (/usr/src/app/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.<anonymous> (/usr/src/app/node_modules/@discordjs/ws/dist/index.js:1190:51)","timestamp":"2024-12-13T11:18:56.163Z"}
{"level":"info","message":"Registering slash commands...","timestamp":"2024-12-13T11:20:34.580Z"}
{"level":"info","message":"Web server listening on port 3000","timestamp":"2024-12-13T11:20:34.582Z"}
{"level":"info","message":"Slash commands registered successfully","timestamp":"2024-12-13T11:20:34.903Z"}
{"channelId":"1203065885435101268","error":"logger.logVoiceEvent is not a function","guildId":"1203065884990644245","level":"error","message":"Error joining voice channel","timestamp":"2024-12-13T11:20:38.531Z"}
{"error":"logger.logVoiceEvent is not a function","level":"error","message":"Error handling machine command","timestamp":"2024-12-13T11:20:38.532Z"}
{"level":"info","message":"Registering slash commands...","timestamp":"2024-12-13T11:22:14.230Z"}
{"level":"info","message":"Web server listening on port 3000","timestamp":"2024-12-13T11:22:14.233Z"}
{"level":"info","message":"Slash commands registered successfully","timestamp":"2024-12-13T11:22:14.665Z"}
{"channelId":"1203065885435101268","event":"joining_channel","guildId":"1203065884990644245","level":"info","message":"Voice event: joining_channel","timestamp":"2024-12-13T11:22:20.889Z","userId":"422749762060550154"}
{"channelId":"1203065885435101268","guildId":"1203065884990644245","level":"info","message":"Voice connection ready","timestamp":"2024-12-13T11:22:20.896Z"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T11:22:21.270Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T11:22:22.749Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T11:22:22.857Z","userId":"422749762060550154"}
{"bufferSize":97920,"filepath":"/tmp/1734088947041.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T11:22:27.042Z","userId":"422749762060550154"}
{"event":"transcribe_start","guildId":"1203065884990644245","level":"info","message":"Voice event: transcribe_start","timestamp":"2024-12-13T11:22:27.049Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T11:22:28.590Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T11:22:28.696Z","userId":"422749762060550154"}
{"error":"Failed to transcribe audio","guildId":"1203065884990644245","level":"error","message":"Error processing audio buffer","timestamp":"2024-12-13T11:22:29.837Z","userId":"422749762060550154"}
{"bufferSize":97920,"filepath":"/tmp/1734088954347.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T11:22:34.351Z","userId":"422749762060550154"}
{"event":"transcribe_start","guildId":"1203065884990644245","level":"info","message":"Voice event: transcribe_start","timestamp":"2024-12-13T11:22:34.357Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T11:22:35.226Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T11:22:35.334Z","userId":"422749762060550154"}
{"event":"transcribe_success","guildId":"1203065884990644245","length":14,"level":"info","message":"Voice event: transcribe_success","timestamp":"2024-12-13T11:22:35.742Z","userId":"422749762060550154"}
{"isVoiceInput":true,"level":"info","message":"TTS generation started","textLength":79,"timestamp":"2024-12-13T11:22:36.641Z"}
{"isVoiceInput":true,"level":"info","message":"ElevenLabs TTS started","textLength":79,"timestamp":"2024-12-13T11:22:36.643Z"}
{"duration":1212,"error":"fs.createWriteStream is not a function","isVoiceInput":true,"level":"error","message":"ElevenLabs TTS failed","textLength":79,"timestamp":"2024-12-13T11:22:37.855Z"}
{"error":"fs.createWriteStream is not a function","isVoiceInput":true,"level":"warn","message":"ElevenLabs TTS failed, falling back to HuggingFace","timestamp":"2024-12-13T11:22:37.858Z"}
{"isVoiceInput":true,"level":"info","maxRetries":2,"message":"HuggingFace TTS started","model":"facebook/mms-tts-eng","textLength":79,"timestamp":"2024-12-13T11:22:37.859Z"}
{"duration":1001,"fileSize":1024,"isVoiceInput":true,"level":"info","message":"HuggingFace TTS completed","model":"facebook/mms-tts-eng","outputPath":"/tmp/1734088957859_huggingface.wav","retries":0,"timestamp":"2024-12-13T11:22:38.860Z"}
{"bufferSize":97920,"filepath":"/tmp/1734088976747.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T11:22:56.749Z","userId":"422749762060550154"}
{"event":"transcribe_start","guildId":"1203065884990644245","level":"info","message":"Voice event: transcribe_start","timestamp":"2024-12-13T11:22:56.780Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T11:22:57.938Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T11:22:58.041Z","userId":"422749762060550154"}
{"event":"transcribe_success","guildId":"1203065884990644245","length":8,"level":"info","message":"Voice event: transcribe_success","timestamp":"2024-12-13T11:22:58.234Z","userId":"422749762060550154"}
{"isVoiceInput":true,"level":"info","message":"TTS generation started","textLength":109,"timestamp":"2024-12-13T11:22:59.137Z"}
{"isVoiceInput":true,"level":"info","message":"ElevenLabs TTS started","textLength":109,"timestamp":"2024-12-13T11:22:59.138Z"}
{"duration":1515,"error":"fs.createWriteStream is not a function","isVoiceInput":true,"level":"error","message":"ElevenLabs TTS failed","textLength":109,"timestamp":"2024-12-13T11:23:00.654Z"}
{"error":"fs.createWriteStream is not a function","isVoiceInput":true,"level":"warn","message":"ElevenLabs TTS failed, falling back to HuggingFace","timestamp":"2024-12-13T11:23:00.655Z"}
{"isVoiceInput":true,"level":"info","maxRetries":2,"message":"HuggingFace TTS started","model":"facebook/mms-tts-eng","textLength":109,"timestamp":"2024-12-13T11:23:00.655Z"}
{"duration":1004,"fileSize":1024,"isVoiceInput":true,"level":"info","message":"HuggingFace TTS completed","model":"facebook/mms-tts-eng","outputPath":"/tmp/1734088980655_huggingface.wav","retries":0,"timestamp":"2024-12-13T11:23:01.660Z"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T11:23:13.365Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T11:23:13.471Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T11:23:15.967Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T11:23:16.070Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T11:23:19.742Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T11:23:19.846Z","userId":"422749762060550154"}
{"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"eggs?","timestamp":"2024-12-13T11:23:48.200Z","userId":"422749762060550154"}
{"error":"Cannot read properties of undefined (reading 'ttsProvider')","level":"error","message":"Error handling message","timestamp":"2024-12-13T11:23:48.207Z"}
{"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"eggs?","timestamp":"2024-12-13T11:23:48.571Z","userId":"422749762060550154"}
{"isVoiceInput":false,"level":"info","message":"TTS generation started","textLength":62,"timestamp":"2024-12-13T11:23:48.571Z"}
{"isVoiceInput":false,"level":"info","maxRetries":2,"message":"HuggingFace TTS started","model":"facebook/mms-tts-eng","textLength":62,"timestamp":"2024-12-13T11:23:48.572Z"}
{"duration":1002,"fileSize":1024,"isVoiceInput":false,"level":"info","message":"HuggingFace TTS completed","model":"facebook/mms-tts-eng","outputPath":"/tmp/1734089028572_huggingface.wav","retries":0,"timestamp":"2024-12-13T11:23:49.575Z"}
{"isVoiceInput":false,"level":"info","message":"TTS generation started","textLength":275,"timestamp":"2024-12-13T11:23:51.055Z"}
{"isVoiceInput":false,"level":"info","maxRetries":2,"message":"HuggingFace TTS started","model":"facebook/mms-tts-eng","textLength":275,"timestamp":"2024-12-13T11:23:51.056Z"}
{"duration":1003,"fileSize":1024,"isVoiceInput":false,"level":"info","message":"HuggingFace TTS completed","model":"facebook/mms-tts-eng","outputPath":"/tmp/1734089031056_huggingface.wav","retries":0,"timestamp":"2024-12-13T11:23:52.059Z"}
{"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"maybe i can eat eggs then","timestamp":"2024-12-13T11:24:07.967Z","userId":"422749762060550154"}
{"error":"Cannot read properties of undefined (reading 'ttsProvider')","level":"error","message":"Error handling message","timestamp":"2024-12-13T11:24:07.967Z"}
{"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"maybe i can eat eggs then","timestamp":"2024-12-13T11:24:08.298Z","userId":"422749762060550154"}
{"isVoiceInput":false,"level":"info","message":"TTS generation started","textLength":62,"timestamp":"2024-12-13T11:24:08.299Z"}
{"isVoiceInput":false,"level":"info","maxRetries":2,"message":"HuggingFace TTS started","model":"facebook/mms-tts-eng","textLength":62,"timestamp":"2024-12-13T11:24:08.299Z"}
{"duration":1002,"fileSize":1024,"isVoiceInput":false,"level":"info","message":"HuggingFace TTS completed","model":"facebook/mms-tts-eng","outputPath":"/tmp/1734089048299_huggingface.wav","retries":0,"timestamp":"2024-12-13T11:24:09.301Z"}
{"isVoiceInput":false,"level":"info","message":"TTS generation started","textLength":275,"timestamp":"2024-12-13T11:24:10.667Z"}
{"isVoiceInput":false,"level":"info","maxRetries":2,"message":"HuggingFace TTS started","model":"facebook/mms-tts-eng","textLength":275,"timestamp":"2024-12-13T11:24:10.668Z"}
{"duration":1004,"fileSize":1024,"isVoiceInput":false,"level":"info","message":"HuggingFace TTS completed","model":"facebook/mms-tts-eng","outputPath":"/tmp/1734089050668_huggingface.wav","retries":0,"timestamp":"2024-12-13T11:24:11.672Z"}
{"allowedUsers":0,"guildId":"1203065884990644245","hasAdmin":false,"level":"info","message":"Server settings saved","settingsSize":138,"timestamp":"2024-12-13T11:24:35.139Z"}
{"level":"error","message":"Discord client error: settings.setChannel is not a function","stack":"TypeError: settings.setChannel is not a function\n    at Client.<anonymous> (/usr/src/app/src/index.js:123:16)\n    at Client.emit (node:events:517:28)\n    at VoiceStateUpdate.handle (/usr/src/app/node_modules/discord.js/src/client/actions/VoiceStateUpdate.js:38:14)\n    at module.exports [as VOICE_STATE_UPDATE] (/usr/src/app/node_modules/discord.js/src/client/websocket/handlers/VOICE_STATE_UPDATE.js:4:35)\n    at WebSocketManager.handlePacket (/usr/src/app/node_modules/discord.js/src/client/websocket/WebSocketManager.js:348:31)\n    at WebSocketManager.<anonymous> (/usr/src/app/node_modules/discord.js/src/client/websocket/WebSocketManager.js:232:12)\n    at WebSocketManager.emit (/usr/src/app/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.<anonymous> (/usr/src/app/node_modules/@discordjs/ws/dist/index.js:1190:51)\n    at WebSocketShard.emit (/usr/src/app/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.onMessage (/usr/src/app/node_modules/@discordjs/ws/dist/index.js:1005:14)","timestamp":"2024-12-13T11:26:17.328Z"}
{"event":"disconnected","guildId":"1203065884990644245","level":"info","message":"Voice event: disconnected","timestamp":"2024-12-13T11:26:17.362Z","userId":"422749762060550154"}
{"event":"disconnected","guildId":"1203065884990644245","level":"info","message":"Voice event: disconnected","timestamp":"2024-12-13T11:26:17.363Z","userId":"422749762060550154"}
{"event":"disconnected","guildId":"1203065884990644245","level":"info","message":"Voice event: disconnected","timestamp":"2024-12-13T11:26:17.363Z","userId":"422749762060550154"}
{"event":"disconnected","guildId":"1203065884990644245","level":"info","message":"Voice event: disconnected","timestamp":"2024-12-13T11:26:17.364Z","userId":"422749762060550154"}
{"event":"disconnected","guildId":"1203065884990644245","level":"info","message":"Voice event: disconnected","timestamp":"2024-12-13T11:26:17.364Z","userId":"422749762060550154"}
{"event":"disconnected","guildId":"1203065884990644245","level":"info","message":"Voice event: disconnected","timestamp":"2024-12-13T11:26:17.364Z","userId":"422749762060550154"}
{"event":"disconnected","guildId":"1203065884990644245","level":"info","message":"Voice event: disconnected","timestamp":"2024-12-13T11:26:17.364Z","userId":"422749762060550154"}
{"event":"disconnected","guildId":"1203065884990644245","level":"info","message":"Voice event: disconnected","timestamp":"2024-12-13T11:26:17.365Z","userId":"422749762060550154"}
{"channelId":"1203065885435101268","error":"The operation was aborted","guildId":"1203065884990644245","level":"error","message":"Voice connection recovery failed","timestamp":"2024-12-13T11:26:22.374Z"}
{"level":"info","message":"Registering slash commands...","timestamp":"2024-12-13T11:27:05.966Z"}
{"level":"info","message":"Web server listening on port 3000","timestamp":"2024-12-13T11:27:05.969Z"}
{"level":"info","message":"Slash commands registered successfully","timestamp":"2024-12-13T11:27:06.417Z"}
{"channelId":"1203065885435101268","event":"joining_channel","guildId":"1203065884990644245","level":"info","message":"Voice event: joining_channel","timestamp":"2024-12-13T11:27:09.108Z","userId":"422749762060550154"}
{"channelId":"1203065885435101268","guildId":"1203065884990644245","level":"info","message":"Voice connection ready","timestamp":"2024-12-13T11:27:09.111Z"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T11:27:09.390Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T11:27:13.646Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T11:27:13.749Z","userId":"422749762060550154"}
{"bufferSize":97920,"filepath":"/tmp/1734089234772.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T11:27:14.772Z","userId":"422749762060550154"}
{"event":"transcribe_start","guildId":"1203065884990644245","level":"info","message":"Voice event: transcribe_start","timestamp":"2024-12-13T11:27:14.775Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T11:27:16.003Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T11:27:16.108Z","userId":"422749762060550154"}
{"error":"Failed to transcribe audio","guildId":"1203065884990644245","level":"error","message":"Error processing audio buffer","timestamp":"2024-12-13T11:27:17.877Z","userId":"422749762060550154"}
{"bufferSize":97920,"filepath":"/tmp/1734089244548.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T11:27:24.548Z","userId":"422749762060550154"}
{"error":"WAV file not created: /tmp/1734089244548.wav","guildId":"1203065884990644245","level":"error","message":"Error processing audio buffer","timestamp":"2024-12-13T11:27:24.551Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T11:27:25.887Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T11:27:25.991Z","userId":"422749762060550154"}
{"bufferSize":97920,"filepath":"/tmp/1734089248964.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T11:27:28.964Z","userId":"422749762060550154"}
{"error":"WAV file not created: /tmp/1734089248964.wav","guildId":"1203065884990644245","level":"error","message":"Error processing audio buffer","timestamp":"2024-12-13T11:27:28.967Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T11:27:30.006Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T11:27:30.110Z","userId":"422749762060550154"}
{"bufferSize":97920,"filepath":"/tmp/1734089252923.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T11:27:32.924Z","userId":"422749762060550154"}
{"event":"transcribe_start","guildId":"1203065884990644245","level":"info","message":"Voice event: transcribe_start","timestamp":"2024-12-13T11:27:32.926Z","userId":"422749762060550154"}
{"event":"transcribe_success","guildId":"1203065884990644245","length":5,"level":"info","message":"Voice event: transcribe_success","timestamp":"2024-12-13T11:27:34.272Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T11:27:34.806Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T11:27:34.910Z","userId":"422749762060550154"}
{"isVoiceInput":true,"level":"info","message":"TTS generation started","textLength":61,"timestamp":"2024-12-13T11:27:35.055Z"}
{"isVoiceInput":true,"level":"info","message":"ElevenLabs TTS started","textLength":61,"timestamp":"2024-12-13T11:27:35.057Z"}
{"duration":2272,"fileSize":53498,"isVoiceInput":true,"level":"info","message":"ElevenLabs TTS completed","outputPath":"/tmp/1734089257057_elevenlabs.mp3","timestamp":"2024-12-13T11:27:37.330Z"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T11:27:39.244Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T11:27:39.348Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T11:27:46.106Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T11:27:46.208Z","userId":"422749762060550154"}
{"bufferSize":97920,"filepath":"/tmp/1734089273060.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T11:27:53.060Z","userId":"422749762060550154"}
{"error":"WAV file not created: /tmp/1734089273060.wav","guildId":"1203065884990644245","level":"error","message":"Error processing audio buffer","timestamp":"2024-12-13T11:27:53.062Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T11:27:54.031Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T11:27:54.137Z","userId":"422749762060550154"}
{"bufferSize":97920,"filepath":"/tmp/1734089275802.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T11:27:55.802Z","userId":"422749762060550154"}
{"event":"transcribe_start","guildId":"1203065884990644245","level":"info","message":"Voice event: transcribe_start","timestamp":"2024-12-13T11:27:55.806Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T11:27:56.847Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T11:27:56.950Z","userId":"422749762060550154"}
{"event":"transcribe_success","guildId":"1203065884990644245","length":14,"level":"info","message":"Voice event: transcribe_success","timestamp":"2024-12-13T11:27:57.258Z","userId":"422749762060550154"}
{"isVoiceInput":true,"level":"info","message":"TTS generation started","textLength":68,"timestamp":"2024-12-13T11:27:59.116Z"}
{"isVoiceInput":true,"level":"info","message":"ElevenLabs TTS started","textLength":68,"timestamp":"2024-12-13T11:27:59.116Z"}
{"duration":1471,"fileSize":64365,"isVoiceInput":true,"level":"info","message":"ElevenLabs TTS completed","outputPath":"/tmp/1734089280328_elevenlabs.mp3","timestamp":"2024-12-13T11:28:00.587Z"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T11:28:32.430Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T11:28:32.536Z","userId":"422749762060550154"}
{"allowedUsers":0,"guildId":"1203065884990644245","hasAdmin":false,"level":"info","message":"Server settings saved","settingsSize":34,"timestamp":"2024-12-13T11:28:38.618Z"}
{"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"can you review my article?","timestamp":"2024-12-13T11:28:50.594Z","userId":"422749762060550154"}
{"error":"Cannot read properties of undefined (reading 'ttsProvider')","level":"error","message":"Error handling message","timestamp":"2024-12-13T11:28:50.612Z"}
{"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"can you review my article?","timestamp":"2024-12-13T11:28:50.941Z","userId":"422749762060550154"}
{"isVoiceInput":false,"level":"info","message":"TTS generation started","textLength":74,"timestamp":"2024-12-13T11:28:50.942Z"}
{"isVoiceInput":false,"level":"info","maxRetries":2,"message":"HuggingFace TTS started","model":"facebook/mms-tts-eng","textLength":74,"timestamp":"2024-12-13T11:28:50.942Z"}
{"duration":1004,"fileSize":1024,"isVoiceInput":false,"level":"info","message":"HuggingFace TTS completed","model":"facebook/mms-tts-eng","outputPath":"/tmp/1734089330943_huggingface.wav","retries":0,"timestamp":"2024-12-13T11:28:51.947Z"}
{"isVoiceInput":false,"level":"info","message":"TTS generation started","textLength":73,"timestamp":"2024-12-13T11:28:53.276Z"}
{"isVoiceInput":false,"level":"info","maxRetries":2,"message":"HuggingFace TTS started","model":"facebook/mms-tts-eng","textLength":73,"timestamp":"2024-12-13T11:28:53.277Z"}
{"duration":1004,"fileSize":1024,"isVoiceInput":false,"level":"info","message":"HuggingFace TTS completed","model":"facebook/mms-tts-eng","outputPath":"/tmp/1734089333277_huggingface.wav","retries":0,"timestamp":"2024-12-13T11:28:54.282Z"}
{"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"one sec pls","timestamp":"2024-12-13T11:29:15.894Z","userId":"422749762060550154"}
{"error":"Cannot read properties of undefined (reading 'ttsProvider')","level":"error","message":"Error handling message","timestamp":"2024-12-13T11:29:15.897Z"}
{"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"one sec pls","timestamp":"2024-12-13T11:29:16.253Z","userId":"422749762060550154"}
{"isVoiceInput":false,"level":"info","message":"TTS generation started","textLength":62,"timestamp":"2024-12-13T11:29:16.254Z"}
{"isVoiceInput":false,"level":"info","maxRetries":2,"message":"HuggingFace TTS started","model":"facebook/mms-tts-eng","textLength":62,"timestamp":"2024-12-13T11:29:16.254Z"}
{"duration":1004,"fileSize":1024,"isVoiceInput":false,"level":"info","message":"HuggingFace TTS completed","model":"facebook/mms-tts-eng","outputPath":"/tmp/1734089356255_huggingface.wav","retries":0,"timestamp":"2024-12-13T11:29:17.258Z"}
{"isVoiceInput":false,"level":"info","message":"TTS generation started","textLength":52,"timestamp":"2024-12-13T11:29:18.633Z"}
{"isVoiceInput":false,"level":"info","maxRetries":2,"message":"HuggingFace TTS started","model":"facebook/mms-tts-eng","textLength":52,"timestamp":"2024-12-13T11:29:18.634Z"}
{"duration":1003,"fileSize":1024,"isVoiceInput":false,"level":"info","message":"HuggingFace TTS completed","model":"facebook/mms-tts-eng","outputPath":"/tmp/1734089358634_huggingface.wav","retries":0,"timestamp":"2024-12-13T11:29:19.637Z"}
{"bufferSize":97920,"filepath":"/tmp/1734089382933.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T11:29:42.934Z","userId":"422749762060550154"}
{"error":"WAV file not created: /tmp/1734089382933.wav","guildId":"1203065884990644245","level":"error","message":"Error processing audio buffer","timestamp":"2024-12-13T11:29:42.948Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T11:29:44.128Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T11:29:44.236Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T11:30:25.404Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T11:30:25.518Z","userId":"422749762060550154"}
{"level":"info","message":"Registering slash commands...","timestamp":"2024-12-13T11:31:04.865Z"}
{"level":"info","message":"Web server listening on port 3000","timestamp":"2024-12-13T11:31:04.868Z"}
{"level":"info","message":"Slash commands registered successfully","timestamp":"2024-12-13T11:31:05.854Z"}
{"level":"error","message":"Discord client error: settings.setChannel is not a function","stack":"TypeError: settings.setChannel is not a function\n    at Client.<anonymous> (/usr/src/app/src/index.js:119:16)\n    at Client.emit (node:events:517:28)\n    at VoiceStateUpdate.handle (/usr/src/app/node_modules/discord.js/src/client/actions/VoiceStateUpdate.js:38:14)\n    at module.exports [as VOICE_STATE_UPDATE] (/usr/src/app/node_modules/discord.js/src/client/websocket/handlers/VOICE_STATE_UPDATE.js:4:35)\n    at WebSocketManager.handlePacket (/usr/src/app/node_modules/discord.js/src/client/websocket/WebSocketManager.js:348:31)\n    at WebSocketManager.<anonymous> (/usr/src/app/node_modules/discord.js/src/client/websocket/WebSocketManager.js:232:12)\n    at WebSocketManager.emit (/usr/src/app/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.<anonymous> (/usr/src/app/node_modules/@discordjs/ws/dist/index.js:1190:51)\n    at WebSocketShard.emit (/usr/src/app/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.onMessage (/usr/src/app/node_modules/@discordjs/ws/dist/index.js:1005:14)","timestamp":"2024-12-13T11:31:08.825Z"}
{"channelId":"1203065885435101268","event":"joining_channel","guildId":"1203065884990644245","level":"info","message":"Voice event: joining_channel","timestamp":"2024-12-13T11:31:11.331Z","userId":"422749762060550154"}
{"channelId":"1203065885435101268","guildId":"1203065884990644245","level":"info","message":"Voice connection ready","timestamp":"2024-12-13T11:31:11.334Z"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T11:31:11.677Z","userId":"422749762060550154"}
{"bufferSize":97920,"filepath":"/tmp/1734089474866.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T11:31:14.866Z","userId":"422749762060550154"}
{"event":"transcribe_start","guildId":"1203065884990644245","level":"info","message":"Voice event: transcribe_start","timestamp":"2024-12-13T11:31:14.873Z","userId":"422749762060550154"}
{"event":"transcribe_success","guildId":"1203065884990644245","length":4,"level":"info","message":"Voice event: transcribe_success","timestamp":"2024-12-13T11:31:16.268Z","userId":"422749762060550154"}
{"isVoiceInput":true,"level":"info","message":"TTS generation started","textLength":26,"timestamp":"2024-12-13T11:31:17.002Z"}
{"isVoiceInput":true,"level":"info","message":"ElevenLabs TTS started","textLength":26,"timestamp":"2024-12-13T11:31:17.003Z"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T11:31:17.771Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T11:31:17.878Z","userId":"422749762060550154"}
{"duration":1046,"fileSize":25077,"isVoiceInput":true,"level":"info","message":"ElevenLabs TTS completed","outputPath":"/tmp/1734089477779_elevenlabs.mp3","timestamp":"2024-12-13T11:31:18.050Z"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T11:31:20.630Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T11:31:20.736Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T11:31:37.417Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T11:31:37.524Z","userId":"422749762060550154"}
{"allowedUsers":0,"guildId":"1203065884990644245","hasAdmin":false,"level":"info","message":"Server settings saved","settingsSize":34,"timestamp":"2024-12-13T11:31:42.068Z"}
{"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"no I said what are you doing?","timestamp":"2024-12-13T11:31:53.670Z","userId":"422749762060550154"}
{"isVoiceInput":false,"level":"info","message":"TTS generation started","textLength":65,"timestamp":"2024-12-13T11:31:53.672Z"}
{"isVoiceInput":false,"level":"info","maxRetries":2,"message":"HuggingFace TTS started","model":"facebook/mms-tts-eng","textLength":65,"timestamp":"2024-12-13T11:31:53.672Z"}
{"duration":1005,"fileSize":1024,"isVoiceInput":false,"level":"info","message":"HuggingFace TTS completed","model":"facebook/mms-tts-eng","outputPath":"/tmp/1734089513673_huggingface.wav","retries":0,"timestamp":"2024-12-13T11:31:54.678Z"}
{"isVoiceInput":false,"level":"info","message":"TTS generation started","textLength":140,"timestamp":"2024-12-13T11:31:55.914Z"}
{"isVoiceInput":false,"level":"info","maxRetries":2,"message":"HuggingFace TTS started","model":"facebook/mms-tts-eng","textLength":140,"timestamp":"2024-12-13T11:31:55.914Z"}
{"duration":1002,"fileSize":1024,"isVoiceInput":false,"level":"info","message":"HuggingFace TTS completed","model":"facebook/mms-tts-eng","outputPath":"/tmp/1734089515915_huggingface.wav","retries":0,"timestamp":"2024-12-13T11:31:56.916Z"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T11:32:13.278Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T11:32:13.385Z","userId":"422749762060550154"}
{"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"what?","timestamp":"2024-12-13T11:32:30.124Z","userId":"422749762060550154"}
{"isVoiceInput":false,"level":"info","message":"TTS generation started","textLength":65,"timestamp":"2024-12-13T11:32:30.126Z"}
{"isVoiceInput":false,"level":"info","maxRetries":2,"message":"HuggingFace TTS started","model":"facebook/mms-tts-eng","textLength":65,"timestamp":"2024-12-13T11:32:30.126Z"}
{"duration":1005,"fileSize":1024,"isVoiceInput":false,"level":"info","message":"HuggingFace TTS completed","model":"facebook/mms-tts-eng","outputPath":"/tmp/1734089550127_huggingface.wav","retries":0,"timestamp":"2024-12-13T11:32:31.132Z"}
{"isVoiceInput":false,"level":"info","message":"TTS generation started","textLength":101,"timestamp":"2024-12-13T11:32:32.357Z"}
{"isVoiceInput":false,"level":"info","maxRetries":2,"message":"HuggingFace TTS started","model":"facebook/mms-tts-eng","textLength":101,"timestamp":"2024-12-13T11:32:32.358Z"}
{"duration":1006,"fileSize":1024,"isVoiceInput":false,"level":"info","message":"HuggingFace TTS completed","model":"facebook/mms-tts-eng","outputPath":"/tmp/1734089552358_huggingface.wav","retries":0,"timestamp":"2024-12-13T11:32:33.365Z"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T11:32:39.719Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T11:32:39.821Z","userId":"422749762060550154"}
{"allowedUsers":0,"guildId":"1203065884990644245","hasAdmin":false,"level":"info","message":"Server settings saved","settingsSize":34,"timestamp":"2024-12-13T11:33:05.604Z"}
{"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"tell me a story","timestamp":"2024-12-13T11:33:12.387Z","userId":"422749762060550154"}
{"isVoiceInput":false,"level":"info","message":"TTS generation started","textLength":62,"timestamp":"2024-12-13T11:33:12.388Z"}
{"isVoiceInput":false,"level":"info","maxRetries":2,"message":"HuggingFace TTS started","model":"facebook/mms-tts-eng","textLength":62,"timestamp":"2024-12-13T11:33:12.388Z"}
{"duration":1003,"fileSize":1024,"isVoiceInput":false,"level":"info","message":"HuggingFace TTS completed","model":"facebook/mms-tts-eng","outputPath":"/tmp/1734089592389_huggingface.wav","retries":0,"timestamp":"2024-12-13T11:33:13.391Z"}
{"isVoiceInput":false,"level":"info","message":"TTS generation started","textLength":319,"timestamp":"2024-12-13T11:33:15.985Z"}
{"isVoiceInput":false,"level":"info","maxRetries":2,"message":"HuggingFace TTS started","model":"facebook/mms-tts-eng","textLength":319,"timestamp":"2024-12-13T11:33:15.986Z"}
{"duration":1004,"fileSize":1024,"isVoiceInput":false,"level":"info","message":"HuggingFace TTS completed","model":"facebook/mms-tts-eng","outputPath":"/tmp/1734089595986_huggingface.wav","retries":0,"timestamp":"2024-12-13T11:33:16.990Z"}
{"bufferSize":97920,"filepath":"/tmp/1734089622278.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T11:33:42.284Z","userId":"422749762060550154"}
{"event":"transcribe_start","guildId":"1203065884990644245","level":"info","message":"Voice event: transcribe_start","timestamp":"2024-12-13T11:33:42.295Z","userId":"422749762060550154"}
{"event":"transcribe_success","guildId":"1203065884990644245","length":4,"level":"info","message":"Voice event: transcribe_success","timestamp":"2024-12-13T11:33:43.888Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T11:33:44.179Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T11:33:44.283Z","userId":"422749762060550154"}
{"isVoiceInput":true,"level":"info","message":"TTS generation started","textLength":110,"timestamp":"2024-12-13T11:33:44.849Z"}
{"isVoiceInput":true,"level":"info","message":"ElevenLabs TTS started","textLength":110,"timestamp":"2024-12-13T11:33:44.850Z"}
{"duration":1801,"fileSize":92786,"isVoiceInput":true,"level":"info","message":"ElevenLabs TTS completed","outputPath":"/tmp/1734089626405_elevenlabs.mp3","timestamp":"2024-12-13T11:33:46.652Z"}
{"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"tell me a joke with 3 words","timestamp":"2024-12-13T11:35:16.274Z","userId":"422749762060550154"}
{"isVoiceInput":false,"level":"info","message":"TTS generation started","textLength":62,"timestamp":"2024-12-13T11:35:16.277Z"}
{"isVoiceInput":false,"level":"info","maxRetries":2,"message":"HuggingFace TTS started","model":"facebook/mms-tts-eng","textLength":62,"timestamp":"2024-12-13T11:35:16.277Z"}
{"duration":1005,"fileSize":1024,"isVoiceInput":false,"level":"info","message":"HuggingFace TTS completed","model":"facebook/mms-tts-eng","outputPath":"/tmp/1734089716278_huggingface.wav","retries":0,"timestamp":"2024-12-13T11:35:17.283Z"}
{"isVoiceInput":false,"level":"info","message":"TTS generation started","textLength":61,"timestamp":"2024-12-13T11:35:18.506Z"}
{"isVoiceInput":false,"level":"info","maxRetries":2,"message":"HuggingFace TTS started","model":"facebook/mms-tts-eng","textLength":61,"timestamp":"2024-12-13T11:35:18.506Z"}
{"duration":1002,"fileSize":1024,"isVoiceInput":false,"level":"info","message":"HuggingFace TTS completed","model":"facebook/mms-tts-eng","outputPath":"/tmp/1734089718506_huggingface.wav","retries":0,"timestamp":"2024-12-13T11:35:19.508Z"}
{"level":"info","message":"Registering slash commands...","timestamp":"2024-12-13T11:37:34.416Z"}
{"level":"info","message":"Web server listening on port 3000","timestamp":"2024-12-13T11:37:34.420Z"}
{"level":"info","message":"Slash commands registered successfully","timestamp":"2024-12-13T11:37:34.879Z"}
{"level":"error","message":"Discord client error: settings.setChannel is not a function","stack":"TypeError: settings.setChannel is not a function\n    at Client.<anonymous> (/usr/src/app/src/index.js:119:16)\n    at Client.emit (node:events:517:28)\n    at VoiceStateUpdate.handle (/usr/src/app/node_modules/discord.js/src/client/actions/VoiceStateUpdate.js:38:14)\n    at module.exports [as VOICE_STATE_UPDATE] (/usr/src/app/node_modules/discord.js/src/client/websocket/handlers/VOICE_STATE_UPDATE.js:4:35)\n    at WebSocketManager.handlePacket (/usr/src/app/node_modules/discord.js/src/client/websocket/WebSocketManager.js:348:31)\n    at WebSocketManager.<anonymous> (/usr/src/app/node_modules/discord.js/src/client/websocket/WebSocketManager.js:232:12)\n    at WebSocketManager.emit (/usr/src/app/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.<anonymous> (/usr/src/app/node_modules/@discordjs/ws/dist/index.js:1190:51)\n    at WebSocketShard.emit (/usr/src/app/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.onMessage (/usr/src/app/node_modules/@discordjs/ws/dist/index.js:1005:14)","timestamp":"2024-12-13T11:37:36.944Z"}
{"channelId":"1203065885435101268","event":"joining_channel","guildId":"1203065884990644245","level":"info","message":"Voice event: joining_channel","timestamp":"2024-12-13T11:37:39.897Z","userId":"422749762060550154"}
{"channelId":"1203065885435101268","guildId":"1203065884990644245","level":"info","message":"Voice connection ready","timestamp":"2024-12-13T11:37:39.902Z"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T11:37:40.278Z","userId":"422749762060550154"}
{"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"hello","timestamp":"2024-12-13T11:37:48.521Z","userId":"422749762060550154"}
{"isVoiceInput":false,"level":"info","message":"TTS generation started","textLength":62,"timestamp":"2024-12-13T11:37:48.522Z"}
{"isVoiceInput":false,"level":"info","maxRetries":2,"message":"HuggingFace TTS started","model":"facebook/mms-tts-eng","textLength":62,"timestamp":"2024-12-13T11:37:48.524Z"}
{"error":"HuggingFace API error: Bad Request","level":"warn","maxRetries":2,"message":"HuggingFace TTS retry","retry":1,"timestamp":"2024-12-13T11:37:49.164Z"}
{"error":"HuggingFace API error: Bad Request","level":"warn","maxRetries":2,"message":"HuggingFace TTS retry","retry":2,"timestamp":"2024-12-13T11:37:50.620Z"}
{"error":"HuggingFace API error: Bad Request","level":"error","message":"TTS generation failed","provider":"huggingface_facebook","textLength":62,"timestamp":"2024-12-13T11:37:53.092Z"}
{"error":"HuggingFace API error: Bad Request","level":"error","message":"Error handling message","timestamp":"2024-12-13T11:37:53.093Z"}
{"level":"info","message":"Registering slash commands...","timestamp":"2024-12-13T11:38:50.245Z"}
{"level":"info","message":"Web server listening on port 3000","timestamp":"2024-12-13T11:38:50.304Z"}
{"level":"info","message":"Slash commands registered successfully","timestamp":"2024-12-13T11:38:50.754Z"}
{"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"helloo","timestamp":"2024-12-13T11:38:55.155Z","userId":"422749762060550154"}
{"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"tell me a recipe with eggs","timestamp":"2024-12-13T11:39:23.235Z","userId":"422749762060550154"}
{"allowedUsers":0,"guildId":"1203065884990644245","hasAdmin":false,"level":"info","message":"Server settings saved","settingsSize":34,"timestamp":"2024-12-13T11:39:38.327Z"}
{"allowedUsers":0,"guildId":"1203065884990644245","hasAdmin":false,"level":"info","message":"Server settings saved","settingsSize":34,"timestamp":"2024-12-13T11:40:00.934Z"}
{"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"hello","timestamp":"2024-12-13T11:40:07.464Z","userId":"422749762060550154"}
{"level":"error","message":"Discord client error: settings.setChannel is not a function","stack":"TypeError: settings.setChannel is not a function\n    at Client.<anonymous> (/usr/src/app/src/index.js:119:16)\n    at Client.emit (node:events:517:28)\n    at VoiceStateUpdate.handle (/usr/src/app/node_modules/discord.js/src/client/actions/VoiceStateUpdate.js:38:14)\n    at module.exports [as VOICE_STATE_UPDATE] (/usr/src/app/node_modules/discord.js/src/client/websocket/handlers/VOICE_STATE_UPDATE.js:4:35)\n    at WebSocketManager.handlePacket (/usr/src/app/node_modules/discord.js/src/client/websocket/WebSocketManager.js:348:31)\n    at WebSocketManager.<anonymous> (/usr/src/app/node_modules/discord.js/src/client/websocket/WebSocketManager.js:232:12)\n    at WebSocketManager.emit (/usr/src/app/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.<anonymous> (/usr/src/app/node_modules/@discordjs/ws/dist/index.js:1190:51)\n    at WebSocketShard.emit (/usr/src/app/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.onMessage (/usr/src/app/node_modules/@discordjs/ws/dist/index.js:1005:14)","timestamp":"2024-12-13T11:40:15.552Z"}
{"level":"info","message":"Registering slash commands...","timestamp":"2024-12-13T11:41:38.844Z"}
{"level":"info","message":"Web server listening on port 3000","timestamp":"2024-12-13T11:41:38.846Z"}
{"level":"info","message":"Slash commands registered successfully","timestamp":"2024-12-13T11:41:39.206Z"}
{"channelId":"1203065885435101268","event":"joining_channel","guildId":"1203065884990644245","level":"info","message":"Voice event: joining_channel","timestamp":"2024-12-13T11:41:44.687Z","userId":"422749762060550154"}
{"channelId":"1203065885435101268","guildId":"1203065884990644245","level":"info","message":"Voice connection ready","timestamp":"2024-12-13T11:41:44.690Z"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T11:41:45.008Z","userId":"422749762060550154"}
{"bufferSize":97920,"filepath":"/tmp/1734090107131.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T11:41:47.131Z","userId":"422749762060550154"}
{"event":"transcribe_start","guildId":"1203065884990644245","level":"info","message":"Voice event: transcribe_start","timestamp":"2024-12-13T11:41:47.138Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T11:41:48.069Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T11:41:48.174Z","userId":"422749762060550154"}
{"event":"transcribe_success","guildId":"1203065884990644245","length":8,"level":"info","message":"Voice event: transcribe_success","timestamp":"2024-12-13T11:41:48.271Z","userId":"422749762060550154"}
{"isVoiceInput":true,"level":"info","message":"TTS generation started","textLength":26,"timestamp":"2024-12-13T11:41:49.035Z"}
{"isVoiceInput":true,"level":"info","message":"ElevenLabs TTS started","textLength":26,"timestamp":"2024-12-13T11:41:49.037Z"}
{"duration":1021,"fileSize":22987,"isVoiceInput":true,"level":"info","message":"ElevenLabs TTS completed","outputPath":"/tmp/1734090109835_elevenlabs.mp3","timestamp":"2024-12-13T11:41:50.059Z"}
{"audioPath":"/tmp/1734090109835_elevenlabs.mp3","level":"info","message":"Playing audio response","timestamp":"2024-12-13T11:41:50.060Z"}
{"audioPath":"/tmp/1734090109835_elevenlabs.mp3","level":"info","message":"Started playing audio","timestamp":"2024-12-13T11:41:50.081Z"}
{"audioPath":"/tmp/1734090109835_elevenlabs.mp3","level":"info","message":"Finished playing audio","timestamp":"2024-12-13T11:41:51.623Z"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T11:41:52.215Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T11:41:52.319Z","userId":"422749762060550154"}
{"allowedUsers":0,"guildId":"1203065884990644245","hasAdmin":false,"level":"info","message":"Server settings saved","settingsSize":34,"timestamp":"2024-12-13T11:42:00.219Z"}
{"bufferSize":97920,"filepath":"/tmp/1734090123962.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T11:42:03.962Z","userId":"422749762060550154"}
{"event":"transcribe_start","guildId":"1203065884990644245","level":"info","message":"Voice event: transcribe_start","timestamp":"2024-12-13T11:42:03.967Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T11:42:05.236Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T11:42:05.341Z","userId":"422749762060550154"}
{"event":"transcribe_success","guildId":"1203065884990644245","length":16,"level":"info","message":"Voice event: transcribe_success","timestamp":"2024-12-13T11:42:05.573Z","userId":"422749762060550154"}
{"isVoiceInput":true,"level":"info","message":"TTS generation started","textLength":35,"timestamp":"2024-12-13T11:42:06.746Z"}
{"isVoiceInput":true,"level":"info","message":"ElevenLabs TTS started","textLength":35,"timestamp":"2024-12-13T11:42:06.747Z"}
{"duration":1123,"fileSize":28003,"isVoiceInput":true,"level":"info","message":"ElevenLabs TTS completed","outputPath":"/tmp/1734090127594_elevenlabs.mp3","timestamp":"2024-12-13T11:42:07.869Z"}
{"audioPath":"/tmp/1734090127594_elevenlabs.mp3","level":"info","message":"Playing audio response","timestamp":"2024-12-13T11:42:07.870Z"}
{"audioPath":"/tmp/1734090127594_elevenlabs.mp3","level":"info","message":"Started playing audio","timestamp":"2024-12-13T11:42:07.889Z"}
{"audioPath":"/tmp/1734090127594_elevenlabs.mp3","level":"info","message":"Finished playing audio","timestamp":"2024-12-13T11:42:09.750Z"}
{"level":"info","message":"Registering slash commands...","timestamp":"2024-12-13T11:56:16.246Z"}
{"level":"info","message":"Web server listening on port 3000","timestamp":"2024-12-13T11:56:16.249Z"}
{"level":"info","message":"Slash commands registered successfully","timestamp":"2024-12-13T11:56:16.664Z"}
{"channelId":"1203065885435101268","event":"joining_channel","guildId":"1203065884990644245","level":"info","message":"Voice event: joining_channel","timestamp":"2024-12-13T11:56:22.253Z","userId":"422749762060550154"}
{"channelId":"1203065885435101268","guildId":"1203065884990644245","level":"info","message":"Voice connection ready","timestamp":"2024-12-13T11:56:22.256Z"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T11:56:22.593Z","userId":"422749762060550154"}
{"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"hello","timestamp":"2024-12-13T11:56:29.700Z","userId":"422749762060550154"}
{"isVoiceInput":false,"level":"info","message":"TTS generation started","textLength":62,"timestamp":"2024-12-13T11:56:29.701Z"}
{"isVoiceInput":false,"level":"info","maxRetries":2,"message":"HuggingFace TTS started","model":"facebook/mms-tts-eng","textLength":62,"timestamp":"2024-12-13T11:56:29.703Z"}
{"error":"HuggingFace API error: Bad Request","level":"warn","maxRetries":2,"message":"HuggingFace TTS retry","retry":1,"timestamp":"2024-12-13T11:56:30.231Z"}
{"error":"HuggingFace API error: Bad Request","level":"warn","maxRetries":2,"message":"HuggingFace TTS retry","retry":2,"timestamp":"2024-12-13T11:56:31.693Z"}
{"error":"HuggingFace API error: Bad Request","level":"error","message":"TTS generation failed","provider":"huggingface_facebook","textLength":62,"timestamp":"2024-12-13T11:56:34.150Z"}
{"error":"HuggingFace API error: Bad Request","guildId":"1203065884990644245","level":"error","message":"Error handling message","timestamp":"2024-12-13T11:56:34.151Z","userId":"422749762060550154"}
{"bufferSize":97920,"filepath":"/tmp/1734091001683.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T11:56:41.683Z","userId":"422749762060550154"}
{"error":"WAV file not created: /tmp/1734091001683.wav","guildId":"1203065884990644245","level":"error","message":"Error processing audio buffer","timestamp":"2024-12-13T11:56:41.692Z","userId":"422749762060550154"}
{"bufferSize":97920,"filepath":"/tmp/1734091002703.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T11:56:42.703Z","userId":"422749762060550154"}
{"event":"transcribe_start","guildId":"1203065884990644245","level":"info","message":"Voice event: transcribe_start","timestamp":"2024-12-13T11:56:42.708Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T11:56:43.828Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T11:56:43.935Z","userId":"422749762060550154"}
{"error":"Failed to transcribe audio","guildId":"1203065884990644245","level":"error","message":"Error processing audio buffer","timestamp":"2024-12-13T11:56:44.846Z","userId":"422749762060550154"}
{"bufferSize":97920,"filepath":"/tmp/1734091008986.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T11:56:48.986Z","userId":"422749762060550154"}
{"event":"transcribe_start","guildId":"1203065884990644245","level":"info","message":"Voice event: transcribe_start","timestamp":"2024-12-13T11:56:48.990Z","userId":"422749762060550154"}
{"error":"400 Invalid file format. Supported formats: ['flac', 'm4a', 'mp3', 'mp4', 'mpeg', 'mpga', 'oga', 'ogg', 'wav', 'webm']","level":"error","message":"Error transcribing audio","timestamp":"2024-12-13T11:56:49.403Z"}
{"error":"400 Invalid file format. Supported formats: ['flac', 'm4a', 'mp3', 'mp4', 'mpeg', 'mpga', 'oga', 'ogg', 'wav', 'webm']","guildId":"1203065884990644245","level":"error","message":"Error processing audio buffer","timestamp":"2024-12-13T11:56:49.403Z","userId":"422749762060550154"}
{"bufferSize":97920,"filepath":"/tmp/1734091010003.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T11:56:50.003Z","userId":"422749762060550154"}
{"event":"transcribe_start","guildId":"1203065884990644245","level":"info","message":"Voice event: transcribe_start","timestamp":"2024-12-13T11:56:50.005Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T11:56:51.045Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T11:56:51.150Z","userId":"422749762060550154"}
{"event":"transcribe_success","guildId":"1203065884990644245","length":12,"level":"info","message":"Voice event: transcribe_success","timestamp":"2024-12-13T11:56:52.028Z","userId":"422749762060550154"}
{"bufferSize":97920,"filepath":"/tmp/1734091012264.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T11:56:52.264Z","userId":"422749762060550154"}
{"error":"WAV file not created: /tmp/1734091012264.wav","guildId":"1203065884990644245","level":"error","message":"Error processing audio buffer","timestamp":"2024-12-13T11:56:52.267Z","userId":"422749762060550154"}
{"isVoiceInput":true,"level":"info","message":"TTS generation started","textLength":94,"timestamp":"2024-12-13T11:56:52.914Z"}
{"isVoiceInput":true,"level":"info","message":"ElevenLabs TTS started","textLength":94,"timestamp":"2024-12-13T11:56:52.915Z"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T11:56:53.846Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T11:56:53.955Z","userId":"422749762060550154"}
{"duration":1639,"fileSize":78576,"isVoiceInput":true,"level":"info","message":"ElevenLabs TTS completed","outputPath":"/tmp/1734091014311_elevenlabs.mp3","timestamp":"2024-12-13T11:56:54.555Z"}
{"audioPath":"/tmp/1734091014311_elevenlabs.mp3","level":"info","message":"Playing audio response","timestamp":"2024-12-13T11:56:54.557Z"}
{"audioPath":"/tmp/1734091014311_elevenlabs.mp3","level":"info","message":"Started playing audio","timestamp":"2024-12-13T11:56:54.585Z"}
{"audioPath":"/tmp/1734091014311_elevenlabs.mp3","level":"info","message":"Finished playing audio","timestamp":"2024-12-13T11:56:59.605Z"}
{"allowedUsers":0,"guildId":"1203065884990644245","hasAdmin":false,"level":"info","message":"Server settings saved","settingsSize":34,"timestamp":"2024-12-13T11:59:06.592Z"}
{"allowedUsers":0,"guildId":"1203065884990644245","hasAdmin":false,"level":"info","message":"Server settings saved","settingsSize":34,"timestamp":"2024-12-13T11:59:55.306Z"}
{"allowedUsers":0,"guildId":"1203065884990644245","hasAdmin":false,"level":"info","message":"Server settings saved","settingsSize":34,"timestamp":"2024-12-13T12:00:10.421Z"}
{"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"tell me a joke","timestamp":"2024-12-13T12:00:52.912Z","userId":"422749762060550154"}
{"isVoiceInput":false,"level":"info","message":"TTS generation started","textLength":62,"timestamp":"2024-12-13T12:00:52.915Z"}
{"isVoiceInput":false,"level":"info","maxRetries":2,"message":"HuggingFace TTS started","model":"facebook/mms-tts-eng","textLength":62,"timestamp":"2024-12-13T12:00:52.915Z"}
{"error":"HuggingFace API error: Bad Request","level":"warn","maxRetries":2,"message":"HuggingFace TTS retry","retry":1,"timestamp":"2024-12-13T12:00:53.784Z"}
{"error":"HuggingFace API error: Bad Request","level":"warn","maxRetries":2,"message":"HuggingFace TTS retry","retry":2,"timestamp":"2024-12-13T12:00:55.218Z"}
{"error":"HuggingFace API error: Bad Request","level":"error","message":"TTS generation failed","provider":"huggingface_facebook","textLength":62,"timestamp":"2024-12-13T12:00:57.740Z"}
{"error":"HuggingFace API error: Bad Request","guildId":"1203065884990644245","level":"error","message":"Error handling message","timestamp":"2024-12-13T12:00:57.741Z","userId":"422749762060550154"}
{"allowedUsers":0,"guildId":"1203065884990644245","hasAdmin":false,"level":"info","message":"Server settings saved","settingsSize":34,"timestamp":"2024-12-13T12:01:21.498Z"}
{"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"tell me an entrepreneur joke","timestamp":"2024-12-13T12:01:32.407Z","userId":"422749762060550154"}
{"isVoiceInput":false,"level":"info","message":"TTS generation started","textLength":62,"timestamp":"2024-12-13T12:01:32.408Z"}
{"isVoiceInput":false,"level":"info","maxRetries":2,"message":"HuggingFace TTS started","model":"facebook/mms-tts-eng","textLength":62,"timestamp":"2024-12-13T12:01:32.408Z"}
{"error":"HuggingFace API error: Bad Request","level":"warn","maxRetries":2,"message":"HuggingFace TTS retry","retry":1,"timestamp":"2024-12-13T12:01:32.868Z"}
{"error":"HuggingFace API error: Bad Request","level":"warn","maxRetries":2,"message":"HuggingFace TTS retry","retry":2,"timestamp":"2024-12-13T12:01:34.319Z"}
{"error":"HuggingFace API error: Bad Request","level":"error","message":"TTS generation failed","provider":"huggingface_facebook","textLength":62,"timestamp":"2024-12-13T12:01:36.787Z"}
{"error":"HuggingFace API error: Bad Request","guildId":"1203065884990644245","level":"error","message":"Error handling message","timestamp":"2024-12-13T12:01:36.788Z","userId":"422749762060550154"}
{"level":"info","message":"Registering slash commands...","timestamp":"2024-12-13T12:05:39.910Z"}
{"level":"info","message":"Web server listening on port 3000","timestamp":"2024-12-13T12:05:39.936Z"}
{"level":"info","message":"Slash commands registered successfully","timestamp":"2024-12-13T12:05:40.484Z"}
{"allowedUsers":0,"guildId":"1203065884990644245","hasAdmin":false,"level":"info","message":"Server settings saved","settingsSize":78,"timestamp":"2024-12-13T12:06:01.419Z"}
{"channelId":"1203065885435101268","event":"joining_channel","guildId":"1203065884990644245","level":"info","message":"Voice event: joining_channel","timestamp":"2024-12-13T12:06:04.763Z","userId":"422749762060550154"}
{"channelId":"1203065885435101268","guildId":"1203065884990644245","level":"info","message":"Voice connection ready","timestamp":"2024-12-13T12:06:04.766Z"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T12:06:05.137Z","userId":"422749762060550154"}
{"bufferSize":97920,"filepath":"/tmp/1734091567325.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T12:06:07.325Z","userId":"422749762060550154"}
{"event":"transcribe_start","guildId":"1203065884990644245","level":"info","message":"Voice event: transcribe_start","timestamp":"2024-12-13T12:06:07.333Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T12:06:08.685Z","userId":"422749762060550154"}
{"event":"transcribe_success","guildId":"1203065884990644245","length":14,"level":"info","message":"Voice event: transcribe_success","timestamp":"2024-12-13T12:06:08.700Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T12:06:08.796Z","userId":"422749762060550154"}
{"isVoiceInput":true,"level":"info","message":"TTS generation started","textLength":364,"timestamp":"2024-12-13T12:06:10.006Z"}
{"isVoiceInput":true,"level":"info","message":"ElevenLabs TTS started","textLength":364,"timestamp":"2024-12-13T12:06:10.007Z"}
{"duration":4803,"fileSize":347742,"isVoiceInput":true,"level":"info","message":"ElevenLabs TTS completed","outputPath":"/tmp/1734091574574_elevenlabs.mp3","timestamp":"2024-12-13T12:06:14.810Z"}
{"audioPath":"/tmp/1734091574574_elevenlabs.mp3","level":"info","message":"Playing audio response","timestamp":"2024-12-13T12:06:14.811Z"}
{"audioPath":"/tmp/1734091574574_elevenlabs.mp3","level":"info","message":"Started playing audio","timestamp":"2024-12-13T12:06:14.835Z"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T12:06:16.423Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T12:06:16.526Z","userId":"422749762060550154"}
{"allowedUsers":0,"guildId":"1203065884990644245","hasAdmin":false,"level":"info","message":"Server settings saved","settingsSize":78,"timestamp":"2024-12-13T12:06:35.052Z"}
{"audioPath":"/tmp/1734091574574_elevenlabs.mp3","level":"info","message":"Finished playing audio","timestamp":"2024-12-13T12:06:36.676Z"}
{"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"yes","timestamp":"2024-12-13T12:06:44.189Z","userId":"422749762060550154"}
{"isVoiceInput":false,"level":"info","message":"TTS generation started","textLength":62,"timestamp":"2024-12-13T12:06:44.190Z"}
{"isVoiceInput":false,"level":"info","maxRetries":2,"message":"HuggingFace TTS started","model":"facebook/mms-tts-eng","textLength":62,"timestamp":"2024-12-13T12:06:44.191Z"}
{"error":"HuggingFace API error: Bad Request","level":"warn","maxRetries":2,"message":"HuggingFace TTS retry","retry":1,"timestamp":"2024-12-13T12:06:44.764Z"}
{"error":"HuggingFace API error: Bad Request","level":"warn","maxRetries":2,"message":"HuggingFace TTS retry","retry":2,"timestamp":"2024-12-13T12:06:46.198Z"}
{"error":"HuggingFace API error: Bad Request","level":"error","message":"TTS generation failed","provider":"huggingface_facebook","textLength":62,"timestamp":"2024-12-13T12:06:48.666Z"}
{"error":"HuggingFace API error: Bad Request","guildId":"1203065884990644245","level":"error","message":"Error handling message","timestamp":"2024-12-13T12:06:48.667Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T12:06:53.762Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T12:06:53.868Z","userId":"422749762060550154"}
{"bufferSize":97920,"filepath":"/tmp/1734091615102.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T12:06:55.102Z","userId":"422749762060550154"}
{"event":"transcribe_start","guildId":"1203065884990644245","level":"info","message":"Voice event: transcribe_start","timestamp":"2024-12-13T12:06:55.105Z","userId":"422749762060550154"}
{"event":"transcribe_success","guildId":"1203065884990644245","length":16,"level":"info","message":"Voice event: transcribe_success","timestamp":"2024-12-13T12:06:56.309Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T12:06:56.626Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T12:06:56.732Z","userId":"422749762060550154"}
{"isVoiceInput":true,"level":"info","message":"TTS generation started","textLength":76,"timestamp":"2024-12-13T12:06:57.319Z"}
{"isVoiceInput":true,"level":"info","message":"ElevenLabs TTS started","textLength":76,"timestamp":"2024-12-13T12:06:57.319Z"}
{"duration":1397,"fileSize":57260,"isVoiceInput":true,"level":"info","message":"ElevenLabs TTS completed","outputPath":"/tmp/1734091618527_elevenlabs.mp3","timestamp":"2024-12-13T12:06:58.716Z"}
{"audioPath":"/tmp/1734091618527_elevenlabs.mp3","level":"info","message":"Playing audio response","timestamp":"2024-12-13T12:06:58.717Z"}
{"audioPath":"/tmp/1734091618527_elevenlabs.mp3","level":"info","message":"Started playing audio","timestamp":"2024-12-13T12:06:58.733Z"}
{"audioPath":"/tmp/1734091618527_elevenlabs.mp3","level":"info","message":"Finished playing audio","timestamp":"2024-12-13T12:07:02.406Z"}
{"level":"info","message":"Registering slash commands...","timestamp":"2024-12-13T12:11:48.454Z"}
{"level":"info","message":"Web server listening on port 3000","timestamp":"2024-12-13T12:11:48.458Z"}
{"level":"info","message":"Slash commands registered successfully","timestamp":"2024-12-13T12:11:48.852Z"}
{"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"hello","timestamp":"2024-12-13T12:11:54.157Z","userId":"422749762060550154"}
{"allowedUsers":0,"guildId":"1203065884990644245","hasAdmin":false,"level":"info","message":"Server settings saved","settingsSize":78,"timestamp":"2024-12-13T12:12:15.143Z"}
{"allowedUsers":0,"guildId":"1203065884990644245","hasAdmin":false,"level":"info","message":"Server settings saved","settingsSize":78,"timestamp":"2024-12-13T12:13:17.910Z"}
{"level":"error","message":"Discord client error: commandHandler.handleCommand is not a function","stack":"TypeError: commandHandler.handleCommand is not a function\n    at Client.<anonymous> (/usr/src/app/src/index.js:99:26)\n    at Client.emit (node:events:517:28)\n    at MessageCreateAction.handle (/usr/src/app/node_modules/discord.js/src/client/actions/MessageCreate.js:32:14)\n    at module.exports [as MESSAGE_CREATE] (/usr/src/app/node_modules/discord.js/src/client/websocket/handlers/MESSAGE_CREATE.js:4:32)\n    at WebSocketManager.handlePacket (/usr/src/app/node_modules/discord.js/src/client/websocket/WebSocketManager.js:348:31)\n    at WebSocketManager.<anonymous> (/usr/src/app/node_modules/discord.js/src/client/websocket/WebSocketManager.js:232:12)\n    at WebSocketManager.emit (/usr/src/app/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.<anonymous> (/usr/src/app/node_modules/@discordjs/ws/dist/index.js:1190:51)\n    at WebSocketShard.emit (/usr/src/app/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.onMessage (/usr/src/app/node_modules/@discordjs/ws/dist/index.js:1005:14)","timestamp":"2024-12-13T12:13:26.428Z"}
{"channelId":"1203065885435101268","event":"joining_channel","guildId":"1203065884990644245","level":"info","message":"Voice event: joining_channel","timestamp":"2024-12-13T12:13:31.598Z","userId":"422749762060550154"}
{"channelId":"1203065885435101268","guildId":"1203065884990644245","level":"info","message":"Voice connection ready","timestamp":"2024-12-13T12:13:31.610Z"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T12:13:31.988Z","userId":"422749762060550154"}
{"bufferSize":97920,"filepath":"/tmp/1734092015808.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T12:13:35.809Z","userId":"422749762060550154"}
{"error":"WAV file not created: /tmp/1734092015808.wav","guildId":"1203065884990644245","level":"error","message":"Error processing audio buffer","timestamp":"2024-12-13T12:13:35.815Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T12:13:37.288Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T12:13:37.396Z","userId":"422749762060550154"}
{"bufferSize":96960,"filepath":"/tmp/1734092019806.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T12:13:39.806Z","userId":"422749762060550154"}
{"error":"WAV file not created: /tmp/1734092019806.wav","guildId":"1203065884990644245","level":"error","message":"Error processing audio buffer","timestamp":"2024-12-13T12:13:39.811Z","userId":"422749762060550154"}
{"bufferSize":96960,"filepath":"/tmp/1734092020817.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T12:13:40.817Z","userId":"422749762060550154"}
{"error":"WAV file not created: /tmp/1734092020817.wav","guildId":"1203065884990644245","level":"error","message":"Error processing audio buffer","timestamp":"2024-12-13T12:13:40.819Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T12:13:41.965Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T12:13:42.071Z","userId":"422749762060550154"}
{"bufferSize":97920,"filepath":"/tmp/1734092024322.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T12:13:44.323Z","userId":"422749762060550154"}
{"error":"WAV file not created: /tmp/1734092024322.wav","guildId":"1203065884990644245","level":"error","message":"Error processing audio buffer","timestamp":"2024-12-13T12:13:44.326Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T12:13:45.461Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T12:13:45.566Z","userId":"422749762060550154"}
{"bufferSize":97920,"filepath":"/tmp/1734092027520.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T12:13:47.520Z","userId":"422749762060550154"}
{"event":"transcribe_start","guildId":"1203065884990644245","level":"info","message":"Voice event: transcribe_start","timestamp":"2024-12-13T12:13:47.522Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T12:13:48.704Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T12:13:48.811Z","userId":"422749762060550154"}
{"event":"transcribe_success","guildId":"1203065884990644245","length":12,"level":"info","message":"Voice event: transcribe_success","timestamp":"2024-12-13T12:13:49.755Z","userId":"422749762060550154"}
{"isVoiceInput":true,"level":"info","message":"TTS generation started","provider":"huggingface_facebook","textLength":159,"timestamp":"2024-12-13T12:13:50.744Z"}
{"isVoiceInput":true,"level":"info","maxRetries":2,"message":"HuggingFace TTS started","model":"facebook/mms-tts-eng","textLength":159,"timestamp":"2024-12-13T12:13:50.745Z"}
{"error":"HuggingFace API error: Bad Request","level":"warn","maxRetries":2,"message":"HuggingFace TTS retry","retry":1,"timestamp":"2024-12-13T12:13:51.317Z"}
{"error":"HuggingFace API error: Bad Request","level":"warn","maxRetries":2,"message":"HuggingFace TTS retry","retry":2,"timestamp":"2024-12-13T12:13:52.783Z"}
{"error":"HuggingFace API error: Bad Request","isVoiceInput":true,"level":"warn","message":"HuggingFace TTS failed, trying FastSpeech2","timestamp":"2024-12-13T12:13:55.246Z"}
{"isVoiceInput":true,"level":"info","maxRetries":2,"message":"FastSpeech2 TTS started","model":"facebook/fastspeech2-en-ljspeech","textLength":159,"timestamp":"2024-12-13T12:13:55.247Z"}
{"error":"FastSpeech2 API error: Bad Request","level":"warn","maxRetries":2,"message":"FastSpeech2 TTS retry","retry":1,"timestamp":"2024-12-13T12:13:55.721Z"}
{"error":"FastSpeech2 API error: Bad Request","level":"warn","maxRetries":2,"message":"FastSpeech2 TTS retry","retry":2,"timestamp":"2024-12-13T12:13:58.199Z"}
{"error":"FastSpeech2 API error: Bad Request","isVoiceInput":true,"level":"warn","message":"FastSpeech2 TTS failed, falling back to ElevenLabs","timestamp":"2024-12-13T12:14:02.661Z"}
{"isVoiceInput":true,"level":"info","message":"ElevenLabs TTS started","textLength":159,"timestamp":"2024-12-13T12:14:02.663Z"}
{"duration":2252,"fileSize":144195,"isVoiceInput":true,"level":"info","message":"ElevenLabs TTS completed","outputPath":"/tmp/1734092044716_elevenlabs.mp3","timestamp":"2024-12-13T12:14:04.916Z"}
{"audioPath":"/tmp/1734092044716_elevenlabs.mp3","level":"info","message":"Playing audio response","timestamp":"2024-12-13T12:14:04.919Z"}
{"audioPath":"/tmp/1734092044716_elevenlabs.mp3","level":"info","message":"Started playing audio","timestamp":"2024-12-13T12:14:04.948Z"}
{"bufferSize":97920,"filepath":"/tmp/1734092047321.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T12:14:07.321Z","userId":"422749762060550154"}
{"error":"WAV file not created: /tmp/1734092047321.wav","guildId":"1203065884990644245","level":"error","message":"Error processing audio buffer","timestamp":"2024-12-13T12:14:07.324Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T12:14:08.481Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T12:14:08.587Z","userId":"422749762060550154"}
{"audioPath":"/tmp/1734092044716_elevenlabs.mp3","level":"info","message":"Finished playing audio","timestamp":"2024-12-13T12:14:14.064Z"}
{"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"what are spacex missions?","timestamp":"2024-12-13T12:15:24.820Z","userId":"422749762060550154"}
{"isVoiceInput":false,"level":"info","message":"TTS generation started","provider":"huggingface_facebook","textLength":65,"timestamp":"2024-12-13T12:15:24.831Z"}
{"isVoiceInput":false,"level":"info","maxRetries":2,"message":"HuggingFace TTS started","model":"facebook/mms-tts-eng","textLength":65,"timestamp":"2024-12-13T12:15:24.831Z"}
{"error":"HuggingFace API error: Bad Request","level":"warn","maxRetries":2,"message":"HuggingFace TTS retry","retry":1,"timestamp":"2024-12-13T12:15:25.308Z"}
{"error":"HuggingFace API error: Bad Request","level":"warn","maxRetries":2,"message":"HuggingFace TTS retry","retry":2,"timestamp":"2024-12-13T12:15:26.769Z"}
{"error":"HuggingFace API error: Bad Request","isVoiceInput":false,"level":"warn","message":"HuggingFace TTS failed, trying FastSpeech2","timestamp":"2024-12-13T12:15:29.254Z"}
{"isVoiceInput":false,"level":"info","maxRetries":2,"message":"FastSpeech2 TTS started","model":"facebook/fastspeech2-en-ljspeech","textLength":65,"timestamp":"2024-12-13T12:15:29.255Z"}
{"error":"FastSpeech2 API error: Bad Request","level":"warn","maxRetries":2,"message":"FastSpeech2 TTS retry","retry":1,"timestamp":"2024-12-13T12:15:29.734Z"}
{"error":"FastSpeech2 API error: Bad Request","level":"warn","maxRetries":2,"message":"FastSpeech2 TTS retry","retry":2,"timestamp":"2024-12-13T12:15:32.187Z"}
{"error":"FastSpeech2 API error: Bad Request","isVoiceInput":false,"level":"warn","message":"FastSpeech2 TTS failed, falling back to ElevenLabs","timestamp":"2024-12-13T12:15:36.662Z"}
{"isVoiceInput":false,"level":"info","message":"ElevenLabs TTS started","textLength":65,"timestamp":"2024-12-13T12:15:36.663Z"}
{"duration":1518,"fileSize":59350,"isVoiceInput":false,"level":"info","message":"ElevenLabs TTS completed","outputPath":"/tmp/1734092137958_elevenlabs.mp3","timestamp":"2024-12-13T12:15:38.181Z"}
{"audioPath":"/tmp/1734092137958_elevenlabs.mp3","level":"info","message":"Playing audio response","timestamp":"2024-12-13T12:15:38.182Z"}
{"audioPath":"/tmp/1734092137958_elevenlabs.mp3","level":"info","message":"Started playing audio","timestamp":"2024-12-13T12:15:38.246Z"}
{"audioPath":"/tmp/1734092137958_elevenlabs.mp3","level":"info","message":"Finished playing audio","timestamp":"2024-12-13T12:15:42.057Z"}
{"isVoiceInput":false,"level":"info","message":"TTS generation started","provider":"huggingface_facebook","textLength":570,"timestamp":"2024-12-13T12:15:45.091Z"}
{"isVoiceInput":false,"level":"info","maxRetries":2,"message":"HuggingFace TTS started","model":"facebook/mms-tts-eng","textLength":570,"timestamp":"2024-12-13T12:15:45.092Z"}
{"error":"HuggingFace API error: Bad Request","level":"warn","maxRetries":2,"message":"HuggingFace TTS retry","retry":1,"timestamp":"2024-12-13T12:15:45.535Z"}
{"error":"HuggingFace API error: Bad Request","level":"warn","maxRetries":2,"message":"HuggingFace TTS retry","retry":2,"timestamp":"2024-12-13T12:15:46.976Z"}
{"error":"HuggingFace API error: Bad Request","isVoiceInput":false,"level":"warn","message":"HuggingFace TTS failed, trying FastSpeech2","timestamp":"2024-12-13T12:15:49.426Z"}
{"isVoiceInput":false,"level":"info","maxRetries":2,"message":"FastSpeech2 TTS started","model":"facebook/fastspeech2-en-ljspeech","textLength":570,"timestamp":"2024-12-13T12:15:49.427Z"}
{"error":"FastSpeech2 API error: Bad Request","level":"warn","maxRetries":2,"message":"FastSpeech2 TTS retry","retry":1,"timestamp":"2024-12-13T12:15:49.887Z"}
{"error":"FastSpeech2 API error: Bad Request","level":"warn","maxRetries":2,"message":"FastSpeech2 TTS retry","retry":2,"timestamp":"2024-12-13T12:15:52.339Z"}
{"error":"FastSpeech2 API error: Bad Request","isVoiceInput":false,"level":"warn","message":"FastSpeech2 TTS failed, falling back to ElevenLabs","timestamp":"2024-12-13T12:15:56.827Z"}
{"isVoiceInput":false,"level":"info","message":"ElevenLabs TTS started","textLength":570,"timestamp":"2024-12-13T12:15:56.828Z"}
{"duration":8036,"fileSize":591412,"isVoiceInput":false,"level":"info","message":"ElevenLabs TTS completed","outputPath":"/tmp/1734092164623_elevenlabs.mp3","timestamp":"2024-12-13T12:16:04.864Z"}
{"audioPath":"/tmp/1734092164623_elevenlabs.mp3","level":"info","message":"Playing audio response","timestamp":"2024-12-13T12:16:04.864Z"}
{"audioPath":"/tmp/1734092164623_elevenlabs.mp3","level":"info","message":"Started playing audio","timestamp":"2024-12-13T12:16:04.871Z"}
{"audioPath":"/tmp/1734092164623_elevenlabs.mp3","level":"info","message":"Finished playing audio","timestamp":"2024-12-13T12:16:41.953Z"}
{"level":"info","message":"Registering slash commands...","timestamp":"2024-12-13T12:20:05.430Z"}
{"level":"info","message":"Web server listening on port 3000","timestamp":"2024-12-13T12:20:05.435Z"}
{"level":"info","message":"Slash commands registered successfully","timestamp":"2024-12-13T12:20:05.852Z"}
{"allowedUsers":0,"guildId":"1203065884990644245","hasAdmin":false,"level":"info","message":"Server settings saved","settingsSize":78,"timestamp":"2024-12-13T12:20:13.652Z"}
{"channelId":"1203065885435101268","event":"joining_channel","guildId":"1203065884990644245","level":"info","message":"Voice event: joining_channel","timestamp":"2024-12-13T12:20:16.631Z","userId":"422749762060550154"}
{"channelId":"1203065885435101268","guildId":"1203065884990644245","level":"info","message":"Voice connection ready","timestamp":"2024-12-13T12:20:16.633Z"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T12:20:17.009Z","userId":"422749762060550154"}
{"allowedUsers":0,"guildId":"1203065884990644245","hasAdmin":false,"level":"info","message":"Server settings saved","settingsSize":78,"timestamp":"2024-12-13T12:20:22.180Z"}
{"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"hello","timestamp":"2024-12-13T12:20:28.408Z","userId":"422749762060550154"}
{"isVoiceInput":false,"level":"info","message":"TTS generation started","provider":"huggingface_facebook","textLength":62,"timestamp":"2024-12-13T12:20:28.410Z"}
{"isVoiceInput":false,"level":"info","maxRetries":2,"message":"HuggingFace TTS started","model":"facebook/mms-tts-eng","requestBody":{"inputs":"I'm processing ultrainstinct0x's request, please wait briefly.","model":"facebook/mms-tts-eng","wait_for_model":true},"textLength":62,"timestamp":"2024-12-13T12:20:28.411Z"}
{"headers":{"access-control-allow-credentials":"true","connection":"close","content-length":"72","content-type":"application/json","date":"Fri, 13 Dec 2024 12:20:28 GMT","vary":"Origin, Access-Control-Request-Method, Access-Control-Request-Headers","x-request-id":"u5PwW6h2rW1Bl__PvWOIq"},"level":"error","message":"HuggingFace API error details","responseBody":"{\"error\":\"Authorization header is correct, but the token seems invalid\"}","status":400,"statusText":"Bad Request","timestamp":"2024-12-13T12:20:28.917Z"}
{"duration":507,"error":"HuggingFace API error: Bad Request - {\"error\":\"Authorization header is correct, but the token seems invalid\"}","level":"error","maxRetries":2,"message":"HuggingFace TTS error","retry":1,"stack":"Error: HuggingFace API error: Bad Request - {\"error\":\"Authorization header is correct, but the token seems invalid\"}\n    at TTSService.generateHuggingFaceTTS (/usr/src/app/src/services/ttsService.js:182:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TTSService.generateTTS (/usr/src/app/src/services/ttsService.js:29:35)\n    at async MessageHandler.handleMessage (/usr/src/app/src/handlers/messageHandler.js:44:31)\n    at async Client.<anonymous> (/usr/src/app/src/index.js:91:5)","timestamp":"2024-12-13T12:20:28.920Z"}
{"error":"HuggingFace API error: Bad Request - {\"error\":\"Authorization header is correct, but the token seems invalid\"}","level":"warn","maxRetries":2,"message":"HuggingFace TTS retry","retry":1,"timestamp":"2024-12-13T12:20:28.920Z"}
{"headers":{"access-control-allow-credentials":"true","connection":"close","content-length":"72","content-type":"application/json","date":"Fri, 13 Dec 2024 12:20:30 GMT","vary":"Origin, Access-Control-Request-Method, Access-Control-Request-Headers","x-request-id":"D1pA-lHUm5rV6-gbl7Lk9"},"level":"error","message":"HuggingFace API error details","responseBody":"{\"error\":\"Authorization header is correct, but the token seems invalid\"}","status":400,"statusText":"Bad Request","timestamp":"2024-12-13T12:20:30.388Z"}
{"duration":1978,"error":"HuggingFace API error: Bad Request - {\"error\":\"Authorization header is correct, but the token seems invalid\"}","level":"error","maxRetries":2,"message":"HuggingFace TTS error","retry":2,"stack":"Error: HuggingFace API error: Bad Request - {\"error\":\"Authorization header is correct, but the token seems invalid\"}\n    at TTSService.generateHuggingFaceTTS (/usr/src/app/src/services/ttsService.js:182:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TTSService.generateTTS (/usr/src/app/src/services/ttsService.js:29:35)\n    at async MessageHandler.handleMessage (/usr/src/app/src/handlers/messageHandler.js:44:31)\n    at async Client.<anonymous> (/usr/src/app/src/index.js:91:5)","timestamp":"2024-12-13T12:20:30.389Z"}
{"error":"HuggingFace API error: Bad Request - {\"error\":\"Authorization header is correct, but the token seems invalid\"}","level":"warn","maxRetries":2,"message":"HuggingFace TTS retry","retry":2,"timestamp":"2024-12-13T12:20:30.389Z"}
{"headers":{"access-control-allow-credentials":"true","connection":"close","content-length":"72","content-type":"application/json","date":"Fri, 13 Dec 2024 12:20:32 GMT","vary":"Origin, Access-Control-Request-Method, Access-Control-Request-Headers","x-request-id":"lRg42KQeDAAgwk3fJMSxR"},"level":"error","message":"HuggingFace API error details","responseBody":"{\"error\":\"Authorization header is correct, but the token seems invalid\"}","status":400,"statusText":"Bad Request","timestamp":"2024-12-13T12:20:32.856Z"}
{"duration":4446,"error":"HuggingFace API error: Bad Request - {\"error\":\"Authorization header is correct, but the token seems invalid\"}","level":"error","maxRetries":2,"message":"HuggingFace TTS error","retry":3,"stack":"Error: HuggingFace API error: Bad Request - {\"error\":\"Authorization header is correct, but the token seems invalid\"}\n    at TTSService.generateHuggingFaceTTS (/usr/src/app/src/services/ttsService.js:182:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TTSService.generateTTS (/usr/src/app/src/services/ttsService.js:29:35)\n    at async MessageHandler.handleMessage (/usr/src/app/src/handlers/messageHandler.js:44:31)\n    at async Client.<anonymous> (/usr/src/app/src/index.js:91:5)","timestamp":"2024-12-13T12:20:32.857Z"}
{"error":"HuggingFace API error: Bad Request - {\"error\":\"Authorization header is correct, but the token seems invalid\"}","isVoiceInput":false,"level":"warn","message":"HuggingFace TTS failed, trying FastSpeech2","timestamp":"2024-12-13T12:20:32.857Z"}
{"isVoiceInput":false,"level":"info","maxRetries":2,"message":"FastSpeech2 TTS started","model":"facebook/fastspeech2-en-ljspeech","textLength":62,"timestamp":"2024-12-13T12:20:32.858Z"}
{"error":"FastSpeech2 API error: Bad Request","level":"warn","maxRetries":2,"message":"FastSpeech2 TTS retry","retry":1,"timestamp":"2024-12-13T12:20:33.356Z"}
{"error":"FastSpeech2 API error: Bad Request","level":"warn","maxRetries":2,"message":"FastSpeech2 TTS retry","retry":2,"timestamp":"2024-12-13T12:20:35.883Z"}
{"error":"FastSpeech2 API error: Bad Request","isVoiceInput":false,"level":"warn","message":"FastSpeech2 TTS failed, falling back to ElevenLabs","timestamp":"2024-12-13T12:20:40.310Z"}
{"isVoiceInput":false,"level":"info","message":"ElevenLabs TTS started","textLength":62,"timestamp":"2024-12-13T12:20:40.313Z"}
{"duration":1429,"fileSize":63947,"isVoiceInput":false,"level":"info","message":"ElevenLabs TTS completed","outputPath":"/tmp/1734092441528_elevenlabs.mp3","timestamp":"2024-12-13T12:20:41.741Z"}
{"audioPath":"/tmp/1734092441528_elevenlabs.mp3","level":"info","message":"Playing audio response","timestamp":"2024-12-13T12:20:41.742Z"}
{"audioPath":"/tmp/1734092441528_elevenlabs.mp3","level":"info","message":"Started playing audio","timestamp":"2024-12-13T12:20:41.786Z"}
{"audioPath":"/tmp/1734092441528_elevenlabs.mp3","level":"info","message":"Finished playing audio","timestamp":"2024-12-13T12:20:45.871Z"}
{"isVoiceInput":false,"level":"info","message":"TTS generation started","provider":"huggingface_facebook","textLength":34,"timestamp":"2024-12-13T12:20:46.852Z"}
{"isVoiceInput":false,"level":"info","maxRetries":2,"message":"HuggingFace TTS started","model":"facebook/mms-tts-eng","requestBody":{"inputs":"Hello! How can I assist you today?","model":"facebook/mms-tts-eng","wait_for_model":true},"textLength":34,"timestamp":"2024-12-13T12:20:46.852Z"}
{"headers":{"access-control-allow-credentials":"true","connection":"close","content-length":"72","content-type":"application/json","date":"Fri, 13 Dec 2024 12:20:47 GMT","vary":"Origin, Access-Control-Request-Method, Access-Control-Request-Headers","x-request-id":"aY2_HWYxFfjwO1flF6GRT"},"level":"error","message":"HuggingFace API error details","responseBody":"{\"error\":\"Authorization header is correct, but the token seems invalid\"}","status":400,"statusText":"Bad Request","timestamp":"2024-12-13T12:20:47.293Z"}
{"duration":444,"error":"HuggingFace API error: Bad Request - {\"error\":\"Authorization header is correct, but the token seems invalid\"}","level":"error","maxRetries":2,"message":"HuggingFace TTS error","retry":1,"stack":"Error: HuggingFace API error: Bad Request - {\"error\":\"Authorization header is correct, but the token seems invalid\"}\n    at TTSService.generateHuggingFaceTTS (/usr/src/app/src/services/ttsService.js:182:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TTSService.generateTTS (/usr/src/app/src/services/ttsService.js:29:35)\n    at async MessageHandler.handleMessage (/usr/src/app/src/handlers/messageHandler.js:93:23)\n    at async Client.<anonymous> (/usr/src/app/src/index.js:91:5)","timestamp":"2024-12-13T12:20:47.296Z"}
{"error":"HuggingFace API error: Bad Request - {\"error\":\"Authorization header is correct, but the token seems invalid\"}","level":"warn","maxRetries":2,"message":"HuggingFace TTS retry","retry":1,"timestamp":"2024-12-13T12:20:47.298Z"}
{"headers":{"access-control-allow-credentials":"true","connection":"close","content-length":"72","content-type":"application/json","date":"Fri, 13 Dec 2024 12:20:48 GMT","vary":"Origin, Access-Control-Request-Method, Access-Control-Request-Headers","x-request-id":"4Fi2fmV7YpnHLTuXayn25"},"level":"error","message":"HuggingFace API error details","responseBody":"{\"error\":\"Authorization header is correct, but the token seems invalid\"}","status":400,"statusText":"Bad Request","timestamp":"2024-12-13T12:20:48.750Z"}
{"duration":1898,"error":"HuggingFace API error: Bad Request - {\"error\":\"Authorization header is correct, but the token seems invalid\"}","level":"error","maxRetries":2,"message":"HuggingFace TTS error","retry":2,"stack":"Error: HuggingFace API error: Bad Request - {\"error\":\"Authorization header is correct, but the token seems invalid\"}\n    at TTSService.generateHuggingFaceTTS (/usr/src/app/src/services/ttsService.js:182:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TTSService.generateTTS (/usr/src/app/src/services/ttsService.js:29:35)\n    at async MessageHandler.handleMessage (/usr/src/app/src/handlers/messageHandler.js:93:23)\n    at async Client.<anonymous> (/usr/src/app/src/index.js:91:5)","timestamp":"2024-12-13T12:20:48.751Z"}
{"error":"HuggingFace API error: Bad Request - {\"error\":\"Authorization header is correct, but the token seems invalid\"}","level":"warn","maxRetries":2,"message":"HuggingFace TTS retry","retry":2,"timestamp":"2024-12-13T12:20:48.751Z"}
{"headers":{"access-control-allow-credentials":"true","connection":"close","content-length":"72","content-type":"application/json","date":"Fri, 13 Dec 2024 12:20:51 GMT","vary":"Origin, Access-Control-Request-Method, Access-Control-Request-Headers","x-request-id":"rEZBpo-wzd8eGnV5TzwvR"},"level":"error","message":"HuggingFace API error details","responseBody":"{\"error\":\"Authorization header is correct, but the token seems invalid\"}","status":400,"statusText":"Bad Request","timestamp":"2024-12-13T12:20:51.217Z"}
{"duration":4365,"error":"HuggingFace API error: Bad Request - {\"error\":\"Authorization header is correct, but the token seems invalid\"}","level":"error","maxRetries":2,"message":"HuggingFace TTS error","retry":3,"stack":"Error: HuggingFace API error: Bad Request - {\"error\":\"Authorization header is correct, but the token seems invalid\"}\n    at TTSService.generateHuggingFaceTTS (/usr/src/app/src/services/ttsService.js:182:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TTSService.generateTTS (/usr/src/app/src/services/ttsService.js:29:35)\n    at async MessageHandler.handleMessage (/usr/src/app/src/handlers/messageHandler.js:93:23)\n    at async Client.<anonymous> (/usr/src/app/src/index.js:91:5)","timestamp":"2024-12-13T12:20:51.218Z"}
{"error":"HuggingFace API error: Bad Request - {\"error\":\"Authorization header is correct, but the token seems invalid\"}","isVoiceInput":false,"level":"warn","message":"HuggingFace TTS failed, trying FastSpeech2","timestamp":"2024-12-13T12:20:51.218Z"}
{"isVoiceInput":false,"level":"info","maxRetries":2,"message":"FastSpeech2 TTS started","model":"facebook/fastspeech2-en-ljspeech","textLength":34,"timestamp":"2024-12-13T12:20:51.218Z"}
{"error":"FastSpeech2 API error: Bad Request","level":"warn","maxRetries":2,"message":"FastSpeech2 TTS retry","retry":1,"timestamp":"2024-12-13T12:20:51.669Z"}
{"error":"FastSpeech2 API error: Bad Request","level":"warn","maxRetries":2,"message":"FastSpeech2 TTS retry","retry":2,"timestamp":"2024-12-13T12:20:54.117Z"}
{"error":"FastSpeech2 API error: Bad Request","isVoiceInput":false,"level":"warn","message":"FastSpeech2 TTS failed, falling back to ElevenLabs","timestamp":"2024-12-13T12:20:58.805Z"}
{"isVoiceInput":false,"level":"info","message":"ElevenLabs TTS started","textLength":34,"timestamp":"2024-12-13T12:20:58.806Z"}
{"duration":1091,"fileSize":30929,"isVoiceInput":false,"level":"info","message":"ElevenLabs TTS completed","outputPath":"/tmp/1734092459673_elevenlabs.mp3","timestamp":"2024-12-13T12:20:59.897Z"}
{"audioPath":"/tmp/1734092459673_elevenlabs.mp3","level":"info","message":"Playing audio response","timestamp":"2024-12-13T12:20:59.897Z"}
{"audioPath":"/tmp/1734092459673_elevenlabs.mp3","level":"info","message":"Started playing audio","timestamp":"2024-12-13T12:20:59.910Z"}
{"audioPath":"/tmp/1734092459673_elevenlabs.mp3","level":"info","message":"Finished playing audio","timestamp":"2024-12-13T12:21:01.951Z"}
{"envKeys":["OPENAI_API_KEY","ELEVENLABS_API_KEY","GROQ_API_KEY","ANTHROPIC_API_KEY"],"hasElevenLabsKey":true,"hasHuggingFaceKey":false,"level":"info","message":"TTS Service initialized","timestamp":"2024-12-13T12:22:08.275Z"}
{"level":"error","message":"HuggingFace API key not found in environment variables","timestamp":"2024-12-13T12:22:08.277Z"}
{"level":"info","message":"Registering slash commands...","timestamp":"2024-12-13T12:22:08.308Z"}
{"level":"info","message":"Web server listening on port 3000","timestamp":"2024-12-13T12:22:08.311Z"}
{"level":"info","message":"Slash commands registered successfully","timestamp":"2024-12-13T12:22:08.778Z"}
{"envKeys":["OPENAI_API_KEY","ELEVENLABS_API_KEY","GROQ_API_KEY","ANTHROPIC_API_KEY"],"hasElevenLabsKey":true,"hasHuggingFaceKey":false,"level":"info","message":"TTS Service initialized","timestamp":"2024-12-13T12:22:13.232Z"}
{"level":"error","message":"HuggingFace API key not found in environment variables","timestamp":"2024-12-13T12:22:13.234Z"}
{"level":"info","message":"Registering slash commands...","timestamp":"2024-12-13T12:22:13.262Z"}
{"level":"info","message":"Web server listening on port 3000","timestamp":"2024-12-13T12:22:13.265Z"}
{"level":"info","message":"Slash commands registered successfully","timestamp":"2024-12-13T12:22:13.715Z"}
{"envKeys":["OPENAI_API_KEY","ELEVENLABS_API_KEY","HUGGINGFACE_API_KEY","GROQ_API_KEY","ANTHROPIC_API_KEY"],"hasElevenLabsKey":true,"hasHuggingFaceKey":true,"level":"info","message":"TTS Service initialized","timestamp":"2024-12-13T12:23:12.391Z"}
{"level":"info","message":"Registering slash commands...","timestamp":"2024-12-13T12:23:12.436Z"}
{"level":"info","message":"Web server listening on port 3000","timestamp":"2024-12-13T12:23:12.439Z"}
{"level":"info","message":"Slash commands registered successfully","timestamp":"2024-12-13T12:23:12.876Z"}
{"allowedUsers":0,"guildId":"1203065884990644245","hasAdmin":false,"level":"info","message":"Server settings saved","settingsSize":78,"timestamp":"2024-12-13T12:23:23.048Z"}
{"channelId":"1203065885435101268","event":"joining_channel","guildId":"1203065884990644245","level":"info","message":"Voice event: joining_channel","timestamp":"2024-12-13T12:23:27.452Z","userId":"422749762060550154"}
{"channelId":"1203065885435101268","guildId":"1203065884990644245","level":"info","message":"Voice connection ready","timestamp":"2024-12-13T12:23:27.455Z"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T12:23:27.983Z","userId":"422749762060550154"}
{"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"my cats are fighting. one got surgery and the other is abusing the situation.","timestamp":"2024-12-13T12:24:10.945Z","userId":"422749762060550154"}
{"isVoiceInput":false,"level":"info","message":"TTS generation started","provider":"huggingface_facebook","textLength":62,"timestamp":"2024-12-13T12:24:10.947Z"}
{"isVoiceInput":false,"level":"info","maxRetries":2,"message":"HuggingFace TTS started","model":"facebook/mms-tts-eng","requestBody":{"inputs":"I'm processing ultrainstinct0x's request, please wait briefly.","wait_for_model":true},"textLength":62,"timestamp":"2024-12-13T12:24:10.948Z","tokenLength":37}
{"headers":{"access-control-allow-credentials":"true","connection":"close","content-length":"81","content-type":"application/json","date":"Fri, 13 Dec 2024 12:24:11 GMT","vary":"Origin, Access-Control-Request-Method, Access-Control-Request-Headers","x-request-id":"nMMvwlr_NqyHxCEjanpAX"},"level":"error","message":"HuggingFace API error details","responseBody":"{\"error\":\"Model facebook/mms-tts-eng is currently loading\",\"estimated_time\":20.0}","status":503,"statusText":"Service Unavailable","timestamp":"2024-12-13T12:24:11.821Z"}
{"level":"warn","maxRetries":2,"message":"HuggingFace model loading, retrying...","retry":1,"timestamp":"2024-12-13T12:24:11.822Z"}
{"headers":{"access-control-allow-credentials":"true","connection":"close","content-length":"81","content-type":"application/json","date":"Fri, 13 Dec 2024 12:24:14 GMT","vary":"Origin, Access-Control-Request-Method, Access-Control-Request-Headers","x-request-id":"Vb93juZzKK4kVcyNXCn3Q"},"level":"error","message":"HuggingFace API error details","responseBody":"{\"error\":\"Model facebook/mms-tts-eng is currently loading\",\"estimated_time\":20.0}","status":503,"statusText":"Service Unavailable","timestamp":"2024-12-13T12:24:14.403Z"}
{"level":"warn","maxRetries":2,"message":"HuggingFace model loading, retrying...","retry":2,"timestamp":"2024-12-13T12:24:14.403Z"}
{"headers":{"access-control-allow-credentials":"true","connection":"close","content-length":"81","content-type":"application/json","date":"Fri, 13 Dec 2024 12:24:16 GMT","vary":"Origin, Access-Control-Request-Method, Access-Control-Request-Headers","x-request-id":"H7NxUF5xEibSbz_TeEoFS"},"level":"error","message":"HuggingFace API error details","responseBody":"{\"error\":\"Model facebook/mms-tts-eng is currently loading\",\"estimated_time\":20.0}","status":503,"statusText":"Service Unavailable","timestamp":"2024-12-13T12:24:16.893Z"}
{"level":"warn","maxRetries":2,"message":"HuggingFace model loading, retrying...","retry":3,"timestamp":"2024-12-13T12:24:16.895Z"}
{"isVoiceInput":false,"level":"info","maxRetries":2,"message":"FastSpeech2 TTS started","model":"facebook/fastspeech2-en-ljspeech","textLength":62,"timestamp":"2024-12-13T12:24:18.904Z"}
{"duration":2638,"fileSize":194696,"isVoiceInput":false,"level":"info","message":"FastSpeech2 TTS completed","model":"facebook/fastspeech2-en-ljspeech","outputPath":"/tmp/1734092658905_fastspeech2.wav","retries":0,"timestamp":"2024-12-13T12:24:21.542Z"}
{"audioPath":"/tmp/1734092658905_fastspeech2.wav","level":"info","message":"Playing audio response","timestamp":"2024-12-13T12:24:21.544Z"}
{"audioPath":"/tmp/1734092658905_fastspeech2.wav","level":"info","message":"Started playing audio","timestamp":"2024-12-13T12:24:21.582Z"}
{"audioPath":"/tmp/1734092658905_fastspeech2.wav","level":"info","message":"Finished playing audio","timestamp":"2024-12-13T12:24:25.535Z"}
{"isVoiceInput":false,"level":"info","message":"TTS generation started","provider":"huggingface_facebook","textLength":475,"timestamp":"2024-12-13T12:24:28.465Z"}
{"isVoiceInput":false,"level":"info","maxRetries":2,"message":"HuggingFace TTS started","model":"facebook/mms-tts-eng","requestBody":{"inputs":"Here's a summary: In order to prevent further escalation in aggression between two cats, it is important to address the situation quickly and potentially separate them temporarily. The cat who underwent surgery may be more vulnerable and require extra attention, comfort, and supervision to reduce stress and aggression. Consulting with a veterinarian or animal behaviorist for guidance on managing the situation may also be helpful.\nCheck the chat for the complete response.","wait_for_model":true},"textLength":475,"timestamp":"2024-12-13T12:24:28.466Z","tokenLength":37}
{"duration":8552,"fileSize":1078280,"isVoiceInput":false,"level":"info","message":"HuggingFace TTS completed","model":"facebook/mms-tts-eng","outputPath":"/tmp/1734092668467_huggingface.wav","responseHeaders":{"access-control-allow-credentials":"true","access-control-expose-headers":"x-compute-type, x-compute-time","connection":"close","content-type":"audio/flac","date":"Fri, 13 Dec 2024 12:24:36 GMT","server":"uvicorn","transfer-encoding":"chunked","vary":"Origin, Access-Control-Request-Method, Access-Control-Request-Headers","x-compute-characters":"475","x-compute-time":"6.975","x-compute-type":"cpu","x-request-id":"rHE19bNb7yxrWaI5LR5Ir","x-sha":"c71de0fe7204c83f1c10820a7d696d0b450048ba"},"retries":0,"timestamp":"2024-12-13T12:24:37.018Z"}
{"audioPath":"/tmp/1734092668467_huggingface.wav","level":"info","message":"Playing audio response","timestamp":"2024-12-13T12:24:37.019Z"}
{"audioPath":"/tmp/1734092668467_huggingface.wav","level":"info","message":"Started playing audio","timestamp":"2024-12-13T12:24:37.028Z"}
{"audioPath":"/tmp/1734092668467_huggingface.wav","level":"info","message":"Finished playing audio","timestamp":"2024-12-13T12:25:07.610Z"}
{"bufferSize":97920,"filepath":"/tmp/1734092727395.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T12:25:27.395Z","userId":"422749762060550154"}
{"event":"transcribe_start","guildId":"1203065884990644245","level":"info","message":"Voice event: transcribe_start","timestamp":"2024-12-13T12:25:27.403Z","userId":"422749762060550154"}
{"event":"transcribe_success","guildId":"1203065884990644245","length":4,"level":"info","message":"Voice event: transcribe_success","timestamp":"2024-12-13T12:25:28.903Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T12:25:29.760Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T12:25:29.868Z","userId":"422749762060550154"}
{"isVoiceInput":true,"level":"info","message":"TTS generation started","provider":"huggingface_facebook","textLength":109,"timestamp":"2024-12-13T12:25:30.068Z"}
{"isVoiceInput":true,"level":"info","maxRetries":2,"message":"HuggingFace TTS started","model":"facebook/mms-tts-eng","requestBody":{"inputs":"Goodbye! If you have any more questions or need assistance in the future, feel free to ask. Have a great day!","wait_for_model":true},"textLength":109,"timestamp":"2024-12-13T12:25:30.069Z","tokenLength":37}
{"duration":3339,"fileSize":255298,"isVoiceInput":true,"level":"info","message":"HuggingFace TTS completed","model":"facebook/mms-tts-eng","outputPath":"/tmp/1734092730069_huggingface.wav","responseHeaders":{"access-control-allow-credentials":"true","access-control-expose-headers":"x-compute-type, x-compute-time","connection":"close","content-type":"audio/flac","date":"Fri, 13 Dec 2024 12:25:32 GMT","server":"uvicorn","transfer-encoding":"chunked","vary":"Origin, Access-Control-Request-Method, Access-Control-Request-Headers","x-compute-characters":"109","x-compute-time":"2.062","x-compute-type":"cpu","x-request-id":"VeMV71wxl1Z3buV1H8jmn","x-sha":"c71de0fe7204c83f1c10820a7d696d0b450048ba"},"retries":0,"timestamp":"2024-12-13T12:25:33.409Z"}
{"audioPath":"/tmp/1734092730069_huggingface.wav","level":"info","message":"Playing audio response","timestamp":"2024-12-13T12:25:33.409Z"}
{"audioPath":"/tmp/1734092730069_huggingface.wav","level":"info","message":"Started playing audio","timestamp":"2024-12-13T12:25:33.448Z"}
{"audioPath":"/tmp/1734092730069_huggingface.wav","level":"info","message":"Finished playing audio","timestamp":"2024-12-13T12:25:40.923Z"}
{"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"what are huggingface api rate limits for bearer tokens?","timestamp":"2024-12-13T12:26:16.555Z","userId":"422749762060550154"}
{"isVoiceInput":false,"level":"info","message":"TTS generation started","provider":"huggingface_facebook","textLength":65,"timestamp":"2024-12-13T12:26:16.560Z"}
{"isVoiceInput":false,"level":"info","maxRetries":2,"message":"HuggingFace TTS started","model":"facebook/mms-tts-eng","requestBody":{"inputs":"I'll explain that for ultrainstinct0x. Let me gather my thoughts.","wait_for_model":true},"textLength":65,"timestamp":"2024-12-13T12:26:16.561Z","tokenLength":37}
{"duration":1675,"fileSize":151440,"isVoiceInput":false,"level":"info","message":"HuggingFace TTS completed","model":"facebook/mms-tts-eng","outputPath":"/tmp/1734092776561_huggingface.wav","responseHeaders":{"access-control-allow-credentials":"true","access-control-expose-headers":"x-compute-type, x-compute-time","connection":"close","content-type":"audio/flac","date":"Fri, 13 Dec 2024 12:26:17 GMT","server":"uvicorn","transfer-encoding":"chunked","vary":"Origin, Access-Control-Request-Method, Access-Control-Request-Headers","x-compute-characters":"65","x-compute-time":"0.612","x-compute-type":"cpu","x-request-id":"HLtIaNc_cls8sGGWA2sUE","x-sha":"c71de0fe7204c83f1c10820a7d696d0b450048ba"},"retries":0,"timestamp":"2024-12-13T12:26:18.236Z"}
{"audioPath":"/tmp/1734092776561_huggingface.wav","level":"info","message":"Playing audio response","timestamp":"2024-12-13T12:26:18.237Z"}
{"audioPath":"/tmp/1734092776561_huggingface.wav","level":"info","message":"Started playing audio","timestamp":"2024-12-13T12:26:18.251Z"}
{"audioPath":"/tmp/1734092776561_huggingface.wav","level":"info","message":"Finished playing audio","timestamp":"2024-12-13T12:26:22.649Z"}
{"isVoiceInput":false,"level":"info","message":"TTS generation started","provider":"huggingface_facebook","textLength":235,"timestamp":"2024-12-13T12:26:24.020Z"}
{"isVoiceInput":false,"level":"info","maxRetries":2,"message":"HuggingFace TTS started","model":"facebook/mms-tts-eng","requestBody":{"inputs":"The Hugging Face API has the following rate limits for bearer tokens:\n\n- Free tier: 5 requests per minute\n- Plus tier: 50 requests per minute\n- Enterprise tier: Custom rate limits depending on the specific arrangement with Hugging Face","wait_for_model":true},"textLength":235,"timestamp":"2024-12-13T12:26:24.021Z","tokenLength":37}
{"duration":4419,"fileSize":579664,"isVoiceInput":false,"level":"info","message":"HuggingFace TTS completed","model":"facebook/mms-tts-eng","outputPath":"/tmp/1734092784021_huggingface.wav","responseHeaders":{"access-control-allow-credentials":"true","access-control-expose-headers":"x-compute-type, x-compute-time","connection":"close","content-type":"audio/flac","date":"Fri, 13 Dec 2024 12:26:27 GMT","server":"uvicorn","transfer-encoding":"chunked","vary":"Origin, Access-Control-Request-Method, Access-Control-Request-Headers","x-compute-characters":"235","x-compute-time":"3.165","x-compute-type":"cpu","x-request-id":"cXe3AoD5ruaWnsU_CJg9Q","x-sha":"c71de0fe7204c83f1c10820a7d696d0b450048ba"},"retries":0,"timestamp":"2024-12-13T12:26:28.441Z"}
{"audioPath":"/tmp/1734092784021_huggingface.wav","level":"info","message":"Playing audio response","timestamp":"2024-12-13T12:26:28.442Z"}
{"audioPath":"/tmp/1734092784021_huggingface.wav","level":"info","message":"Started playing audio","timestamp":"2024-12-13T12:26:28.455Z"}
{"audioPath":"/tmp/1734092784021_huggingface.wav","level":"info","message":"Finished playing audio","timestamp":"2024-12-13T12:26:45.493Z"}
{"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"what are the rate limits of tiktok tts api?","timestamp":"2024-12-13T12:27:25.181Z","userId":"422749762060550154"}
{"isVoiceInput":false,"level":"info","message":"TTS generation started","provider":"huggingface_facebook","textLength":65,"timestamp":"2024-12-13T12:27:25.183Z"}
{"isVoiceInput":false,"level":"info","maxRetries":2,"message":"HuggingFace TTS started","model":"facebook/mms-tts-eng","requestBody":{"inputs":"I'll explain that for ultrainstinct0x. Let me gather my thoughts.","wait_for_model":true},"textLength":65,"timestamp":"2024-12-13T12:27:25.184Z","tokenLength":37}
{"duration":949,"fileSize":151440,"isVoiceInput":false,"level":"info","message":"HuggingFace TTS completed","model":"facebook/mms-tts-eng","outputPath":"/tmp/1734092845184_huggingface.wav","responseHeaders":{"access-control-allow-credentials":"true","connection":"close","content-length":"151440","content-type":"audio/flac","date":"Fri, 13 Dec 2024 12:27:25 GMT","vary":"Origin, Access-Control-Request-Method, Access-Control-Request-Headers","x-compute-time":"0.612","x-compute-type":"cache","x-request-id":"7zSoOnk-yzxlgSBkGImMU","x-sha":"c71de0fe7204c83f1c10820a7d696d0b450048ba"},"retries":0,"timestamp":"2024-12-13T12:27:26.133Z"}
{"audioPath":"/tmp/1734092845184_huggingface.wav","level":"info","message":"Playing audio response","timestamp":"2024-12-13T12:27:26.134Z"}
{"audioPath":"/tmp/1734092845184_huggingface.wav","level":"info","message":"Started playing audio","timestamp":"2024-12-13T12:27:26.170Z"}
{"audioPath":"/tmp/1734092845184_huggingface.wav","level":"info","message":"Finished playing audio","timestamp":"2024-12-13T12:27:30.552Z"}
{"isVoiceInput":false,"level":"info","message":"TTS generation started","provider":"huggingface_facebook","textLength":406,"timestamp":"2024-12-13T12:27:32.311Z"}
{"isVoiceInput":false,"level":"info","maxRetries":2,"message":"HuggingFace TTS started","model":"facebook/mms-tts-eng","requestBody":{"inputs":"The rate limits of TikTok TTS (Text-to-Speech) API may vary depending on the specific use case and user account. Generally, TikTok has a limit of 1000 API calls per hour for regular users, while verified accounts or specific partnerships may have higher limits. It is recommended to refer to the official TikTok API documentation or contact their support for the most up-to-date information on rate limits.","wait_for_model":true},"textLength":406,"timestamp":"2024-12-13T12:27:32.312Z","tokenLength":37}
{"duration":8248,"fileSize":903998,"isVoiceInput":false,"level":"info","message":"HuggingFace TTS completed","model":"facebook/mms-tts-eng","outputPath":"/tmp/1734092852312_huggingface.wav","responseHeaders":{"access-control-allow-credentials":"true","access-control-expose-headers":"x-compute-type, x-compute-time","connection":"close","content-type":"audio/flac","date":"Fri, 13 Dec 2024 12:27:39 GMT","server":"uvicorn","transfer-encoding":"chunked","vary":"Origin, Access-Control-Request-Method, Access-Control-Request-Headers","x-compute-characters":"406","x-compute-time":"6.840","x-compute-type":"cpu","x-request-id":"ll0y8UECNsiI14iDsWb9f","x-sha":"c71de0fe7204c83f1c10820a7d696d0b450048ba"},"retries":0,"timestamp":"2024-12-13T12:27:40.560Z"}
{"audioPath":"/tmp/1734092852312_huggingface.wav","level":"info","message":"Playing audio response","timestamp":"2024-12-13T12:27:40.561Z"}
{"audioPath":"/tmp/1734092852312_huggingface.wav","level":"info","message":"Started playing audio","timestamp":"2024-12-13T12:27:40.570Z"}
{"audioPath":"/tmp/1734092852312_huggingface.wav","level":"info","message":"Finished playing audio","timestamp":"2024-12-13T12:28:06.747Z"}
{"bufferSize":97920,"filepath":"/tmp/1734092889050.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T12:28:09.050Z","userId":"422749762060550154"}
{"error":"WAV file not created: /tmp/1734092889050.wav","guildId":"1203065884990644245","level":"error","message":"Error processing audio buffer","timestamp":"2024-12-13T12:28:09.053Z","userId":"422749762060550154"}
{"bufferSize":97920,"filepath":"/tmp/1734092890075.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T12:28:10.076Z","userId":"422749762060550154"}
{"event":"transcribe_start","guildId":"1203065884990644245","level":"info","message":"Voice event: transcribe_start","timestamp":"2024-12-13T12:28:10.079Z","userId":"422749762060550154"}
{"error":"400 Invalid file format. Supported formats: ['flac', 'm4a', 'mp3', 'mp4', 'mpeg', 'mpga', 'oga', 'ogg', 'wav', 'webm']","level":"error","message":"Error transcribing audio","timestamp":"2024-12-13T12:28:10.378Z"}
{"error":"400 Invalid file format. Supported formats: ['flac', 'm4a', 'mp3', 'mp4', 'mpeg', 'mpga', 'oga', 'ogg', 'wav', 'webm']","guildId":"1203065884990644245","level":"error","message":"Error processing audio buffer","timestamp":"2024-12-13T12:28:10.380Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T12:28:11.394Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T12:28:11.498Z","userId":"422749762060550154"}
{"bufferSize":97920,"filepath":"/tmp/1734092893350.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T12:28:13.350Z","userId":"422749762060550154"}
{"event":"transcribe_start","guildId":"1203065884990644245","level":"info","message":"Voice event: transcribe_start","timestamp":"2024-12-13T12:28:13.352Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T12:28:14.532Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T12:28:14.637Z","userId":"422749762060550154"}
{"event":"transcribe_success","guildId":"1203065884990644245","length":21,"level":"info","message":"Voice event: transcribe_success","timestamp":"2024-12-13T12:28:17.486Z","userId":"422749762060550154"}
{"isVoiceInput":true,"level":"info","message":"TTS generation started","provider":"huggingface_facebook","textLength":69,"timestamp":"2024-12-13T12:28:18.300Z"}
{"isVoiceInput":true,"level":"info","maxRetries":2,"message":"HuggingFace TTS started","model":"facebook/mms-tts-eng","requestBody":{"inputs":"That's totally fine! Let me know how I can assist you in another way.","wait_for_model":true},"textLength":69,"timestamp":"2024-12-13T12:28:18.301Z","tokenLength":37}
{"bufferSize":97920,"filepath":"/tmp/1734092898368.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T12:28:18.368Z","userId":"422749762060550154"}
{"event":"transcribe_start","guildId":"1203065884990644245","level":"info","message":"Voice event: transcribe_start","timestamp":"2024-12-13T12:28:18.371Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T12:28:19.716Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T12:28:19.823Z","userId":"422749762060550154"}
{"duration":1748,"fileSize":152785,"isVoiceInput":true,"level":"info","message":"HuggingFace TTS completed","model":"facebook/mms-tts-eng","outputPath":"/tmp/1734092898302_huggingface.wav","responseHeaders":{"access-control-allow-credentials":"true","access-control-expose-headers":"x-compute-type, x-compute-time","connection":"close","content-type":"audio/flac","date":"Fri, 13 Dec 2024 12:28:19 GMT","server":"uvicorn","transfer-encoding":"chunked","vary":"Origin, Access-Control-Request-Method, Access-Control-Request-Headers","x-compute-characters":"69","x-compute-time":"0.561","x-compute-type":"cpu","x-request-id":"n9abPRbDsiwcIz3tXPEdr","x-sha":"c71de0fe7204c83f1c10820a7d696d0b450048ba"},"retries":0,"timestamp":"2024-12-13T12:28:20.050Z"}
{"audioPath":"/tmp/1734092898302_huggingface.wav","level":"info","message":"Playing audio response","timestamp":"2024-12-13T12:28:20.051Z"}
{"audioPath":"/tmp/1734092898302_huggingface.wav","level":"info","message":"Started playing audio","timestamp":"2024-12-13T12:28:20.068Z"}
{"event":"transcribe_success","guildId":"1203065884990644245","length":26,"level":"info","message":"Voice event: transcribe_success","timestamp":"2024-12-13T12:28:20.463Z","userId":"422749762060550154"}
{"isVoiceInput":true,"level":"info","message":"TTS generation started","provider":"huggingface_facebook","textLength":44,"timestamp":"2024-12-13T12:28:21.318Z"}
{"isVoiceInput":true,"level":"info","maxRetries":2,"message":"HuggingFace TTS started","model":"facebook/mms-tts-eng","requestBody":{"inputs":"May you have a restful and peaceful Shabbat.","wait_for_model":true},"textLength":44,"timestamp":"2024-12-13T12:28:21.318Z","tokenLength":37}
{"duration":1461,"fileSize":107828,"isVoiceInput":true,"level":"info","message":"HuggingFace TTS completed","model":"facebook/mms-tts-eng","outputPath":"/tmp/1734092901318_huggingface.wav","responseHeaders":{"access-control-allow-credentials":"true","access-control-expose-headers":"x-compute-type, x-compute-time","connection":"close","content-type":"audio/flac","date":"Fri, 13 Dec 2024 12:28:22 GMT","server":"uvicorn","transfer-encoding":"chunked","vary":"Origin, Access-Control-Request-Method, Access-Control-Request-Headers","x-compute-characters":"44","x-compute-time":"0.466","x-compute-type":"cpu","x-request-id":"t7s3vWJ2aXNTV6EIZiFet","x-sha":"c71de0fe7204c83f1c10820a7d696d0b450048ba"},"retries":0,"timestamp":"2024-12-13T12:28:22.779Z"}
{"audioPath":"/tmp/1734092901318_huggingface.wav","level":"info","message":"Playing audio response","timestamp":"2024-12-13T12:28:22.779Z"}
{"audioPath":"/tmp/1734092901318_huggingface.wav","level":"info","message":"Started playing audio","timestamp":"2024-12-13T12:28:22.791Z"}
{"audioPath":"/tmp/1734092901318_huggingface.wav","level":"info","message":"Finished playing audio","timestamp":"2024-12-13T12:28:26.024Z"}
{"envKeys":["OPENAI_API_KEY","ELEVENLABS_API_KEY","HUGGINGFACE_API_KEY","GROQ_API_KEY","ANTHROPIC_API_KEY","TIKTOK_SESSION_ID"],"hasElevenLabsKey":true,"hasHuggingFaceKey":true,"hasTiktokSession":true,"level":"info","message":"TTS Service initialized","timestamp":"2024-12-13T12:32:55.513Z"}
{"level":"info","message":"Registering slash commands...","timestamp":"2024-12-13T12:32:55.642Z"}
{"level":"info","message":"Web server listening on port 3000","timestamp":"2024-12-13T12:32:55.649Z"}
{"level":"info","message":"Slash commands registered successfully","timestamp":"2024-12-13T12:32:56.157Z"}
{"channelId":"1203065885435101268","event":"joining_channel","guildId":"1203065884990644245","level":"info","message":"Voice event: joining_channel","timestamp":"2024-12-13T12:33:13.084Z","userId":"422749762060550154"}
{"channelId":"1203065885435101268","guildId":"1203065884990644245","level":"info","message":"Voice connection ready","timestamp":"2024-12-13T12:33:13.087Z"}
{"error":"Cannot read properties of undefined (reading 'id')","level":"error","message":"Error handling machine command","timestamp":"2024-12-13T12:33:13.412Z"}
{"code":"InteractionAlreadyReplied","level":"error","message":"Discord client error: The reply to this interaction has already been sent or deferred.","stack":"Error [InteractionAlreadyReplied]: The reply to this interaction has already been sent or deferred.\n    at ChatInputCommandInteraction.reply (/usr/src/app/node_modules/discord.js/src/structures/interfaces/InteractionResponses.js:105:46)\n    at MessageHandler.handleMachineCommand (/usr/src/app/src/handlers/messageHandler.js:203:21)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async CommandHandler.handleAgenticCommand (/usr/src/app/src/handlers/commandHandler.js:65:9)\n    at async Client.<anonymous> (/usr/src/app/src/index.js:107:3)","timestamp":"2024-12-13T12:33:13.414Z"}
{"allowedUsers":0,"guildId":"1203065884990644245","hasAdmin":false,"level":"info","message":"Server settings saved","settingsSize":78,"timestamp":"2024-12-13T12:34:43.761Z"}
{"envKeys":["OPENAI_API_KEY","ELEVENLABS_API_KEY","HUGGINGFACE_API_KEY","GROQ_API_KEY","ANTHROPIC_API_KEY","TIKTOK_SESSION_ID"],"hasElevenLabsKey":true,"hasHuggingFaceKey":true,"hasTiktokSession":true,"level":"info","message":"TTS Service initialized","timestamp":"2024-12-13T12:35:12.740Z"}
{"level":"info","message":"Registering slash commands...","timestamp":"2024-12-13T12:35:12.772Z"}
{"level":"info","message":"Web server listening on port 3000","timestamp":"2024-12-13T12:35:12.775Z"}
{"level":"info","message":"Slash commands registered successfully","timestamp":"2024-12-13T12:35:13.480Z"}
{"channelId":"1203065885435101268","event":"joining_channel","guildId":"1203065884990644245","level":"info","message":"Voice event: joining_channel","timestamp":"2024-12-13T12:35:24.007Z","userId":"422749762060550154"}
{"channelId":"1203065885435101268","guildId":"1203065884990644245","level":"info","message":"Voice connection ready","timestamp":"2024-12-13T12:35:24.012Z"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T12:35:24.502Z","userId":"422749762060550154"}
{"event":"disconnected","guildId":"1203065884990644245","level":"info","message":"Voice event: disconnected","timestamp":"2024-12-13T12:37:24.958Z","userId":"422749762060550154"}
{"allowedUsers":0,"guildId":"1203065884990644245","hasAdmin":false,"level":"info","message":"Server settings saved","settingsSize":78,"timestamp":"2024-12-13T12:37:24.965Z"}
{"channelId":"1203065885435101268","error":"The operation was aborted","guildId":"1203065884990644245","level":"error","message":"Voice connection recovery failed","timestamp":"2024-12-13T12:37:29.980Z"}
{"envKeys":["OPENAI_API_KEY","ELEVENLABS_API_KEY","HUGGINGFACE_API_KEY","GROQ_API_KEY","ANTHROPIC_API_KEY","TIKTOK_SESSION_ID"],"hasElevenLabsKey":true,"hasHuggingFaceKey":true,"hasTiktokSession":true,"level":"info","message":"TTS Service initialized","timestamp":"2024-12-13T12:37:56.810Z"}
{"level":"info","message":"Registering slash commands...","timestamp":"2024-12-13T12:37:56.846Z"}
{"level":"info","message":"Web server listening on port 3000","timestamp":"2024-12-13T12:37:56.849Z"}
{"level":"info","message":"Slash commands registered successfully","timestamp":"2024-12-13T12:37:57.240Z"}
{"channelId":"1203065885435101268","event":"joining_channel","guildId":"1203065884990644245","level":"info","message":"Voice event: joining_channel","timestamp":"2024-12-13T12:38:00.263Z","userId":"422749762060550154"}
{"channelId":"1203065885435101268","guildId":"1203065884990644245","level":"info","message":"Voice connection ready","timestamp":"2024-12-13T12:38:00.266Z"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T12:38:00.603Z","userId":"422749762060550154"}
{"isPremium":false,"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"what are the benefits of CPU tts?","timestamp":"2024-12-13T12:38:12.432Z","userId":"422749762060550154"}
{"isPremium":false,"isVoiceInput":false,"level":"info","message":"TTS generation started","provider":"tiktok","textLength":65,"timestamp":"2024-12-13T12:38:12.435Z"}
{"isVoiceInput":false,"level":"info","message":"TikTok TTS started","textLength":65,"timestamp":"2024-12-13T12:38:12.436Z"}
{"duration":1194,"fileSize":73389,"isVoiceInput":false,"level":"info","message":"TikTok TTS completed","outputPath":"/tmp/1734093492437_tiktok.mp3","timestamp":"2024-12-13T12:38:13.631Z"}
{"audioPath":"/tmp/1734093492437_tiktok.mp3","level":"info","message":"Playing audio response","timestamp":"2024-12-13T12:38:13.632Z"}
{"audioPath":"/tmp/1734093492437_tiktok.mp3","level":"info","message":"Started playing audio","timestamp":"2024-12-13T12:38:13.658Z"}
{"audioPath":"/tmp/1734093492437_tiktok.mp3","level":"info","message":"Finished playing audio","timestamp":"2024-12-13T12:38:18.355Z"}
{"isPremium":false,"isVoiceInput":false,"level":"info","message":"TTS generation started","provider":"tiktok","textLength":214,"timestamp":"2024-12-13T12:38:20.645Z"}
{"isVoiceInput":false,"level":"info","message":"TikTok TTS started","textLength":214,"timestamp":"2024-12-13T12:38:20.645Z"}
{"duration":1379,"fileSize":211629,"isVoiceInput":false,"level":"info","message":"TikTok TTS completed","outputPath":"/tmp/1734093500646_tiktok.mp3","timestamp":"2024-12-13T12:38:22.025Z"}
{"audioPath":"/tmp/1734093500646_tiktok.mp3","level":"info","message":"Playing audio response","timestamp":"2024-12-13T12:38:22.026Z"}
{"audioPath":"/tmp/1734093500646_tiktok.mp3","level":"info","message":"Started playing audio","timestamp":"2024-12-13T12:38:22.039Z"}
{"audioPath":"/tmp/1734093500646_tiktok.mp3","level":"info","message":"Finished playing audio","timestamp":"2024-12-13T12:38:35.376Z"}
{"bufferSize":97920,"filepath":"/tmp/1734093523183.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T12:38:43.183Z","userId":"422749762060550154"}
{"event":"transcribe_start","guildId":"1203065884990644245","level":"info","message":"Voice event: transcribe_start","timestamp":"2024-12-13T12:38:43.189Z","userId":"422749762060550154"}
{"event":"transcribe_success","guildId":"1203065884990644245","length":27,"level":"info","message":"Voice event: transcribe_success","timestamp":"2024-12-13T12:38:44.950Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T12:38:45.544Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T12:38:45.647Z","userId":"422749762060550154"}
{"isPremium":false,"isVoiceInput":true,"level":"info","message":"TTS generation started","provider":"tiktok","textLength":123,"timestamp":"2024-12-13T12:38:46.243Z"}
{"isVoiceInput":true,"level":"info","message":"TikTok TTS started","textLength":123,"timestamp":"2024-12-13T12:38:46.243Z"}
{"duration":1293,"fileSize":159405,"isVoiceInput":true,"level":"info","message":"TikTok TTS completed","outputPath":"/tmp/1734093526244_tiktok.mp3","timestamp":"2024-12-13T12:38:47.536Z"}
{"audioPath":"/tmp/1734093526244_tiktok.mp3","level":"info","message":"Playing audio response","timestamp":"2024-12-13T12:38:47.536Z"}
{"audioPath":"/tmp/1734093526244_tiktok.mp3","level":"info","message":"Started playing audio","timestamp":"2024-12-13T12:38:47.554Z"}
{"audioPath":"/tmp/1734093526244_tiktok.mp3","level":"info","message":"Finished playing audio","timestamp":"2024-12-13T12:38:57.628Z"}
{"bufferSize":97920,"filepath":"/tmp/1734093538876.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T12:38:58.877Z","userId":"422749762060550154"}
{"error":"WAV file not created: /tmp/1734093538876.wav","guildId":"1203065884990644245","level":"error","message":"Error processing audio buffer","timestamp":"2024-12-13T12:38:58.879Z","userId":"422749762060550154"}
{"bufferSize":97920,"filepath":"/tmp/1734093539903.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T12:38:59.903Z","userId":"422749762060550154"}
{"event":"transcribe_start","guildId":"1203065884990644245","level":"info","message":"Voice event: transcribe_start","timestamp":"2024-12-13T12:38:59.905Z","userId":"422749762060550154"}
{"event":"transcribe_success","guildId":"1203065884990644245","length":12,"level":"info","message":"Voice event: transcribe_success","timestamp":"2024-12-13T12:39:01.255Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T12:39:01.537Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T12:39:01.639Z","userId":"422749762060550154"}
{"isPremium":false,"isVoiceInput":true,"level":"info","message":"TTS generation started","provider":"tiktok","textLength":212,"timestamp":"2024-12-13T12:39:02.288Z"}
{"isVoiceInput":true,"level":"info","message":"TikTok TTS started","textLength":212,"timestamp":"2024-12-13T12:39:02.288Z"}
{"duration":1546,"fileSize":211629,"isVoiceInput":true,"level":"info","message":"TikTok TTS completed","outputPath":"/tmp/1734093542288_tiktok.mp3","timestamp":"2024-12-13T12:39:03.834Z"}
{"audioPath":"/tmp/1734093542288_tiktok.mp3","level":"info","message":"Playing audio response","timestamp":"2024-12-13T12:39:03.835Z"}
{"audioPath":"/tmp/1734093542288_tiktok.mp3","level":"info","message":"Started playing audio","timestamp":"2024-12-13T12:39:03.846Z"}
{"audioPath":"/tmp/1734093542288_tiktok.mp3","level":"info","message":"Finished playing audio","timestamp":"2024-12-13T12:39:17.183Z"}
{"envKeys":["OPENAI_API_KEY","ELEVENLABS_API_KEY","HUGGINGFACE_API_KEY","GROQ_API_KEY","ANTHROPIC_API_KEY","TIKTOK_SESSION_ID"],"hasElevenLabsKey":true,"hasHuggingFaceKey":true,"hasTiktokSession":true,"level":"info","message":"TTS Service initialized","timestamp":"2024-12-13T12:47:59.061Z"}
{"level":"info","message":"Registering slash commands...","timestamp":"2024-12-13T12:47:59.095Z"}
{"level":"info","message":"Web server listening on port 3000","timestamp":"2024-12-13T12:47:59.098Z"}
{"level":"info","message":"Slash commands registered successfully","timestamp":"2024-12-13T12:47:59.491Z"}
{"channelId":"1203065885435101268","event":"joining_channel","guildId":"1203065884990644245","level":"info","message":"Voice event: joining_channel","timestamp":"2024-12-13T12:48:03.953Z","userId":"422749762060550154"}
{"channelId":"1203065885435101268","guildId":"1203065884990644245","level":"info","message":"Voice connection ready","timestamp":"2024-12-13T12:48:03.956Z"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T12:48:04.240Z","userId":"422749762060550154"}
{"error":"settings.save is not a function","level":"error","message":"Failed to set TTS provider","provider":"tiktok","timestamp":"2024-12-13T12:48:09.432Z"}
{"error":"settings.save is not a function","level":"error","message":"Failed to set TTS provider","provider":"huggingface_fastspeech","timestamp":"2024-12-13T12:48:27.965Z"}
{"isPremium":false,"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"hello","timestamp":"2024-12-13T12:48:41.415Z","userId":"422749762060550154"}
{"isPremium":false,"isVoiceInput":false,"level":"info","message":"TTS generation started","provider":"tiktok","textLength":62,"timestamp":"2024-12-13T12:48:41.417Z"}
{"isVoiceInput":false,"level":"info","message":"TikTok TTS started","textLength":62,"timestamp":"2024-12-13T12:48:41.419Z"}
{"duration":1804,"fileSize":76461,"isVoiceInput":false,"level":"info","message":"TikTok TTS completed","outputPath":"/tmp/1734094121419_tiktok.mp3","timestamp":"2024-12-13T12:48:43.223Z"}
{"audioPath":"/tmp/1734094121419_tiktok.mp3","level":"info","message":"Playing audio response","timestamp":"2024-12-13T12:48:43.224Z"}
{"audioPath":"/tmp/1734094121419_tiktok.mp3","level":"info","message":"Started playing audio","timestamp":"2024-12-13T12:48:43.252Z"}
{"audioPath":"/tmp/1734094121419_tiktok.mp3","level":"info","message":"Finished playing audio","timestamp":"2024-12-13T12:48:48.126Z"}
{"isPremium":false,"isVoiceInput":false,"level":"info","message":"TTS generation started","provider":"tiktok","textLength":32,"timestamp":"2024-12-13T12:48:49.351Z"}
{"isVoiceInput":false,"level":"info","message":"TikTok TTS started","textLength":32,"timestamp":"2024-12-13T12:48:49.353Z"}
{"duration":813,"fileSize":44589,"isVoiceInput":false,"level":"info","message":"TikTok TTS completed","outputPath":"/tmp/1734094129353_tiktok.mp3","timestamp":"2024-12-13T12:48:50.165Z"}
{"audioPath":"/tmp/1734094129353_tiktok.mp3","level":"info","message":"Playing audio response","timestamp":"2024-12-13T12:48:50.166Z"}
{"audioPath":"/tmp/1734094129353_tiktok.mp3","level":"info","message":"Started playing audio","timestamp":"2024-12-13T12:48:50.179Z"}
{"audioPath":"/tmp/1734094129353_tiktok.mp3","level":"info","message":"Finished playing audio","timestamp":"2024-12-13T12:48:53.082Z"}
{"bufferSize":97920,"filepath":"/tmp/1734094139579.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T12:48:59.579Z","userId":"422749762060550154"}
{"event":"transcribe_start","guildId":"1203065884990644245","level":"info","message":"Voice event: transcribe_start","timestamp":"2024-12-13T12:48:59.589Z","userId":"422749762060550154"}
{"event":"transcribe_success","guildId":"1203065884990644245","length":3,"level":"info","message":"Voice event: transcribe_success","timestamp":"2024-12-13T12:49:01.130Z","userId":"422749762060550154"}
{"isPremium":false,"isVoiceInput":true,"level":"info","message":"TTS generation started","provider":"huggingface_fastspeech","textLength":34,"timestamp":"2024-12-13T12:49:01.949Z"}
{"isVoiceInput":true,"level":"info","message":"TikTok TTS started","textLength":34,"timestamp":"2024-12-13T12:49:01.950Z"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T12:49:02.254Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T12:49:02.360Z","userId":"422749762060550154"}
{"duration":815,"fileSize":46125,"isVoiceInput":true,"level":"info","message":"TikTok TTS completed","outputPath":"/tmp/1734094141950_tiktok.mp3","timestamp":"2024-12-13T12:49:02.765Z"}
{"audioPath":"/tmp/1734094141950_tiktok.mp3","level":"info","message":"Playing audio response","timestamp":"2024-12-13T12:49:02.766Z"}
{"audioPath":"/tmp/1734094141950_tiktok.mp3","level":"info","message":"Started playing audio","timestamp":"2024-12-13T12:49:02.781Z"}
{"bufferSize":97920,"filepath":"/tmp/1734094144909.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T12:49:04.909Z","userId":"422749762060550154"}
{"error":"WAV file not created: /tmp/1734094144909.wav","guildId":"1203065884990644245","level":"error","message":"Error processing audio buffer","timestamp":"2024-12-13T12:49:04.911Z","userId":"422749762060550154"}
{"audioPath":"/tmp/1734094141950_tiktok.mp3","level":"info","message":"Finished playing audio","timestamp":"2024-12-13T12:49:05.780Z"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T12:49:05.827Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T12:49:05.927Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T12:49:07.132Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T12:49:07.236Z","userId":"422749762060550154"}
{"bufferSize":97920,"filepath":"/tmp/1734094149592.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T12:49:09.592Z","userId":"422749762060550154"}
{"event":"transcribe_start","guildId":"1203065884990644245","level":"info","message":"Voice event: transcribe_start","timestamp":"2024-12-13T12:49:09.594Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T12:49:10.934Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T12:49:11.038Z","userId":"422749762060550154"}
{"bufferSize":97920,"filepath":"/tmp/1734094158730.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T12:49:18.731Z","userId":"422749762060550154"}
{"error":"WAV file not created: /tmp/1734094158730.wav","guildId":"1203065884990644245","level":"error","message":"Error processing audio buffer","timestamp":"2024-12-13T12:49:18.737Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T12:49:20.121Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T12:49:20.231Z","userId":"422749762060550154"}
{"bufferSize":97920,"filepath":"/tmp/1734094167280.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T12:49:27.281Z","userId":"422749762060550154"}
{"error":"WAV file not created: /tmp/1734094167280.wav","guildId":"1203065884990644245","level":"error","message":"Error processing audio buffer","timestamp":"2024-12-13T12:49:27.289Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T12:49:29.032Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T12:49:29.134Z","userId":"422749762060550154"}
{"bufferSize":97920,"filepath":"/tmp/1734094172509.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T12:49:32.510Z","userId":"422749762060550154"}
{"event":"transcribe_start","guildId":"1203065884990644245","level":"info","message":"Voice event: transcribe_start","timestamp":"2024-12-13T12:49:32.516Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T12:49:33.513Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T12:49:33.617Z","userId":"422749762060550154"}
{"bufferSize":97920,"filepath":"/tmp/1734094186010.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T12:49:46.010Z","userId":"422749762060550154"}
{"event":"transcribe_start","guildId":"1203065884990644245","level":"info","message":"Voice event: transcribe_start","timestamp":"2024-12-13T12:49:46.014Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T12:49:47.812Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T12:49:47.916Z","userId":"422749762060550154"}
{"bufferSize":97920,"filepath":"/tmp/1734094195971.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T12:49:55.971Z","userId":"422749762060550154"}
{"error":"WAV file not created: /tmp/1734094195971.wav","guildId":"1203065884990644245","level":"error","message":"Error processing audio buffer","timestamp":"2024-12-13T12:49:55.976Z","userId":"422749762060550154"}
{"bufferSize":97920,"filepath":"/tmp/1734094196988.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T12:49:56.989Z","userId":"422749762060550154"}
{"error":"WAV file not created: /tmp/1734094196988.wav","guildId":"1203065884990644245","level":"error","message":"Error processing audio buffer","timestamp":"2024-12-13T12:49:56.996Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T12:49:57.892Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T12:49:57.994Z","userId":"422749762060550154"}
{"bufferSize":97920,"filepath":"/tmp/1734094203310.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T12:50:03.310Z","userId":"422749762060550154"}
{"event":"transcribe_start","guildId":"1203065884990644245","level":"info","message":"Voice event: transcribe_start","timestamp":"2024-12-13T12:50:03.316Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T12:50:04.912Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T12:50:05.018Z","userId":"422749762060550154"}
{"bufferSize":97920,"filepath":"/tmp/1734094207429.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T12:50:07.429Z","userId":"422749762060550154"}
{"event":"transcribe_start","guildId":"1203065884990644245","level":"info","message":"Voice event: transcribe_start","timestamp":"2024-12-13T12:50:07.431Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T12:50:13.454Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T12:50:13.560Z","userId":"422749762060550154"}
{"bufferSize":97920,"filepath":"/tmp/1734094217030.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T12:50:17.031Z","userId":"422749762060550154"}
{"error":"WAV file not created: /tmp/1734094217030.wav","guildId":"1203065884990644245","level":"error","message":"Error processing audio buffer","timestamp":"2024-12-13T12:50:17.042Z","userId":"422749762060550154"}
{"bufferSize":97920,"filepath":"/tmp/1734094218051.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T12:50:18.051Z","userId":"422749762060550154"}
{"event":"transcribe_start","guildId":"1203065884990644245","level":"info","message":"Voice event: transcribe_start","timestamp":"2024-12-13T12:50:18.053Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T12:50:20.035Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T12:50:20.140Z","userId":"422749762060550154"}
{"bufferSize":97920,"filepath":"/tmp/1734094229410.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T12:50:29.410Z","userId":"422749762060550154"}
{"error":"WAV file not created: /tmp/1734094229410.wav","guildId":"1203065884990644245","level":"error","message":"Error processing audio buffer","timestamp":"2024-12-13T12:50:29.421Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T12:50:31.014Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T12:50:31.122Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T12:50:33.463Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T12:50:33.567Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T12:50:39.690Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T12:50:39.793Z","userId":"422749762060550154"}
{"envKeys":["OPENAI_API_KEY","ELEVENLABS_API_KEY","HUGGINGFACE_API_KEY","GROQ_API_KEY","ANTHROPIC_API_KEY","TIKTOK_SESSION_ID"],"hasElevenLabsKey":true,"hasHuggingFaceKey":true,"hasTiktokSession":true,"level":"info","message":"TTS Service initialized","timestamp":"2024-12-13T12:58:28.026Z"}
{"level":"info","message":"Registering slash commands...","timestamp":"2024-12-13T12:58:28.072Z"}
{"level":"info","message":"Web server listening on port 3000","timestamp":"2024-12-13T12:58:28.079Z"}
{"level":"info","message":"Slash commands registered successfully","timestamp":"2024-12-13T12:58:28.574Z"}
{"channelId":"1203065885435101268","event":"joining_channel","guildId":"1203065884990644245","level":"info","message":"Voice event: joining_channel","timestamp":"2024-12-13T12:58:49.425Z","userId":"422749762060550154"}
{"channelId":"1203065885435101268","guildId":"1203065884990644245","level":"info","message":"Voice connection ready","timestamp":"2024-12-13T12:58:49.430Z"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T12:58:49.778Z","userId":"422749762060550154"}
{"bufferSize":97920,"filepath":"/tmp/1734094732816.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T12:58:52.816Z","userId":"422749762060550154"}
{"error":"WAV file not created: /tmp/1734094732816.wav","guildId":"1203065884990644245","level":"error","message":"Error processing audio buffer","timestamp":"2024-12-13T12:58:52.825Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T12:58:54.133Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T12:58:54.247Z","userId":"422749762060550154"}
{"bufferSize":97920,"filepath":"/tmp/1734094736671.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T12:58:56.671Z","userId":"422749762060550154"}
{"error":"WAV file not created: /tmp/1734094736671.wav","guildId":"1203065884990644245","level":"error","message":"Error processing audio buffer","timestamp":"2024-12-13T12:58:56.673Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T12:58:57.936Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T12:58:58.038Z","userId":"422749762060550154"}
{"bufferSize":97920,"filepath":"/tmp/1734094739491.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T12:58:59.491Z","userId":"422749762060550154"}
{"error":"WAV file not created: /tmp/1734094739491.wav","guildId":"1203065884990644245","level":"error","message":"Error processing audio buffer","timestamp":"2024-12-13T12:58:59.498Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T12:59:00.547Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T12:59:00.653Z","userId":"422749762060550154"}
{"bufferSize":97920,"filepath":"/tmp/1734094743184.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T12:59:03.184Z","userId":"422749762060550154"}
{"event":"transcribe_start","guildId":"1203065884990644245","level":"info","message":"Voice event: transcribe_start","timestamp":"2024-12-13T12:59:03.191Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T12:59:04.065Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T12:59:04.173Z","userId":"422749762060550154"}
{"event":"transcribe_success","guildId":"1203065884990644245","length":8,"level":"info","message":"Voice event: transcribe_success","timestamp":"2024-12-13T12:59:04.859Z","userId":"422749762060550154"}
{"isPremium":false,"isVoiceInput":true,"level":"info","message":"TTS generation started","provider":"tiktok","textLength":9,"timestamp":"2024-12-13T12:59:05.710Z"}
{"isVoiceInput":true,"level":"info","message":"TikTok TTS started","textLength":9,"timestamp":"2024-12-13T12:59:05.711Z"}
{"duration":865,"fileSize":21549,"isVoiceInput":true,"level":"info","message":"TikTok TTS completed","outputPath":"/tmp/1734094745711_tiktok.mp3","timestamp":"2024-12-13T12:59:06.577Z"}
{"audioPath":"/tmp/1734094745711_tiktok.mp3","level":"info","message":"Playing audio response","timestamp":"2024-12-13T12:59:06.577Z"}
{"audioPath":"/tmp/1734094745711_tiktok.mp3","level":"info","message":"Started playing audio","timestamp":"2024-12-13T12:59:06.630Z"}
{"audioPath":"/tmp/1734094745711_tiktok.mp3","level":"info","message":"Finished playing audio","timestamp":"2024-12-13T12:59:08.088Z"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T12:59:08.986Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T12:59:09.089Z","userId":"422749762060550154"}
{"error":"settings.save is not a function","level":"error","message":"Failed to set TTS provider","provider":"huggingface_facebook","timestamp":"2024-12-13T12:59:26.642Z"}
{"error":"settings.save is not a function","level":"error","message":"Failed to set TTS provider","provider":"huggingface_fastspeech","timestamp":"2024-12-13T12:59:45.291Z"}
{"allowedUsers":0,"guildId":"1203065884990644245","hasAdmin":false,"level":"info","message":"Server settings saved","settingsSize":155,"timestamp":"2024-12-13T13:00:45.324Z"}
{"error":"settings.save is not a function","level":"error","message":"Failed to set TTS provider","provider":"tiktok","timestamp":"2024-12-13T13:00:55.590Z"}
{"envKeys":["OPENAI_API_KEY","ELEVENLABS_API_KEY","HUGGINGFACE_API_KEY","GROQ_API_KEY","ANTHROPIC_API_KEY","TIKTOK_SESSION_ID"],"hasElevenLabsKey":true,"hasHuggingFaceKey":true,"hasTiktokSession":true,"level":"info","message":"TTS Service initialized","timestamp":"2024-12-13T13:01:18.277Z"}
{"level":"info","message":"Registering slash commands...","timestamp":"2024-12-13T13:01:18.312Z"}
{"level":"info","message":"Web server listening on port 3000","timestamp":"2024-12-13T13:01:18.315Z"}
{"level":"info","message":"Slash commands registered successfully","timestamp":"2024-12-13T13:01:18.701Z"}
{"error":"settings.save is not a function","level":"error","message":"Failed to set TTS provider","provider":"tiktok","timestamp":"2024-12-13T13:01:36.570Z"}
{"error":"settings.save is not a function","level":"error","message":"Failed to set TTS provider","provider":"huggingface_facebook","timestamp":"2024-12-13T13:01:55.388Z"}
{"allowedUsers":0,"guildId":"1203065884990644245","hasAdmin":false,"level":"info","message":"Server settings saved","settingsSize":155,"timestamp":"2024-12-13T13:03:14.336Z"}
{"envKeys":["OPENAI_API_KEY","ELEVENLABS_API_KEY","HUGGINGFACE_API_KEY","GROQ_API_KEY","ANTHROPIC_API_KEY","TIKTOK_SESSION_ID"],"hasElevenLabsKey":true,"hasHuggingFaceKey":true,"hasTiktokSession":true,"level":"info","message":"TTS Service initialized","timestamp":"2024-12-13T13:04:44.778Z"}
{"level":"info","message":"Registering slash commands...","timestamp":"2024-12-13T13:04:44.821Z"}
{"level":"info","message":"Web server listening on port 3000","timestamp":"2024-12-13T13:04:44.825Z"}
{"level":"info","message":"Slash commands registered successfully","timestamp":"2024-12-13T13:04:45.386Z"}
{"level":"error","message":"Discord client error: commandHandler.handleLegacyCommand is not a function","stack":"TypeError: commandHandler.handleLegacyCommand is not a function\n    at Client.<anonymous> (/usr/src/app/src/index.js:85:26)\n    at Client.emit (node:events:517:28)\n    at MessageCreateAction.handle (/usr/src/app/node_modules/discord.js/src/client/actions/MessageCreate.js:32:14)\n    at module.exports [as MESSAGE_CREATE] (/usr/src/app/node_modules/discord.js/src/client/websocket/handlers/MESSAGE_CREATE.js:4:32)\n    at WebSocketManager.handlePacket (/usr/src/app/node_modules/discord.js/src/client/websocket/WebSocketManager.js:348:31)\n    at WebSocketManager.<anonymous> (/usr/src/app/node_modules/discord.js/src/client/websocket/WebSocketManager.js:232:12)\n    at WebSocketManager.emit (/usr/src/app/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.<anonymous> (/usr/src/app/node_modules/@discordjs/ws/dist/index.js:1190:51)\n    at WebSocketShard.emit (/usr/src/app/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.onMessage (/usr/src/app/node_modules/@discordjs/ws/dist/index.js:1005:14)","timestamp":"2024-12-13T13:04:53.025Z"}
{"envKeys":["OPENAI_API_KEY","ELEVENLABS_API_KEY","HUGGINGFACE_API_KEY","GROQ_API_KEY","ANTHROPIC_API_KEY","TIKTOK_SESSION_ID"],"hasElevenLabsKey":true,"hasHuggingFaceKey":true,"hasTiktokSession":true,"level":"info","message":"TTS Service initialized","timestamp":"2024-12-13T13:04:53.881Z"}
{"level":"info","message":"Registering slash commands...","timestamp":"2024-12-13T13:04:53.911Z"}
{"level":"info","message":"Web server listening on port 3000","timestamp":"2024-12-13T13:04:53.914Z"}
{"level":"info","message":"Slash commands registered successfully","timestamp":"2024-12-13T13:04:54.375Z"}
{"level":"error","message":"Discord client error: Cannot read properties of undefined (reading 'ttsProvider')","stack":"TypeError: Cannot read properties of undefined (reading 'ttsProvider')\n    at new ServerSettings (/usr/src/app/src/models/ServerSettings.js:12:52)\n    at ServerSettings.fromJSON (/usr/src/app/src/models/ServerSettings.js:91:26)\n    at SettingsService.loadSettings (/usr/src/app/src/services/settingsService.js:30:35)\n    at async SettingsService.getServerSettings (/usr/src/app/src/services/settingsService.js:64:30)\n    at async Client.<anonymous> (/usr/src/app/src/index.js:126:22)","timestamp":"2024-12-13T13:04:55.072Z"}
{"envKeys":["OPENAI_API_KEY","ELEVENLABS_API_KEY","HUGGINGFACE_API_KEY","GROQ_API_KEY","ANTHROPIC_API_KEY","TIKTOK_SESSION_ID"],"hasElevenLabsKey":true,"hasHuggingFaceKey":true,"hasTiktokSession":true,"level":"info","message":"TTS Service initialized","timestamp":"2024-12-13T13:05:57.653Z"}
{"level":"info","message":"Registering slash commands...","timestamp":"2024-12-13T13:05:57.690Z"}
{"level":"info","message":"Web server listening on port 3000","timestamp":"2024-12-13T13:05:57.694Z"}
{"level":"info","message":"Slash commands registered successfully","timestamp":"2024-12-13T13:05:58.144Z"}
{"level":"error","message":"Discord client error: commandHandler.handleLegacyCommand is not a function","stack":"TypeError: commandHandler.handleLegacyCommand is not a function\n    at Client.<anonymous> (/usr/src/app/src/index.js:85:26)\n    at Client.emit (node:events:517:28)\n    at MessageCreateAction.handle (/usr/src/app/node_modules/discord.js/src/client/actions/MessageCreate.js:32:14)\n    at module.exports [as MESSAGE_CREATE] (/usr/src/app/node_modules/discord.js/src/client/websocket/handlers/MESSAGE_CREATE.js:4:32)\n    at WebSocketManager.handlePacket (/usr/src/app/node_modules/discord.js/src/client/websocket/WebSocketManager.js:348:31)\n    at WebSocketManager.<anonymous> (/usr/src/app/node_modules/discord.js/src/client/websocket/WebSocketManager.js:232:12)\n    at WebSocketManager.emit (/usr/src/app/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.<anonymous> (/usr/src/app/node_modules/@discordjs/ws/dist/index.js:1190:51)\n    at WebSocketShard.emit (/usr/src/app/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.onMessage (/usr/src/app/node_modules/@discordjs/ws/dist/index.js:1005:14)","timestamp":"2024-12-13T13:06:07.590Z"}
{"envKeys":["OPENAI_API_KEY","ELEVENLABS_API_KEY","HUGGINGFACE_API_KEY","GROQ_API_KEY","ANTHROPIC_API_KEY","TIKTOK_SESSION_ID"],"hasElevenLabsKey":true,"hasHuggingFaceKey":true,"hasTiktokSession":true,"level":"info","message":"TTS Service initialized","timestamp":"2024-12-13T13:07:19.005Z"}
{"level":"info","message":"Registering slash commands...","timestamp":"2024-12-13T13:07:19.040Z"}
{"level":"info","message":"Web server listening on port 3000","timestamp":"2024-12-13T13:07:19.044Z"}
{"level":"info","message":"Slash commands registered successfully","timestamp":"2024-12-13T13:07:19.730Z"}
{"allowedUsers":0,"guildId":"1203065884990644245","hasAdmin":false,"level":"info","message":"Server settings saved","settingsSize":155,"timestamp":"2024-12-13T13:08:06.380Z"}
{"envKeys":["OPENAI_API_KEY","ELEVENLABS_API_KEY","HUGGINGFACE_API_KEY","GROQ_API_KEY","ANTHROPIC_API_KEY","TIKTOK_SESSION_ID"],"hasElevenLabsKey":true,"hasHuggingFaceKey":true,"hasTiktokSession":true,"level":"info","message":"TTS Service initialized","timestamp":"2024-12-13T13:10:31.726Z"}
{"level":"info","message":"Registering slash commands...","timestamp":"2024-12-13T13:10:31.761Z"}
{"level":"info","message":"Web server listening on port 3000","timestamp":"2024-12-13T13:10:31.763Z"}
{"level":"info","message":"Slash commands registered successfully","timestamp":"2024-12-13T13:10:32.209Z"}
{"level":"error","message":"Discord client error: voiceHandler.handleVoiceStateUpdate is not a function","stack":"TypeError: voiceHandler.handleVoiceStateUpdate is not a function\n    at Client.<anonymous> (/usr/src/app/src/index.js:127:22)\n    at Client.emit (node:events:517:28)\n    at VoiceStateUpdate.handle (/usr/src/app/node_modules/discord.js/src/client/actions/VoiceStateUpdate.js:38:14)\n    at module.exports [as VOICE_STATE_UPDATE] (/usr/src/app/node_modules/discord.js/src/client/websocket/handlers/VOICE_STATE_UPDATE.js:4:35)\n    at WebSocketManager.handlePacket (/usr/src/app/node_modules/discord.js/src/client/websocket/WebSocketManager.js:348:31)\n    at WebSocketManager.<anonymous> (/usr/src/app/node_modules/discord.js/src/client/websocket/WebSocketManager.js:232:12)\n    at WebSocketManager.emit (/usr/src/app/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.<anonymous> (/usr/src/app/node_modules/@discordjs/ws/dist/index.js:1190:51)\n    at WebSocketShard.emit (/usr/src/app/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.onMessage (/usr/src/app/node_modules/@discordjs/ws/dist/index.js:1005:14)","timestamp":"2024-12-13T13:10:33.898Z"}
{"level":"error","message":"Discord client error: voiceHandler.handleVoiceStateUpdate is not a function","stack":"TypeError: voiceHandler.handleVoiceStateUpdate is not a function\n    at Client.<anonymous> (/usr/src/app/src/index.js:127:22)\n    at Client.emit (node:events:517:28)\n    at VoiceStateUpdate.handle (/usr/src/app/node_modules/discord.js/src/client/actions/VoiceStateUpdate.js:38:14)\n    at module.exports [as VOICE_STATE_UPDATE] (/usr/src/app/node_modules/discord.js/src/client/websocket/handlers/VOICE_STATE_UPDATE.js:4:35)\n    at WebSocketManager.handlePacket (/usr/src/app/node_modules/discord.js/src/client/websocket/WebSocketManager.js:348:31)\n    at WebSocketManager.<anonymous> (/usr/src/app/node_modules/discord.js/src/client/websocket/WebSocketManager.js:232:12)\n    at WebSocketManager.emit (/usr/src/app/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.<anonymous> (/usr/src/app/node_modules/@discordjs/ws/dist/index.js:1190:51)\n    at WebSocketShard.emit (/usr/src/app/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.onMessage (/usr/src/app/node_modules/@discordjs/ws/dist/index.js:1005:14)","timestamp":"2024-12-13T13:10:37.425Z"}
{"channelId":"1203065885435101268","event":"joining_channel","guildId":"1203065884990644245","level":"info","message":"Voice event: joining_channel","timestamp":"2024-12-13T13:10:40.699Z","userId":"422749762060550154"}
{"level":"error","message":"Discord client error: voiceHandler.handleVoiceStateUpdate is not a function","stack":"TypeError: voiceHandler.handleVoiceStateUpdate is not a function\n    at Client.<anonymous> (/usr/src/app/src/index.js:127:22)\n    at Client.emit (node:events:517:28)\n    at VoiceStateUpdate.handle (/usr/src/app/node_modules/discord.js/src/client/actions/VoiceStateUpdate.js:38:14)\n    at module.exports [as VOICE_STATE_UPDATE] (/usr/src/app/node_modules/discord.js/src/client/websocket/handlers/VOICE_STATE_UPDATE.js:4:35)\n    at WebSocketManager.handlePacket (/usr/src/app/node_modules/discord.js/src/client/websocket/WebSocketManager.js:348:31)\n    at WebSocketManager.<anonymous> (/usr/src/app/node_modules/discord.js/src/client/websocket/WebSocketManager.js:232:12)\n    at WebSocketManager.emit (/usr/src/app/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.<anonymous> (/usr/src/app/node_modules/@discordjs/ws/dist/index.js:1190:51)\n    at WebSocketShard.emit (/usr/src/app/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.onMessage (/usr/src/app/node_modules/@discordjs/ws/dist/index.js:1005:14)","timestamp":"2024-12-13T13:10:40.913Z"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T13:10:41.027Z","userId":"422749762060550154"}
{"level":"error","message":"Discord client error: voiceHandler.handleVoiceStateUpdate is not a function","stack":"TypeError: voiceHandler.handleVoiceStateUpdate is not a function\n    at Client.<anonymous> (/usr/src/app/src/index.js:127:22)\n    at Client.emit (node:events:517:28)\n    at VoiceStateUpdate.handle (/usr/src/app/node_modules/discord.js/src/client/actions/VoiceStateUpdate.js:38:14)\n    at module.exports [as VOICE_STATE_UPDATE] (/usr/src/app/node_modules/discord.js/src/client/websocket/handlers/VOICE_STATE_UPDATE.js:4:35)\n    at WebSocketManager.handlePacket (/usr/src/app/node_modules/discord.js/src/client/websocket/WebSocketManager.js:348:31)\n    at WebSocketManager.<anonymous> (/usr/src/app/node_modules/discord.js/src/client/websocket/WebSocketManager.js:232:12)\n    at WebSocketManager.emit (/usr/src/app/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.<anonymous> (/usr/src/app/node_modules/@discordjs/ws/dist/index.js:1190:51)\n    at WebSocketShard.emit (/usr/src/app/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.onMessage (/usr/src/app/node_modules/@discordjs/ws/dist/index.js:1005:14)","timestamp":"2024-12-13T13:10:48.714Z"}
{"bufferSize":97920,"filepath":"/tmp/1734095449856.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T13:10:49.857Z","userId":"422749762060550154"}
{"event":"transcribe_start","guildId":"1203065884990644245","level":"info","message":"Voice event: transcribe_start","timestamp":"2024-12-13T13:10:49.863Z","userId":"422749762060550154"}
{"event":"transcribe_success","guildId":"1203065884990644245","length":66,"level":"info","message":"Voice event: transcribe_success","timestamp":"2024-12-13T13:10:50.175Z","userId":"422749762060550154"}
{"isPremium":false,"isVoiceInput":true,"level":"info","message":"TTS generation started","provider":"tiktok","textLength":63,"timestamp":"2024-12-13T13:10:51.108Z"}
{"isVoiceInput":true,"level":"info","message":"TikTok TTS started","textLength":63,"timestamp":"2024-12-13T13:10:51.109Z"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T13:10:51.297Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T13:10:51.403Z","userId":"422749762060550154"}
{"duration":2056,"fileSize":66861,"isVoiceInput":true,"level":"info","message":"TikTok TTS completed","outputPath":"/tmp/1734095451109_tiktok.mp3","timestamp":"2024-12-13T13:10:53.165Z"}
{"audioPath":"/tmp/1734095451109_tiktok.mp3","level":"info","message":"Playing audio response","timestamp":"2024-12-13T13:10:53.166Z"}
{"audioPath":"/tmp/1734095451109_tiktok.mp3","level":"info","message":"Started playing audio","timestamp":"2024-12-13T13:10:53.195Z"}
{"bufferSize":97920,"filepath":"/tmp/1734095455355.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T13:10:55.355Z","userId":"422749762060550154"}
{"event":"transcribe_start","guildId":"1203065884990644245","level":"info","message":"Voice event: transcribe_start","timestamp":"2024-12-13T13:10:55.358Z","userId":"422749762060550154"}
{"audioPath":"/tmp/1734095451109_tiktok.mp3","level":"info","message":"Finished playing audio","timestamp":"2024-12-13T13:10:57.476Z"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T13:10:57.621Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T13:10:57.724Z","userId":"422749762060550154"}
{"level":"error","message":"Discord client error: voiceHandler.handleVoiceStateUpdate is not a function","stack":"TypeError: voiceHandler.handleVoiceStateUpdate is not a function\n    at Client.<anonymous> (/usr/src/app/src/index.js:127:22)\n    at Client.emit (node:events:517:28)\n    at VoiceStateUpdate.handle (/usr/src/app/node_modules/discord.js/src/client/actions/VoiceStateUpdate.js:38:14)\n    at module.exports [as VOICE_STATE_UPDATE] (/usr/src/app/node_modules/discord.js/src/client/websocket/handlers/VOICE_STATE_UPDATE.js:4:35)\n    at WebSocketManager.handlePacket (/usr/src/app/node_modules/discord.js/src/client/websocket/WebSocketManager.js:348:31)\n    at WebSocketManager.<anonymous> (/usr/src/app/node_modules/discord.js/src/client/websocket/WebSocketManager.js:232:12)\n    at WebSocketManager.emit (/usr/src/app/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.<anonymous> (/usr/src/app/node_modules/@discordjs/ws/dist/index.js:1190:51)\n    at WebSocketShard.emit (/usr/src/app/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.onMessage (/usr/src/app/node_modules/@discordjs/ws/dist/index.js:1005:14)","timestamp":"2024-12-13T13:11:02.298Z"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T13:11:03.200Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T13:11:03.305Z","userId":"422749762060550154"}
{"allowedUsers":0,"guildId":"1203065884990644245","hasAdmin":false,"level":"info","message":"Server settings saved","settingsSize":171,"timestamp":"2024-12-13T13:11:25.367Z"}
{"isPremium":false,"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"just birds","timestamp":"2024-12-13T13:11:34.325Z","userId":"422749762060550154"}
{"isPremium":false,"isVoiceInput":false,"level":"info","message":"TTS generation started","provider":"tiktok","textLength":62,"timestamp":"2024-12-13T13:11:34.326Z"}
{"isVoiceInput":false,"level":"info","message":"TikTok TTS started","textLength":62,"timestamp":"2024-12-13T13:11:34.326Z"}
{"duration":1236,"fileSize":76461,"isVoiceInput":false,"level":"info","message":"TikTok TTS completed","outputPath":"/tmp/1734095494327_tiktok.mp3","timestamp":"2024-12-13T13:11:35.563Z"}
{"audioPath":"/tmp/1734095494327_tiktok.mp3","level":"info","message":"Playing audio response","timestamp":"2024-12-13T13:11:35.563Z"}
{"audioPath":"/tmp/1734095494327_tiktok.mp3","level":"info","message":"Started playing audio","timestamp":"2024-12-13T13:11:35.585Z"}
{"audioPath":"/tmp/1734095494327_tiktok.mp3","level":"info","message":"Finished playing audio","timestamp":"2024-12-13T13:11:40.459Z"}
{"error":"Cannot read properties of undefined (reading 'provider')","level":"error","message":"Error in AI response","timestamp":"2024-12-13T13:11:40.461Z"}
{"error":"Cannot read properties of undefined (reading 'provider')","level":"error","message":"Error handling message","timestamp":"2024-12-13T13:11:40.462Z"}
{"envKeys":["OPENAI_API_KEY","ELEVENLABS_API_KEY","HUGGINGFACE_API_KEY","GROQ_API_KEY","ANTHROPIC_API_KEY","TIKTOK_SESSION_ID"],"hasElevenLabsKey":true,"hasHuggingFaceKey":true,"hasTiktokSession":true,"level":"info","message":"TTS Service initialized","timestamp":"2024-12-13T13:13:53.722Z"}
{"level":"info","message":"Registering slash commands...","timestamp":"2024-12-13T13:13:53.757Z"}
{"level":"info","message":"Web server listening on port 3000","timestamp":"2024-12-13T13:13:53.760Z"}
{"level":"info","message":"Slash commands registered successfully","timestamp":"2024-12-13T13:13:54.235Z"}
{"level":"error","message":"Discord client error: voiceHandler.handleVoiceStateUpdate is not a function","stack":"TypeError: voiceHandler.handleVoiceStateUpdate is not a function\n    at Client.<anonymous> (/usr/src/app/src/index.js:127:22)\n    at Client.emit (node:events:517:28)\n    at VoiceStateUpdate.handle (/usr/src/app/node_modules/discord.js/src/client/actions/VoiceStateUpdate.js:38:14)\n    at module.exports [as VOICE_STATE_UPDATE] (/usr/src/app/node_modules/discord.js/src/client/websocket/handlers/VOICE_STATE_UPDATE.js:4:35)\n    at WebSocketManager.handlePacket (/usr/src/app/node_modules/discord.js/src/client/websocket/WebSocketManager.js:348:31)\n    at WebSocketManager.<anonymous> (/usr/src/app/node_modules/discord.js/src/client/websocket/WebSocketManager.js:232:12)\n    at WebSocketManager.emit (/usr/src/app/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.<anonymous> (/usr/src/app/node_modules/@discordjs/ws/dist/index.js:1190:51)\n    at WebSocketShard.emit (/usr/src/app/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.onMessage (/usr/src/app/node_modules/@discordjs/ws/dist/index.js:1005:14)","timestamp":"2024-12-13T13:14:04.594Z"}
{"level":"error","message":"Discord client error: voiceHandler.handleVoiceStateUpdate is not a function","stack":"TypeError: voiceHandler.handleVoiceStateUpdate is not a function\n    at Client.<anonymous> (/usr/src/app/src/index.js:127:22)\n    at Client.emit (node:events:517:28)\n    at VoiceStateUpdate.handle (/usr/src/app/node_modules/discord.js/src/client/actions/VoiceStateUpdate.js:38:14)\n    at module.exports [as VOICE_STATE_UPDATE] (/usr/src/app/node_modules/discord.js/src/client/websocket/handlers/VOICE_STATE_UPDATE.js:4:35)\n    at WebSocketManager.handlePacket (/usr/src/app/node_modules/discord.js/src/client/websocket/WebSocketManager.js:348:31)\n    at WebSocketManager.<anonymous> (/usr/src/app/node_modules/discord.js/src/client/websocket/WebSocketManager.js:232:12)\n    at WebSocketManager.emit (/usr/src/app/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.<anonymous> (/usr/src/app/node_modules/@discordjs/ws/dist/index.js:1190:51)\n    at WebSocketShard.emit (/usr/src/app/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.onMessage (/usr/src/app/node_modules/@discordjs/ws/dist/index.js:1005:14)","timestamp":"2024-12-13T13:14:09.537Z"}
{"channelId":"1203065885435101268","event":"joining_channel","guildId":"1203065884990644245","level":"info","message":"Voice event: joining_channel","timestamp":"2024-12-13T13:14:13.774Z","userId":"422749762060550154"}
{"level":"error","message":"Discord client error: voiceHandler.handleVoiceStateUpdate is not a function","stack":"TypeError: voiceHandler.handleVoiceStateUpdate is not a function\n    at Client.<anonymous> (/usr/src/app/src/index.js:127:22)\n    at Client.emit (node:events:517:28)\n    at VoiceStateUpdate.handle (/usr/src/app/node_modules/discord.js/src/client/actions/VoiceStateUpdate.js:38:14)\n    at module.exports [as VOICE_STATE_UPDATE] (/usr/src/app/node_modules/discord.js/src/client/websocket/handlers/VOICE_STATE_UPDATE.js:4:35)\n    at WebSocketManager.handlePacket (/usr/src/app/node_modules/discord.js/src/client/websocket/WebSocketManager.js:348:31)\n    at WebSocketManager.<anonymous> (/usr/src/app/node_modules/discord.js/src/client/websocket/WebSocketManager.js:232:12)\n    at WebSocketManager.emit (/usr/src/app/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.<anonymous> (/usr/src/app/node_modules/@discordjs/ws/dist/index.js:1190:51)\n    at WebSocketShard.emit (/usr/src/app/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.onMessage (/usr/src/app/node_modules/@discordjs/ws/dist/index.js:1005:14)","timestamp":"2024-12-13T13:14:13.952Z"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T13:14:14.143Z","userId":"422749762060550154"}
{"allowedUsers":0,"guildId":"1203065884990644245","hasAdmin":false,"level":"info","message":"Server settings saved","settingsSize":171,"timestamp":"2024-12-13T13:14:21.928Z"}
{"isPremium":false,"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"hello","timestamp":"2024-12-13T13:14:26.668Z","userId":"422749762060550154"}
{"isPremium":false,"isVoiceInput":false,"level":"info","message":"TTS generation started","provider":"tiktok","textLength":62,"timestamp":"2024-12-13T13:14:26.671Z"}
{"isVoiceInput":false,"level":"info","message":"TikTok TTS started","textLength":62,"timestamp":"2024-12-13T13:14:26.672Z"}
{"duration":1961,"fileSize":76461,"isVoiceInput":false,"level":"info","message":"TikTok TTS completed","outputPath":"/tmp/1734095666673_tiktok.mp3","timestamp":"2024-12-13T13:14:28.634Z"}
{"audioPath":"/tmp/1734095666673_tiktok.mp3","level":"info","message":"Playing audio response","timestamp":"2024-12-13T13:14:28.635Z"}
{"audioPath":"/tmp/1734095666673_tiktok.mp3","level":"info","message":"Started playing audio","timestamp":"2024-12-13T13:14:28.693Z"}
{"audioPath":"/tmp/1734095666673_tiktok.mp3","level":"info","message":"Finished playing audio","timestamp":"2024-12-13T13:14:33.564Z"}
{"level":"error","message":"Invalid model configuration","model":"gpt-3.5-turbo","timestamp":"2024-12-13T13:14:33.567Z"}
{"error":"Invalid model: gpt-3.5-turbo","level":"error","message":"Error in AI response","timestamp":"2024-12-13T13:14:33.568Z"}
{"error":"Invalid model: gpt-3.5-turbo","level":"error","message":"Error handling message","timestamp":"2024-12-13T13:14:33.569Z"}
{"envKeys":["OPENAI_API_KEY","ELEVENLABS_API_KEY","HUGGINGFACE_API_KEY","GROQ_API_KEY","ANTHROPIC_API_KEY","TIKTOK_SESSION_ID"],"hasElevenLabsKey":true,"hasHuggingFaceKey":true,"hasTiktokSession":true,"level":"info","message":"TTS Service initialized","timestamp":"2024-12-13T13:15:58.766Z"}
{"level":"info","message":"Registering slash commands...","timestamp":"2024-12-13T13:15:58.799Z"}
{"level":"info","message":"Web server listening on port 3000","timestamp":"2024-12-13T13:15:58.802Z"}
{"level":"info","message":"Slash commands registered successfully","timestamp":"2024-12-13T13:15:59.483Z"}
{"channelId":"1203065885435101268","event":"leaving_channel","guildId":"1203065884990644245","level":"info","message":"Voice event: leaving_channel","timestamp":"2024-12-13T13:16:01.641Z","userId":"422749762060550154"}
{"channelId":"1203065885435101268","event":"joining_channel","guildId":"1203065884990644245","level":"info","message":"Voice event: joining_channel","timestamp":"2024-12-13T13:16:05.220Z","userId":"422749762060550154"}
{"channelId":"1203065885435101268","event":"joining_channel","guildId":"1203065884990644245","level":"info","message":"Voice event: joining_channel","timestamp":"2024-12-13T13:16:12.961Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T13:16:13.429Z","userId":"422749762060550154"}
{"allowedUsers":0,"guildId":"1203065884990644245","hasAdmin":false,"level":"info","message":"Server settings saved","settingsSize":169,"timestamp":"2024-12-13T13:16:36.791Z"}
{"isPremium":false,"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"tell me a cat joke","timestamp":"2024-12-13T13:16:46.568Z","userId":"422749762060550154"}
{"isPremium":false,"isVoiceInput":false,"level":"info","message":"TTS generation started","provider":"tiktok","textLength":62,"timestamp":"2024-12-13T13:16:46.570Z"}
{"isVoiceInput":false,"level":"info","message":"TikTok TTS started","textLength":62,"timestamp":"2024-12-13T13:16:46.573Z"}
{"duration":2252,"fileSize":76461,"isVoiceInput":false,"level":"info","message":"TikTok TTS completed","outputPath":"/tmp/1734095806574_tiktok.mp3","timestamp":"2024-12-13T13:16:48.825Z"}
{"audioPath":"/tmp/1734095806574_tiktok.mp3","level":"info","message":"Playing audio response","timestamp":"2024-12-13T13:16:48.826Z"}
{"audioPath":"/tmp/1734095806574_tiktok.mp3","level":"info","message":"Started playing audio","timestamp":"2024-12-13T13:16:48.858Z"}
{"audioPath":"/tmp/1734095806574_tiktok.mp3","level":"info","message":"Finished playing audio","timestamp":"2024-12-13T13:16:53.731Z"}
{"isPremium":false,"isVoiceInput":false,"level":"info","message":"TTS generation started","provider":"tiktok","textLength":88,"timestamp":"2024-12-13T13:16:54.414Z"}
{"isVoiceInput":false,"level":"info","message":"TikTok TTS started","textLength":88,"timestamp":"2024-12-13T13:16:54.415Z"}
{"duration":2698,"fileSize":79917,"isVoiceInput":false,"level":"info","message":"TikTok TTS completed","outputPath":"/tmp/1734095814416_tiktok.mp3","timestamp":"2024-12-13T13:16:57.113Z"}
{"audioPath":"/tmp/1734095814416_tiktok.mp3","level":"info","message":"Playing audio response","timestamp":"2024-12-13T13:16:57.115Z"}
{"audioPath":"/tmp/1734095814416_tiktok.mp3","level":"info","message":"Started playing audio","timestamp":"2024-12-13T13:16:57.126Z"}
{"audioPath":"/tmp/1734095814416_tiktok.mp3","level":"info","message":"Finished playing audio","timestamp":"2024-12-13T13:17:02.223Z"}
{"bufferSize":97920,"filepath":"/tmp/1734095843038.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T13:17:23.039Z","userId":"422749762060550154"}
{"event":"transcribe_start","guildId":"1203065884990644245","level":"info","message":"Voice event: transcribe_start","timestamp":"2024-12-13T13:17:23.050Z","userId":"422749762060550154"}
{"error":"this.audioPreprocessor.process is not a function","level":"error","message":"Error transcribing audio","timestamp":"2024-12-13T13:17:23.062Z"}
{"event":"transcribe_success","guildId":"1203065884990644245","length":83,"level":"info","message":"Voice event: transcribe_success","timestamp":"2024-12-13T13:17:23.392Z","userId":"422749762060550154"}
{"isPremium":false,"isVoiceInput":true,"level":"info","message":"TTS generation started","provider":"huggingface_facebook","textLength":38,"timestamp":"2024-12-13T13:17:24.318Z"}
{"isVoiceInput":true,"level":"info","message":"TikTok TTS started","textLength":38,"timestamp":"2024-12-13T13:17:24.319Z"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T13:17:25.073Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T13:17:25.178Z","userId":"422749762060550154"}
{"duration":1728,"fileSize":48045,"isVoiceInput":true,"level":"info","message":"TikTok TTS completed","outputPath":"/tmp/1734095844319_tiktok.mp3","timestamp":"2024-12-13T13:17:26.047Z"}
{"audioPath":"/tmp/1734095844319_tiktok.mp3","level":"info","message":"Playing audio response","timestamp":"2024-12-13T13:17:26.047Z"}
{"audioPath":"/tmp/1734095844319_tiktok.mp3","level":"info","message":"Started playing audio","timestamp":"2024-12-13T13:17:26.075Z"}
{"audioPath":"/tmp/1734095844319_tiktok.mp3","level":"info","message":"Finished playing audio","timestamp":"2024-12-13T13:17:29.186Z"}
{"envKeys":["OPENAI_API_KEY","ELEVENLABS_API_KEY","HUGGINGFACE_API_KEY","GROQ_API_KEY","ANTHROPIC_API_KEY","TIKTOK_SESSION_ID"],"hasElevenLabsKey":true,"hasHuggingFaceKey":true,"hasTiktokSession":true,"level":"info","message":"TTS Service initialized","timestamp":"2024-12-13T13:20:37.057Z"}
{"level":"info","message":"Registering slash commands...","timestamp":"2024-12-13T13:20:37.157Z"}
{"level":"info","message":"Web server listening on port 3000","timestamp":"2024-12-13T13:20:37.163Z"}
{"level":"info","message":"Slash commands registered successfully","timestamp":"2024-12-13T13:20:37.607Z"}
{"channelId":"1203065885435101268","event":"joining_channel","guildId":"1203065884990644245","level":"info","message":"Voice event: joining_channel","timestamp":"2024-12-13T13:20:40.207Z","userId":"422749762060550154"}
{"level":"error","message":"Discord client error: voiceHandler.handleVoiceStateUpdate is not a function","stack":"TypeError: voiceHandler.handleVoiceStateUpdate is not a function\n    at Client.<anonymous> (/usr/src/app/src/index.js:127:22)\n    at Client.emit (node:events:517:28)\n    at VoiceStateUpdate.handle (/usr/src/app/node_modules/discord.js/src/client/actions/VoiceStateUpdate.js:38:14)\n    at module.exports [as VOICE_STATE_UPDATE] (/usr/src/app/node_modules/discord.js/src/client/websocket/handlers/VOICE_STATE_UPDATE.js:4:35)\n    at WebSocketManager.handlePacket (/usr/src/app/node_modules/discord.js/src/client/websocket/WebSocketManager.js:348:31)\n    at WebSocketManager.<anonymous> (/usr/src/app/node_modules/discord.js/src/client/websocket/WebSocketManager.js:232:12)\n    at WebSocketManager.emit (/usr/src/app/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.<anonymous> (/usr/src/app/node_modules/@discordjs/ws/dist/index.js:1190:51)\n    at WebSocketShard.emit (/usr/src/app/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.onMessage (/usr/src/app/node_modules/@discordjs/ws/dist/index.js:1005:14)","timestamp":"2024-12-13T13:20:40.424Z"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T13:20:40.725Z","userId":"422749762060550154"}
{"level":"error","message":"Discord client error: voiceHandler.handleVoiceStateUpdate is not a function","stack":"TypeError: voiceHandler.handleVoiceStateUpdate is not a function\n    at Client.<anonymous> (/usr/src/app/src/index.js:127:22)\n    at Client.emit (node:events:517:28)\n    at VoiceStateUpdate.handle (/usr/src/app/node_modules/discord.js/src/client/actions/VoiceStateUpdate.js:38:14)\n    at module.exports [as VOICE_STATE_UPDATE] (/usr/src/app/node_modules/discord.js/src/client/websocket/handlers/VOICE_STATE_UPDATE.js:4:35)\n    at WebSocketManager.handlePacket (/usr/src/app/node_modules/discord.js/src/client/websocket/WebSocketManager.js:348:31)\n    at WebSocketManager.<anonymous> (/usr/src/app/node_modules/discord.js/src/client/websocket/WebSocketManager.js:232:12)\n    at WebSocketManager.emit (/usr/src/app/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.<anonymous> (/usr/src/app/node_modules/@discordjs/ws/dist/index.js:1190:51)\n    at WebSocketShard.emit (/usr/src/app/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.onMessage (/usr/src/app/node_modules/@discordjs/ws/dist/index.js:1005:14)","timestamp":"2024-12-13T13:20:42.197Z"}
{"bufferSize":97920,"filepath":"/tmp/1734096043435.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T13:20:43.435Z","userId":"422749762060550154"}
{"event":"transcribe_start","guildId":"1203065884990644245","level":"info","message":"Voice event: transcribe_start","timestamp":"2024-12-13T13:20:43.443Z","userId":"422749762060550154"}
{"event":"transcribe_success","guildId":"1203065884990644245","length":5,"level":"info","message":"Voice event: transcribe_success","timestamp":"2024-12-13T13:20:44.772Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T13:20:44.974Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T13:20:45.075Z","userId":"422749762060550154"}
{"isPremium":false,"isVoiceInput":true,"level":"info","message":"TTS generation started","provider":"huggingface_facebook","textLength":34,"timestamp":"2024-12-13T13:20:45.672Z"}
{"isVoiceInput":true,"level":"info","message":"TikTok TTS started","textLength":34,"timestamp":"2024-12-13T13:20:45.674Z"}
{"duration":965,"fileSize":46125,"isVoiceInput":true,"level":"info","message":"TikTok TTS completed","outputPath":"/tmp/1734096045675_tiktok.mp3","timestamp":"2024-12-13T13:20:46.639Z"}
{"audioPath":"/tmp/1734096045675_tiktok.mp3","level":"info","message":"Playing audio response","timestamp":"2024-12-13T13:20:46.640Z"}
{"audioPath":"/tmp/1734096045675_tiktok.mp3","level":"info","message":"Started playing audio","timestamp":"2024-12-13T13:20:46.675Z"}
{"bufferSize":97920,"filepath":"/tmp/1734096048973.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T13:20:48.973Z","userId":"422749762060550154"}
{"error":"WAV file not created: /tmp/1734096048973.wav","guildId":"1203065884990644245","level":"error","message":"Error processing audio buffer","timestamp":"2024-12-13T13:20:48.976Z","userId":"422749762060550154"}
{"audioPath":"/tmp/1734096045675_tiktok.mp3","level":"info","message":"Finished playing audio","timestamp":"2024-12-13T13:20:49.672Z"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T13:20:50.976Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T13:20:51.080Z","userId":"422749762060550154"}
{"bufferSize":97920,"filepath":"/tmp/1734096062192.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T13:21:02.192Z","userId":"422749762060550154"}
{"event":"transcribe_start","guildId":"1203065884990644245","level":"info","message":"Voice event: transcribe_start","timestamp":"2024-12-13T13:21:02.194Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T13:21:03.138Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T13:21:03.241Z","userId":"422749762060550154"}
{"bufferSize":97920,"filepath":"/tmp/1734096075195.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T13:21:15.196Z","userId":"422749762060550154"}
{"event":"transcribe_start","guildId":"1203065884990644245","level":"info","message":"Voice event: transcribe_start","timestamp":"2024-12-13T13:21:15.206Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T13:21:17.156Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T13:21:17.260Z","userId":"422749762060550154"}
{"bufferSize":97920,"filepath":"/tmp/1734096084069.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T13:21:24.069Z","userId":"422749762060550154"}
{"event":"transcribe_start","guildId":"1203065884990644245","level":"info","message":"Voice event: transcribe_start","timestamp":"2024-12-13T13:21:24.072Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T13:21:24.894Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T13:21:25.001Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T13:21:29.474Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T13:21:29.578Z","userId":"422749762060550154"}
{"bufferSize":97920,"filepath":"/tmp/1734096090589.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T13:21:30.590Z","userId":"422749762060550154"}
{"error":"WAV file not created: /tmp/1734096090589.wav","guildId":"1203065884990644245","level":"error","message":"Error processing audio buffer","timestamp":"2024-12-13T13:21:30.598Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T13:21:31.401Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T13:21:31.509Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T13:21:37.729Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T13:21:37.834Z","userId":"422749762060550154"}
{"bufferSize":97920,"filepath":"/tmp/1734096100649.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T13:21:40.649Z","userId":"422749762060550154"}
{"event":"transcribe_start","guildId":"1203065884990644245","level":"info","message":"Voice event: transcribe_start","timestamp":"2024-12-13T13:21:40.654Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T13:21:42.393Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T13:21:42.498Z","userId":"422749762060550154"}
{"bufferSize":97920,"filepath":"/tmp/1734096106169.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T13:21:46.170Z","userId":"422749762060550154"}
{"event":"transcribe_start","guildId":"1203065884990644245","level":"info","message":"Voice event: transcribe_start","timestamp":"2024-12-13T13:21:46.173Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T13:21:47.709Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T13:21:47.812Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T13:21:49.036Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T13:21:49.141Z","userId":"422749762060550154"}
{"bufferSize":97920,"filepath":"/tmp/1734096110395.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T13:21:50.395Z","userId":"422749762060550154"}
{"event":"transcribe_start","guildId":"1203065884990644245","level":"info","message":"Voice event: transcribe_start","timestamp":"2024-12-13T13:21:50.399Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T13:21:56.655Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T13:21:56.759Z","userId":"422749762060550154"}
{"bufferSize":97920,"filepath":"/tmp/1734096118993.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T13:21:58.993Z","userId":"422749762060550154"}
{"error":"WAV file not created: /tmp/1734096118993.wav","guildId":"1203065884990644245","level":"error","message":"Error processing audio buffer","timestamp":"2024-12-13T13:21:58.998Z","userId":"422749762060550154"}
{"bufferSize":97920,"filepath":"/tmp/1734096120014.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T13:22:00.014Z","userId":"422749762060550154"}
{"event":"transcribe_start","guildId":"1203065884990644245","level":"info","message":"Voice event: transcribe_start","timestamp":"2024-12-13T13:22:00.016Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T13:22:02.434Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T13:22:02.535Z","userId":"422749762060550154"}
{"bufferSize":97920,"filepath":"/tmp/1734096123551.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T13:22:03.553Z","userId":"422749762060550154"}
{"event":"transcribe_start","guildId":"1203065884990644245","level":"info","message":"Voice event: transcribe_start","timestamp":"2024-12-13T13:22:03.557Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T13:22:09.117Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T13:22:09.227Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T13:22:17.551Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T13:22:17.653Z","userId":"422749762060550154"}
{"level":"error","message":"Discord client error: voiceHandler.handleVoiceStateUpdate is not a function","stack":"TypeError: voiceHandler.handleVoiceStateUpdate is not a function\n    at Client.<anonymous> (/usr/src/app/src/index.js:127:22)\n    at Client.emit (node:events:517:28)\n    at VoiceStateUpdate.handle (/usr/src/app/node_modules/discord.js/src/client/actions/VoiceStateUpdate.js:38:14)\n    at module.exports [as VOICE_STATE_UPDATE] (/usr/src/app/node_modules/discord.js/src/client/websocket/handlers/VOICE_STATE_UPDATE.js:4:35)\n    at WebSocketManager.handlePacket (/usr/src/app/node_modules/discord.js/src/client/websocket/WebSocketManager.js:348:31)\n    at WebSocketManager.<anonymous> (/usr/src/app/node_modules/discord.js/src/client/websocket/WebSocketManager.js:232:12)\n    at WebSocketManager.emit (/usr/src/app/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.<anonymous> (/usr/src/app/node_modules/@discordjs/ws/dist/index.js:1190:51)\n    at WebSocketShard.emit (/usr/src/app/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.onMessage (/usr/src/app/node_modules/@discordjs/ws/dist/index.js:1005:14)","timestamp":"2024-12-13T13:22:17.982Z"}
{"envKeys":["OPENAI_API_KEY","ELEVENLABS_API_KEY","HUGGINGFACE_API_KEY","GROQ_API_KEY","ANTHROPIC_API_KEY","TIKTOK_SESSION_ID"],"hasElevenLabsKey":true,"hasHuggingFaceKey":true,"hasTiktokSession":true,"level":"info","message":"TTS Service initialized","timestamp":"2024-12-13T13:23:38.815Z"}
{"level":"info","message":"Registering slash commands...","timestamp":"2024-12-13T13:23:39.008Z"}
{"level":"info","message":"Web server listening on port 3000","timestamp":"2024-12-13T13:23:39.027Z"}
{"level":"info","message":"Slash commands registered successfully","timestamp":"2024-12-13T13:23:39.714Z"}
{"level":"error","message":"Discord client error: voiceHandler.handleVoiceStateUpdate is not a function","stack":"TypeError: voiceHandler.handleVoiceStateUpdate is not a function\n    at Client.<anonymous> (/usr/src/app/src/index.js:127:22)\n    at Client.emit (node:events:517:28)\n    at VoiceStateUpdate.handle (/usr/src/app/node_modules/discord.js/src/client/actions/VoiceStateUpdate.js:38:14)\n    at module.exports [as VOICE_STATE_UPDATE] (/usr/src/app/node_modules/discord.js/src/client/websocket/handlers/VOICE_STATE_UPDATE.js:4:35)\n    at WebSocketManager.handlePacket (/usr/src/app/node_modules/discord.js/src/client/websocket/WebSocketManager.js:348:31)\n    at WebSocketManager.<anonymous> (/usr/src/app/node_modules/discord.js/src/client/websocket/WebSocketManager.js:232:12)\n    at WebSocketManager.emit (/usr/src/app/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.<anonymous> (/usr/src/app/node_modules/@discordjs/ws/dist/index.js:1190:51)\n    at WebSocketShard.emit (/usr/src/app/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.onMessage (/usr/src/app/node_modules/@discordjs/ws/dist/index.js:1005:14)","timestamp":"2024-12-13T13:23:46.218Z"}
{"channelId":"1203065885435101268","event":"joining_channel","guildId":"1203065884990644245","level":"info","message":"Voice event: joining_channel","timestamp":"2024-12-13T13:23:52.536Z","userId":"422749762060550154"}
{"level":"error","message":"Discord client error: voiceHandler.handleVoiceStateUpdate is not a function","stack":"TypeError: voiceHandler.handleVoiceStateUpdate is not a function\n    at Client.<anonymous> (/usr/src/app/src/index.js:127:22)\n    at Client.emit (node:events:517:28)\n    at VoiceStateUpdate.handle (/usr/src/app/node_modules/discord.js/src/client/actions/VoiceStateUpdate.js:38:14)\n    at module.exports [as VOICE_STATE_UPDATE] (/usr/src/app/node_modules/discord.js/src/client/websocket/handlers/VOICE_STATE_UPDATE.js:4:35)\n    at WebSocketManager.handlePacket (/usr/src/app/node_modules/discord.js/src/client/websocket/WebSocketManager.js:348:31)\n    at WebSocketManager.<anonymous> (/usr/src/app/node_modules/discord.js/src/client/websocket/WebSocketManager.js:232:12)\n    at WebSocketManager.emit (/usr/src/app/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.<anonymous> (/usr/src/app/node_modules/@discordjs/ws/dist/index.js:1190:51)\n    at WebSocketShard.emit (/usr/src/app/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.onMessage (/usr/src/app/node_modules/@discordjs/ws/dist/index.js:1005:14)","timestamp":"2024-12-13T13:23:52.738Z"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T13:23:52.988Z","userId":"422749762060550154"}
{"level":"error","message":"Discord client error: voiceHandler.handleVoiceStateUpdate is not a function","stack":"TypeError: voiceHandler.handleVoiceStateUpdate is not a function\n    at Client.<anonymous> (/usr/src/app/src/index.js:127:22)\n    at Client.emit (node:events:517:28)\n    at VoiceStateUpdate.handle (/usr/src/app/node_modules/discord.js/src/client/actions/VoiceStateUpdate.js:38:14)\n    at module.exports [as VOICE_STATE_UPDATE] (/usr/src/app/node_modules/discord.js/src/client/websocket/handlers/VOICE_STATE_UPDATE.js:4:35)\n    at WebSocketManager.handlePacket (/usr/src/app/node_modules/discord.js/src/client/websocket/WebSocketManager.js:348:31)\n    at WebSocketManager.<anonymous> (/usr/src/app/node_modules/discord.js/src/client/websocket/WebSocketManager.js:232:12)\n    at WebSocketManager.emit (/usr/src/app/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.<anonymous> (/usr/src/app/node_modules/@discordjs/ws/dist/index.js:1190:51)\n    at WebSocketShard.emit (/usr/src/app/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.onMessage (/usr/src/app/node_modules/@discordjs/ws/dist/index.js:1005:14)","timestamp":"2024-12-13T13:24:02.576Z"}
{"level":"error","message":"Discord client error: voiceHandler.handleVoiceStateUpdate is not a function","stack":"TypeError: voiceHandler.handleVoiceStateUpdate is not a function\n    at Client.<anonymous> (/usr/src/app/src/index.js:127:22)\n    at Client.emit (node:events:517:28)\n    at VoiceStateUpdate.handle (/usr/src/app/node_modules/discord.js/src/client/actions/VoiceStateUpdate.js:38:14)\n    at module.exports [as VOICE_STATE_UPDATE] (/usr/src/app/node_modules/discord.js/src/client/websocket/handlers/VOICE_STATE_UPDATE.js:4:35)\n    at WebSocketManager.handlePacket (/usr/src/app/node_modules/discord.js/src/client/websocket/WebSocketManager.js:348:31)\n    at WebSocketManager.<anonymous> (/usr/src/app/node_modules/discord.js/src/client/websocket/WebSocketManager.js:232:12)\n    at WebSocketManager.emit (/usr/src/app/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.<anonymous> (/usr/src/app/node_modules/@discordjs/ws/dist/index.js:1190:51)\n    at WebSocketShard.emit (/usr/src/app/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.onMessage (/usr/src/app/node_modules/@discordjs/ws/dist/index.js:1005:14)","timestamp":"2024-12-13T13:24:06.787Z"}
{"allowedUsers":0,"guildId":"1203065884990644245","hasAdmin":false,"level":"info","message":"Server settings saved","settingsSize":171,"timestamp":"2024-12-13T13:24:14.980Z"}
{"level":"error","message":"Discord client error: voiceHandler.handleVoiceStateUpdate is not a function","stack":"TypeError: voiceHandler.handleVoiceStateUpdate is not a function\n    at Client.<anonymous> (/usr/src/app/src/index.js:127:22)\n    at Client.emit (node:events:517:28)\n    at VoiceStateUpdate.handle (/usr/src/app/node_modules/discord.js/src/client/actions/VoiceStateUpdate.js:38:14)\n    at module.exports [as VOICE_STATE_UPDATE] (/usr/src/app/node_modules/discord.js/src/client/websocket/handlers/VOICE_STATE_UPDATE.js:4:35)\n    at WebSocketManager.handlePacket (/usr/src/app/node_modules/discord.js/src/client/websocket/WebSocketManager.js:348:31)\n    at WebSocketManager.<anonymous> (/usr/src/app/node_modules/discord.js/src/client/websocket/WebSocketManager.js:232:12)\n    at WebSocketManager.emit (/usr/src/app/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.<anonymous> (/usr/src/app/node_modules/@discordjs/ws/dist/index.js:1190:51)\n    at WebSocketShard.emit (/usr/src/app/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.onMessage (/usr/src/app/node_modules/@discordjs/ws/dist/index.js:1005:14)","timestamp":"2024-12-13T13:24:19.522Z"}
{"bufferSize":97920,"filepath":"/tmp/1734096260087.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T13:24:20.087Z","userId":"422749762060550154"}
{"error":"WAV file was not created","level":"error","message":"Error creating WAV file:","timestamp":"2024-12-13T13:24:20.093Z"}
{"bufferSize":97920,"filepath":"/tmp/1734096261187.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T13:24:21.187Z","userId":"422749762060550154"}
{"error":"WAV file was not created","level":"error","message":"Error creating WAV file:","timestamp":"2024-12-13T13:24:21.189Z"}
{"bufferSize":97920,"filepath":"/tmp/1734096262206.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T13:24:22.207Z","userId":"422749762060550154"}
{"error":"WAV file was not created","level":"error","message":"Error creating WAV file:","timestamp":"2024-12-13T13:24:22.213Z"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T13:24:23.010Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T13:24:23.113Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T13:24:27.769Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T13:24:27.874Z","userId":"422749762060550154"}
{"bufferSize":97920,"filepath":"/tmp/1734096274671.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T13:24:34.671Z","userId":"422749762060550154"}
{"event":"transcribe_start","guildId":"1203065884990644245","level":"info","message":"Voice event: transcribe_start","timestamp":"2024-12-13T13:24:34.674Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T13:24:35.468Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T13:24:35.572Z","userId":"422749762060550154"}
{"event":"transcribe_success","guildId":"1203065884990644245","length":6,"level":"info","message":"Voice event: transcribe_success","timestamp":"2024-12-13T13:24:36.357Z","userId":"422749762060550154"}
{"isPremium":false,"isVoiceInput":true,"level":"info","message":"TTS generation started","provider":"huggingface_fastspeech","textLength":34,"timestamp":"2024-12-13T13:24:37.376Z"}
{"isVoiceInput":true,"level":"info","message":"TikTok TTS started","textLength":34,"timestamp":"2024-12-13T13:24:37.377Z"}
{"duration":1079,"fileSize":46125,"isVoiceInput":true,"level":"info","message":"TikTok TTS completed","outputPath":"/tmp/1734096277378_tiktok.mp3","timestamp":"2024-12-13T13:24:38.456Z"}
{"audioPath":"/tmp/1734096277378_tiktok.mp3","level":"info","message":"Playing audio response","timestamp":"2024-12-13T13:24:38.457Z"}
{"audioPath":"/tmp/1734096277378_tiktok.mp3","level":"info","message":"Started playing audio","timestamp":"2024-12-13T13:24:38.493Z"}
{"level":"error","message":"Discord client error: voiceHandler.handleVoiceStateUpdate is not a function","stack":"TypeError: voiceHandler.handleVoiceStateUpdate is not a function\n    at Client.<anonymous> (/usr/src/app/src/index.js:127:22)\n    at Client.emit (node:events:517:28)\n    at VoiceStateUpdate.handle (/usr/src/app/node_modules/discord.js/src/client/actions/VoiceStateUpdate.js:38:14)\n    at module.exports [as VOICE_STATE_UPDATE] (/usr/src/app/node_modules/discord.js/src/client/websocket/handlers/VOICE_STATE_UPDATE.js:4:35)\n    at WebSocketManager.handlePacket (/usr/src/app/node_modules/discord.js/src/client/websocket/WebSocketManager.js:348:31)\n    at WebSocketManager.<anonymous> (/usr/src/app/node_modules/discord.js/src/client/websocket/WebSocketManager.js:232:12)\n    at WebSocketManager.emit (/usr/src/app/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.<anonymous> (/usr/src/app/node_modules/@discordjs/ws/dist/index.js:1190:51)\n    at WebSocketShard.emit (/usr/src/app/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.onMessage (/usr/src/app/node_modules/@discordjs/ws/dist/index.js:1005:14)","timestamp":"2024-12-13T13:24:39.227Z"}
{"audioPath":"/tmp/1734096277378_tiktok.mp3","level":"info","message":"Finished playing audio","timestamp":"2024-12-13T13:24:41.491Z"}
{"envKeys":["OPENAI_API_KEY","ELEVENLABS_API_KEY","HUGGINGFACE_API_KEY","GROQ_API_KEY","ANTHROPIC_API_KEY","TIKTOK_SESSION_ID"],"hasElevenLabsKey":true,"hasHuggingFaceKey":true,"hasTiktokSession":true,"level":"info","message":"TTS Service initialized","timestamp":"2024-12-13T18:18:21.306Z"}
{"level":"info","message":"Registering slash commands...","timestamp":"2024-12-13T18:18:21.332Z"}
{"level":"info","message":"Web server listening on port 3000","timestamp":"2024-12-13T18:18:21.334Z"}
{"level":"info","message":"Slash commands registered successfully","timestamp":"2024-12-13T18:18:21.746Z"}
{"channelId":"1203065885435101268","event":"joining_channel","guildId":"1203065884990644245","level":"info","message":"Voice event: joining_channel","timestamp":"2024-12-13T18:18:29.897Z","userId":"422749762060550154"}
{"level":"error","message":"Discord client error: voiceHandler.handleVoiceStateUpdate is not a function","stack":"TypeError: voiceHandler.handleVoiceStateUpdate is not a function\n    at Client.<anonymous> (/usr/src/app/src/index.js:127:22)\n    at Client.emit (node:events:517:28)\n    at VoiceStateUpdate.handle (/usr/src/app/node_modules/discord.js/src/client/actions/VoiceStateUpdate.js:38:14)\n    at module.exports [as VOICE_STATE_UPDATE] (/usr/src/app/node_modules/discord.js/src/client/websocket/handlers/VOICE_STATE_UPDATE.js:4:35)\n    at WebSocketManager.handlePacket (/usr/src/app/node_modules/discord.js/src/client/websocket/WebSocketManager.js:348:31)\n    at WebSocketManager.<anonymous> (/usr/src/app/node_modules/discord.js/src/client/websocket/WebSocketManager.js:232:12)\n    at WebSocketManager.emit (/usr/src/app/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.<anonymous> (/usr/src/app/node_modules/@discordjs/ws/dist/index.js:1190:51)\n    at WebSocketShard.emit (/usr/src/app/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.onMessage (/usr/src/app/node_modules/@discordjs/ws/dist/index.js:1005:14)","timestamp":"2024-12-13T18:18:30.064Z"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T18:18:30.491Z","userId":"422749762060550154"}
{"isPremium":false,"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"okay boss","timestamp":"2024-12-13T18:18:37.613Z","userId":"422749762060550154"}
{"isPremium":false,"isVoiceInput":false,"level":"info","message":"TTS generation started","provider":"tiktok","textLength":62,"timestamp":"2024-12-13T18:18:37.615Z"}
{"isVoiceInput":false,"level":"info","message":"TikTok TTS started","textLength":62,"timestamp":"2024-12-13T18:18:37.616Z"}
{"duration":1565,"fileSize":76461,"isVoiceInput":false,"level":"info","message":"TikTok TTS completed","outputPath":"/tmp/1734113917617_tiktok.mp3","timestamp":"2024-12-13T18:18:39.181Z"}
{"audioPath":"/tmp/1734113917617_tiktok.mp3","level":"info","message":"Playing audio response","timestamp":"2024-12-13T18:18:39.182Z"}
{"error":"Cannot read properties of undefined (reading 'provider')","level":"error","message":"Error in AI response","timestamp":"2024-12-13T18:18:39.204Z"}
{"error":"Cannot read properties of undefined (reading 'provider')","level":"error","message":"Error handling message","timestamp":"2024-12-13T18:18:39.205Z"}
{"audioPath":"/tmp/1734113917617_tiktok.mp3","level":"info","message":"Started playing audio","timestamp":"2024-12-13T18:18:39.222Z"}
{"audioPath":"/tmp/1734113917617_tiktok.mp3","level":"info","message":"Finished playing audio","timestamp":"2024-12-13T18:18:44.092Z"}
{"audioPath":"/tmp/1734113917617_tiktok.mp3","error":"ENOENT: no such file or directory, unlink '/tmp/1734113917617_tiktok.mp3'","level":"warn","message":"Failed to clean up audio file","timestamp":"2024-12-13T18:18:44.093Z"}
{"envKeys":["OPENAI_API_KEY","ELEVENLABS_API_KEY","HUGGINGFACE_API_KEY","GROQ_API_KEY","ANTHROPIC_API_KEY","TIKTOK_SESSION_ID"],"hasElevenLabsKey":true,"hasHuggingFaceKey":true,"hasTiktokSession":true,"level":"info","message":"TTS Service initialized","timestamp":"2024-12-13T18:19:06.681Z"}
{"level":"info","message":"Registering slash commands...","timestamp":"2024-12-13T18:19:06.705Z"}
{"level":"info","message":"Web server listening on port 3000","timestamp":"2024-12-13T18:19:06.709Z"}
{"level":"info","message":"Slash commands registered successfully","timestamp":"2024-12-13T18:19:07.149Z"}
{"channelId":"1203065885435101268","event":"joining_channel","guildId":"1203065884990644245","level":"info","message":"Voice event: joining_channel","timestamp":"2024-12-13T18:19:11.865Z","userId":"422749762060550154"}
{"level":"error","message":"Discord client error: voiceHandler.handleVoiceStateUpdate is not a function","stack":"TypeError: voiceHandler.handleVoiceStateUpdate is not a function\n    at Client.<anonymous> (/usr/src/app/src/index.js:127:22)\n    at Client.emit (node:events:517:28)\n    at VoiceStateUpdate.handle (/usr/src/app/node_modules/discord.js/src/client/actions/VoiceStateUpdate.js:38:14)\n    at module.exports [as VOICE_STATE_UPDATE] (/usr/src/app/node_modules/discord.js/src/client/websocket/handlers/VOICE_STATE_UPDATE.js:4:35)\n    at WebSocketManager.handlePacket (/usr/src/app/node_modules/discord.js/src/client/websocket/WebSocketManager.js:348:31)\n    at WebSocketManager.<anonymous> (/usr/src/app/node_modules/discord.js/src/client/websocket/WebSocketManager.js:232:12)\n    at WebSocketManager.emit (/usr/src/app/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.<anonymous> (/usr/src/app/node_modules/@discordjs/ws/dist/index.js:1190:51)\n    at WebSocketShard.emit (/usr/src/app/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.onMessage (/usr/src/app/node_modules/@discordjs/ws/dist/index.js:1005:14)","timestamp":"2024-12-13T18:19:12.036Z"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T18:19:12.210Z","userId":"422749762060550154"}
{"channelId":"1203065885435101268","event":"joining_channel","guildId":"1203065884990644245","level":"info","message":"Voice event: joining_channel","timestamp":"2024-12-13T18:19:16.196Z","userId":"422749762060550154"}
{"level":"error","message":"Discord client error: voiceHandler.handleVoiceStateUpdate is not a function","stack":"TypeError: voiceHandler.handleVoiceStateUpdate is not a function\n    at Client.<anonymous> (/usr/src/app/src/index.js:127:22)\n    at Client.emit (node:events:517:28)\n    at VoiceStateUpdate.handle (/usr/src/app/node_modules/discord.js/src/client/actions/VoiceStateUpdate.js:38:14)\n    at module.exports [as VOICE_STATE_UPDATE] (/usr/src/app/node_modules/discord.js/src/client/websocket/handlers/VOICE_STATE_UPDATE.js:4:35)\n    at WebSocketManager.handlePacket (/usr/src/app/node_modules/discord.js/src/client/websocket/WebSocketManager.js:348:31)\n    at WebSocketManager.<anonymous> (/usr/src/app/node_modules/discord.js/src/client/websocket/WebSocketManager.js:232:12)\n    at WebSocketManager.emit (/usr/src/app/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.<anonymous> (/usr/src/app/node_modules/@discordjs/ws/dist/index.js:1190:51)\n    at WebSocketShard.emit (/usr/src/app/node_modules/@vladfrangu/async_event_emitter/dist/index.cjs:287:31)\n    at WebSocketShard.onMessage (/usr/src/app/node_modules/@discordjs/ws/dist/index.js:1005:14)","timestamp":"2024-12-13T18:19:16.366Z"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T18:19:16.501Z","userId":"422749762060550154"}
{"envKeys":["OPENAI_API_KEY","ELEVENLABS_API_KEY","HUGGINGFACE_API_KEY","GROQ_API_KEY","ANTHROPIC_API_KEY","TIKTOK_SESSION_ID"],"hasElevenLabsKey":true,"hasHuggingFaceKey":true,"hasTiktokSession":true,"level":"info","message":"TTS Service initialized","timestamp":"2024-12-13T18:20:42.222Z"}
{"level":"info","message":"Registering slash commands...","timestamp":"2024-12-13T18:20:42.243Z"}
{"level":"info","message":"Web server listening on port 3000","timestamp":"2024-12-13T18:20:42.245Z"}
{"level":"info","message":"Slash commands registered successfully","timestamp":"2024-12-13T18:20:42.950Z"}
{"channelId":"1203065885435101268","event":"joining_channel","guildId":"1203065884990644245","level":"info","message":"Voice event: joining_channel","timestamp":"2024-12-13T18:20:46.318Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T18:20:46.736Z","userId":"422749762060550154"}
{"isPremium":false,"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"fiinally","timestamp":"2024-12-13T18:20:51.403Z","userId":"422749762060550154"}
{"isPremium":false,"isVoiceInput":false,"level":"info","message":"TTS generation started","provider":"tiktok","textLength":62,"timestamp":"2024-12-13T18:20:51.404Z"}
{"isVoiceInput":false,"level":"info","message":"TikTok TTS started","textLength":62,"timestamp":"2024-12-13T18:20:51.406Z"}
{"duration":1529,"fileSize":76461,"isVoiceInput":false,"level":"info","message":"TikTok TTS completed","outputPath":"/tmp/1734114051406_tiktok.mp3","timestamp":"2024-12-13T18:20:52.934Z"}
{"audioPath":"/tmp/1734114051406_tiktok.mp3","level":"info","message":"Playing audio response","timestamp":"2024-12-13T18:20:52.935Z"}
{"audioPath":"/tmp/1734114051406_tiktok.mp3","level":"info","message":"Started playing audio","timestamp":"2024-12-13T18:20:52.965Z"}
{"isPremium":false,"isVoiceInput":false,"level":"info","message":"TTS generation started","provider":"tiktok","textLength":278,"timestamp":"2024-12-13T18:20:54.738Z"}
{"isVoiceInput":false,"level":"info","message":"TikTok TTS started","textLength":278,"timestamp":"2024-12-13T18:20:54.738Z"}
{"duration":2005,"fileSize":321837,"isVoiceInput":false,"level":"info","message":"TikTok TTS completed","outputPath":"/tmp/1734114054739_tiktok.mp3","timestamp":"2024-12-13T18:20:56.743Z"}
{"audioPath":"/tmp/1734114054739_tiktok.mp3","level":"info","message":"Playing audio response","timestamp":"2024-12-13T18:20:56.744Z"}
{"audioPath":"/tmp/1734114054739_tiktok.mp3","level":"info","message":"Started playing audio","timestamp":"2024-12-13T18:20:56.762Z"}
{"audioPath":"/tmp/1734114054739_tiktok.mp3","level":"info","message":"Finished playing audio","timestamp":"2024-12-13T18:21:16.977Z"}
{"audioPath":"/tmp/1734114054739_tiktok.mp3","error":"ENOENT: no such file or directory, unlink '/tmp/1734114054739_tiktok.mp3'","level":"warn","message":"Failed to clean up audio file","timestamp":"2024-12-13T18:21:16.979Z"}
{"envKeys":["OPENAI_API_KEY","ELEVENLABS_API_KEY","HUGGINGFACE_API_KEY","GROQ_API_KEY","ANTHROPIC_API_KEY","TIKTOK_SESSION_ID"],"hasElevenLabsKey":true,"hasHuggingFaceKey":true,"hasTiktokSession":true,"level":"info","message":"TTS Service initialized","timestamp":"2024-12-13T18:27:57.252Z"}
{"level":"info","message":"Registering slash commands...","timestamp":"2024-12-13T18:27:57.274Z"}
{"level":"info","message":"Web server listening on port 3000","timestamp":"2024-12-13T18:27:57.277Z"}
{"level":"info","message":"Slash commands registered successfully","timestamp":"2024-12-13T18:27:57.710Z"}
{"channelId":"1203065885435101268","event":"joining_channel","guildId":"1203065884990644245","level":"info","message":"Voice event: joining_channel","timestamp":"2024-12-13T18:28:18.958Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T18:28:19.356Z","userId":"422749762060550154"}
{"isPremium":false,"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"oha","timestamp":"2024-12-13T18:28:23.413Z","userId":"422749762060550154"}
{"isPremium":false,"isVoiceInput":false,"level":"info","message":"TTS generation started","provider":"tiktok","textLength":62,"timestamp":"2024-12-13T18:28:23.415Z"}
{"isVoiceInput":false,"level":"info","message":"TikTok TTS started","textLength":62,"timestamp":"2024-12-13T18:28:23.416Z"}
{"duration":1151,"fileSize":76461,"isVoiceInput":false,"level":"info","message":"TikTok TTS completed","outputPath":"/tmp/1734114503417_tiktok.mp3","timestamp":"2024-12-13T18:28:24.568Z"}
{"audioPath":"/tmp/1734114503417_tiktok.mp3","level":"info","message":"Playing audio response","timestamp":"2024-12-13T18:28:24.569Z"}
{"audioPath":"/tmp/1734114503417_tiktok.mp3","level":"info","message":"Started playing audio","timestamp":"2024-12-13T18:28:24.597Z"}
{"isPremium":false,"isVoiceInput":false,"level":"info","message":"TTS generation started","provider":"tiktok","textLength":34,"timestamp":"2024-12-13T18:28:25.931Z"}
{"isVoiceInput":false,"level":"info","message":"TikTok TTS started","textLength":34,"timestamp":"2024-12-13T18:28:25.932Z"}
{"duration":668,"fileSize":46125,"isVoiceInput":false,"level":"info","message":"TikTok TTS completed","outputPath":"/tmp/1734114505932_tiktok.mp3","timestamp":"2024-12-13T18:28:26.600Z"}
{"audioPath":"/tmp/1734114505932_tiktok.mp3","level":"info","message":"Playing audio response","timestamp":"2024-12-13T18:28:26.600Z"}
{"audioPath":"/tmp/1734114505932_tiktok.mp3","level":"info","message":"Started playing audio","timestamp":"2024-12-13T18:28:26.613Z"}
{"audioPath":"/tmp/1734114505932_tiktok.mp3","level":"info","message":"Finished playing audio","timestamp":"2024-12-13T18:28:26.751Z"}
{"audioPath":"/tmp/1734114505932_tiktok.mp3","error":"ENOENT: no such file or directory, unlink '/tmp/1734114505932_tiktok.mp3'","level":"warn","message":"Failed to clean up audio file","timestamp":"2024-12-13T18:28:26.752Z"}
{"isPremium":false,"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"what?","timestamp":"2024-12-13T18:28:54.611Z","userId":"422749762060550154"}
{"isPremium":false,"isVoiceInput":false,"level":"info","message":"TTS generation started","provider":"tiktok","textLength":65,"timestamp":"2024-12-13T18:28:54.614Z"}
{"isVoiceInput":false,"level":"info","message":"TikTok TTS started","textLength":65,"timestamp":"2024-12-13T18:28:54.615Z"}
{"duration":1043,"fileSize":73389,"isVoiceInput":false,"level":"info","message":"TikTok TTS completed","outputPath":"/tmp/1734114534615_tiktok.mp3","timestamp":"2024-12-13T18:28:55.659Z"}
{"audioPath":"/tmp/1734114534615_tiktok.mp3","level":"info","message":"Playing audio response","timestamp":"2024-12-13T18:28:55.659Z"}
{"audioPath":"/tmp/1734114534615_tiktok.mp3","level":"info","message":"Started playing audio","timestamp":"2024-12-13T18:28:55.682Z"}
{"isPremium":false,"isVoiceInput":false,"level":"info","message":"TTS generation started","provider":"tiktok","textLength":86,"timestamp":"2024-12-13T18:28:57.072Z"}
{"isVoiceInput":false,"level":"info","message":"TikTok TTS started","textLength":86,"timestamp":"2024-12-13T18:28:57.072Z"}
{"duration":914,"fileSize":96045,"isVoiceInput":false,"level":"info","message":"TikTok TTS completed","outputPath":"/tmp/1734114537073_tiktok.mp3","timestamp":"2024-12-13T18:28:57.986Z"}
{"audioPath":"/tmp/1734114537073_tiktok.mp3","level":"info","message":"Playing audio response","timestamp":"2024-12-13T18:28:57.987Z"}
{"audioPath":"/tmp/1734114537073_tiktok.mp3","level":"info","message":"Started playing audio","timestamp":"2024-12-13T18:28:58.000Z"}
{"audioPath":"/tmp/1734114537073_tiktok.mp3","level":"info","message":"Finished playing audio","timestamp":"2024-12-13T18:29:04.112Z"}
{"audioPath":"/tmp/1734114537073_tiktok.mp3","error":"ENOENT: no such file or directory, unlink '/tmp/1734114537073_tiktok.mp3'","level":"warn","message":"Failed to clean up audio file","timestamp":"2024-12-13T18:29:04.114Z"}
{"envKeys":["OPENAI_API_KEY","ELEVENLABS_API_KEY","HUGGINGFACE_API_KEY","GROQ_API_KEY","ANTHROPIC_API_KEY","TIKTOK_SESSION_ID"],"hasElevenLabsKey":true,"hasHuggingFaceKey":true,"hasTiktokSession":true,"level":"info","message":"TTS Service initialized","timestamp":"2024-12-13T18:30:49.100Z"}
{"level":"info","message":"Registering slash commands...","timestamp":"2024-12-13T18:30:49.121Z"}
{"level":"info","message":"Web server listening on port 3000","timestamp":"2024-12-13T18:30:49.122Z"}
{"level":"info","message":"Slash commands registered successfully","timestamp":"2024-12-13T18:30:49.571Z"}
{"channelId":"1203065885435101268","event":"joining_channel","guildId":"1203065884990644245","level":"info","message":"Voice event: joining_channel","timestamp":"2024-12-13T18:30:52.567Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T18:30:52.851Z","userId":"422749762060550154"}
{"error":"settingsService.updateSettings is not a function","guildId":"1203065884990644245","level":"error","message":"Error setting AI model","timestamp":"2024-12-13T18:30:58.672Z"}
{"envKeys":["OPENAI_API_KEY","ELEVENLABS_API_KEY","HUGGINGFACE_API_KEY","GROQ_API_KEY","ANTHROPIC_API_KEY","TIKTOK_SESSION_ID"],"hasElevenLabsKey":true,"hasHuggingFaceKey":true,"hasTiktokSession":true,"level":"info","message":"TTS Service initialized","timestamp":"2024-12-13T18:32:59.523Z"}
{"level":"info","message":"Registering slash commands...","timestamp":"2024-12-13T18:32:59.545Z"}
{"level":"info","message":"Web server listening on port 3000","timestamp":"2024-12-13T18:32:59.548Z"}
{"level":"info","message":"Slash commands registered successfully","timestamp":"2024-12-13T18:32:59.905Z"}
{"error":"settingsService.updateSettings is not a function","guildId":"1203065884990644245","level":"error","message":"Error setting AI model","timestamp":"2024-12-13T18:33:18.193Z"}
{"envKeys":["OPENAI_API_KEY","ELEVENLABS_API_KEY","HUGGINGFACE_API_KEY","GROQ_API_KEY","ANTHROPIC_API_KEY","TIKTOK_SESSION_ID"],"hasElevenLabsKey":true,"hasHuggingFaceKey":true,"hasTiktokSession":true,"level":"info","message":"TTS Service initialized","timestamp":"2024-12-13T18:34:07.615Z"}
{"level":"info","message":"Registering slash commands...","timestamp":"2024-12-13T18:34:07.635Z"}
{"level":"info","message":"Web server listening on port 3000","timestamp":"2024-12-13T18:34:07.637Z"}
{"level":"info","message":"Slash commands registered successfully","timestamp":"2024-12-13T18:34:08.119Z"}
{"allowedUsers":0,"guildId":"1203065884990644245","hasAdmin":false,"level":"info","message":"Server settings saved","settingsSize":171,"timestamp":"2024-12-13T18:34:20.971Z"}
{"allowedUsers":0,"guildId":"1203065884990644245","hasAdmin":false,"level":"info","message":"Server settings saved","settingsSize":171,"timestamp":"2024-12-13T18:34:55.880Z"}
{"envKeys":["OPENAI_API_KEY","ELEVENLABS_API_KEY","HUGGINGFACE_API_KEY","GROQ_API_KEY","ANTHROPIC_API_KEY","TIKTOK_SESSION_ID"],"hasElevenLabsKey":true,"hasHuggingFaceKey":true,"hasTiktokSession":true,"level":"info","message":"TTS Service initialized","timestamp":"2024-12-13T18:37:01.493Z"}
{"level":"info","message":"Registering slash commands...","timestamp":"2024-12-13T18:37:01.517Z"}
{"level":"info","message":"Web server listening on port 3000","timestamp":"2024-12-13T18:37:01.519Z"}
{"level":"info","message":"Slash commands registered successfully","timestamp":"2024-12-13T18:37:02.028Z"}
{"allowedUsers":0,"guildId":"1203065884990644245","hasAdmin":false,"level":"info","message":"Server settings saved","settingsSize":171,"timestamp":"2024-12-13T18:37:59.487Z"}
{"allowedUsers":0,"guildId":"1203065884990644245","hasAdmin":false,"level":"info","message":"Server settings saved","settingsSize":171,"timestamp":"2024-12-13T18:38:08.109Z"}
{"allowedUsers":0,"guildId":"1203065884990644245","hasAdmin":false,"level":"info","message":"Server settings saved","settingsSize":171,"timestamp":"2024-12-13T18:38:41.745Z"}
{"allowedUsers":0,"guildId":"1203065884990644245","hasAdmin":false,"level":"info","message":"Server settings saved","settingsSize":169,"timestamp":"2024-12-13T18:38:48.832Z"}
{"allowedUsers":0,"guildId":"1203065884990644245","hasAdmin":false,"level":"info","message":"Server settings saved","settingsSize":155,"timestamp":"2024-12-13T18:39:06.483Z"}
{"allowedUsers":0,"guildId":"1203065884990644245","hasAdmin":false,"level":"info","message":"Server settings saved","settingsSize":171,"timestamp":"2024-12-13T18:40:33.986Z"}
{"isPremium":false,"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"fastspeech?","timestamp":"2024-12-13T18:40:40.098Z","userId":"422749762060550154"}
{"channelId":"1203065885435101268","event":"joining_channel","guildId":"1203065884990644245","level":"info","message":"Voice event: joining_channel","timestamp":"2024-12-13T18:40:49.204Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T18:40:50.920Z","userId":"422749762060550154"}
{"isPremium":false,"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"is fast speech really fast?","timestamp":"2024-12-13T18:41:01.707Z","userId":"422749762060550154"}
{"isPremium":false,"isVoiceInput":false,"level":"info","message":"TTS generation started","provider":"tiktok","textLength":62,"timestamp":"2024-12-13T18:41:01.708Z"}
{"isVoiceInput":false,"level":"info","message":"TikTok TTS started","textLength":62,"timestamp":"2024-12-13T18:41:01.709Z"}
{"duration":1103,"fileSize":76461,"isVoiceInput":false,"level":"info","message":"TikTok TTS completed","outputPath":"/tmp/1734115261709_tiktok.mp3","timestamp":"2024-12-13T18:41:02.812Z"}
{"audioPath":"/tmp/1734115261709_tiktok.mp3","level":"info","message":"Playing audio response","timestamp":"2024-12-13T18:41:02.814Z"}
{"audioPath":"/tmp/1734115261709_tiktok.mp3","level":"info","message":"Started playing audio","timestamp":"2024-12-13T18:41:02.853Z"}
{"isPremium":false,"isVoiceInput":false,"level":"info","message":"TTS generation started","provider":"tiktok","textLength":453,"timestamp":"2024-12-13T18:41:05.223Z"}
{"isVoiceInput":false,"level":"info","message":"TikTok TTS started","textLength":453,"timestamp":"2024-12-13T18:41:05.224Z"}
{"duration":774,"error":"TikTok API error: status_code 2","isVoiceInput":false,"level":"error","message":"TikTok TTS failed","stack":"Error: TikTok API error: status_code 2\n    at TTSService.generateTikTokTTS (/usr/src/app/src/services/ttsService.js:392:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TTSService.generateTTS (/usr/src/app/src/services/ttsService.js:47:39)\n    at async MessageHandler.handleMessage (/usr/src/app/src/handlers/messageHandler.js:114:21)\n    at async Client.<anonymous> (/usr/src/app/src/index.js:94:5)","timestamp":"2024-12-13T18:41:05.999Z"}
{"error":"TikTok API error: status_code 2","isVoiceInput":false,"level":"warn","message":"TikTok TTS failed, trying HuggingFace","timestamp":"2024-12-13T18:41:05.999Z"}
{"isVoiceInput":false,"level":"info","message":"TikTok TTS started","textLength":453,"timestamp":"2024-12-13T18:41:06.000Z"}
{"duration":420,"error":"TikTok API error: status_code 2","isVoiceInput":false,"level":"error","message":"TikTok TTS failed","stack":"Error: TikTok API error: status_code 2\n    at TTSService.generateTikTokTTS (/usr/src/app/src/services/ttsService.js:392:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TTSService.generateTTS (/usr/src/app/src/services/ttsService.js:94:39)\n    at async MessageHandler.handleMessage (/usr/src/app/src/handlers/messageHandler.js:114:21)\n    at async Client.<anonymous> (/usr/src/app/src/index.js:94:5)","timestamp":"2024-12-13T18:41:06.420Z"}
{"error":"TikTok API error: status_code 2","isVoiceInput":false,"level":"error","message":"All TTS providers failed","timestamp":"2024-12-13T18:41:06.420Z"}
{"error":"All TTS providers failed","isPremium":false,"level":"error","message":"TTS generation failed","provider":"tiktok","textLength":453,"timestamp":"2024-12-13T18:41:06.421Z"}
{"error":"All TTS providers failed","level":"error","message":"Error handling message","timestamp":"2024-12-13T18:41:06.421Z"}
{"audioPath":"/tmp/1734115261709_tiktok.mp3","level":"info","message":"Finished playing audio","timestamp":"2024-12-13T18:41:07.735Z"}
{"audioPath":"/tmp/1734115261709_tiktok.mp3","error":"ENOENT: no such file or directory, unlink '/tmp/1734115261709_tiktok.mp3'","level":"warn","message":"Failed to clean up audio file","timestamp":"2024-12-13T18:41:07.737Z"}
{"allowedUsers":0,"guildId":"1203065884990644245","hasAdmin":false,"level":"info","message":"Server settings saved","settingsSize":169,"timestamp":"2024-12-13T18:41:33.537Z"}
{"isPremium":false,"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"is facebook has free tts api?","timestamp":"2024-12-13T18:41:48.897Z","userId":"422749762060550154"}
{"isPremium":false,"isVoiceInput":false,"level":"info","message":"TTS generation started","provider":"tiktok","textLength":62,"timestamp":"2024-12-13T18:41:48.899Z"}
{"isVoiceInput":false,"level":"info","message":"TikTok TTS started","textLength":62,"timestamp":"2024-12-13T18:41:48.899Z"}
{"duration":1085,"fileSize":76461,"isVoiceInput":false,"level":"info","message":"TikTok TTS completed","outputPath":"/tmp/1734115308901_tiktok.mp3","timestamp":"2024-12-13T18:41:49.984Z"}
{"audioPath":"/tmp/1734115308901_tiktok.mp3","level":"info","message":"Playing audio response","timestamp":"2024-12-13T18:41:49.985Z"}
{"audioPath":"/tmp/1734115308901_tiktok.mp3","level":"info","message":"Started playing audio","timestamp":"2024-12-13T18:41:49.997Z"}
{"isPremium":false,"isVoiceInput":false,"level":"info","message":"TTS generation started","provider":"tiktok","textLength":167,"timestamp":"2024-12-13T18:41:51.402Z"}
{"isVoiceInput":false,"level":"info","message":"TikTok TTS started","textLength":167,"timestamp":"2024-12-13T18:41:51.403Z"}
{"duration":2194,"fileSize":172077,"isVoiceInput":false,"level":"info","message":"TikTok TTS completed","outputPath":"/tmp/1734115311403_tiktok.mp3","timestamp":"2024-12-13T18:41:53.597Z"}
{"audioPath":"/tmp/1734115311403_tiktok.mp3","level":"info","message":"Playing audio response","timestamp":"2024-12-13T18:41:53.597Z"}
{"audioPath":"/tmp/1734115311403_tiktok.mp3","level":"info","message":"Started playing audio","timestamp":"2024-12-13T18:41:53.607Z"}
{"audioPath":"/tmp/1734115311403_tiktok.mp3","level":"info","message":"Finished playing audio","timestamp":"2024-12-13T18:42:04.457Z"}
{"audioPath":"/tmp/1734115311403_tiktok.mp3","error":"ENOENT: no such file or directory, unlink '/tmp/1734115311403_tiktok.mp3'","level":"warn","message":"Failed to clean up audio file","timestamp":"2024-12-13T18:42:04.461Z"}
{"envKeys":["OPENAI_API_KEY","ELEVENLABS_API_KEY","HUGGINGFACE_API_KEY","GROQ_API_KEY","ANTHROPIC_API_KEY","TIKTOK_SESSION_ID"],"hasElevenLabsKey":true,"hasHuggingFaceKey":true,"hasTiktokSession":true,"level":"info","message":"TTS Service initialized","timestamp":"2024-12-13T18:43:47.332Z"}
{"level":"info","message":"Registering slash commands...","timestamp":"2024-12-13T18:43:47.354Z"}
{"level":"info","message":"Web server listening on port 3000","timestamp":"2024-12-13T18:43:47.356Z"}
{"level":"info","message":"Slash commands registered successfully","timestamp":"2024-12-13T18:43:47.715Z"}
{"channelId":"1203065885435101268","event":"joining_channel","guildId":"1203065884990644245","level":"info","message":"Voice event: joining_channel","timestamp":"2024-12-13T18:43:57.475Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T18:43:57.829Z","userId":"422749762060550154"}
{"isPremium":false,"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"how to use SpeechSynthesis via huggingface?","timestamp":"2024-12-13T18:44:17.300Z","userId":"422749762060550154"}
{"isPremium":false,"isVoiceInput":false,"level":"info","message":"TTS generation started","provider":"tiktok","textLength":72,"timestamp":"2024-12-13T18:44:17.303Z"}
{"isVoiceInput":false,"level":"info","message":"TikTok TTS started","textLength":72,"timestamp":"2024-12-13T18:44:17.305Z"}
{"duration":1567,"fileSize":82221,"isVoiceInput":false,"level":"info","message":"TikTok TTS completed","outputPath":"/tmp/1734115457306_tiktok.mp3","timestamp":"2024-12-13T18:44:18.872Z"}
{"audioPath":"/tmp/1734115457306_tiktok.mp3","level":"info","message":"Playing audio response","timestamp":"2024-12-13T18:44:18.873Z"}
{"audioPath":"/tmp/1734115457306_tiktok.mp3","level":"info","message":"Started playing audio","timestamp":"2024-12-13T18:44:18.918Z"}
{"isPremium":false,"isVoiceInput":false,"level":"info","message":"TTS generation started","provider":"tiktok","textLength":650,"timestamp":"2024-12-13T18:44:21.084Z"}
{"isVoiceInput":false,"level":"info","message":"TikTok TTS started","textLength":650,"timestamp":"2024-12-13T18:44:21.085Z"}
{"duration":860,"error":"TikTok API error: status_code 2","isVoiceInput":false,"level":"error","message":"TikTok TTS failed","stack":"Error: TikTok API error: status_code 2\n    at TTSService.generateTikTokTTS (/usr/src/app/src/services/ttsService.js:392:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TTSService.generateTTS (/usr/src/app/src/services/ttsService.js:47:39)\n    at async MessageHandler.handleMessage (/usr/src/app/src/handlers/messageHandler.js:114:21)\n    at async Client.<anonymous> (/usr/src/app/src/index.js:94:5)","timestamp":"2024-12-13T18:44:21.946Z"}
{"error":"TikTok API error: status_code 2","isVoiceInput":false,"level":"warn","message":"TikTok TTS failed, trying HuggingFace","timestamp":"2024-12-13T18:44:21.947Z"}
{"isVoiceInput":false,"level":"info","message":"TikTok TTS started","textLength":650,"timestamp":"2024-12-13T18:44:21.948Z"}
{"duration":436,"error":"TikTok API error: status_code 2","isVoiceInput":false,"level":"error","message":"TikTok TTS failed","stack":"Error: TikTok API error: status_code 2\n    at TTSService.generateTikTokTTS (/usr/src/app/src/services/ttsService.js:392:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TTSService.generateTTS (/usr/src/app/src/services/ttsService.js:94:39)\n    at async MessageHandler.handleMessage (/usr/src/app/src/handlers/messageHandler.js:114:21)\n    at async Client.<anonymous> (/usr/src/app/src/index.js:94:5)","timestamp":"2024-12-13T18:44:22.385Z"}
{"error":"TikTok API error: status_code 2","isVoiceInput":false,"level":"error","message":"All TTS providers failed","timestamp":"2024-12-13T18:44:22.385Z"}
{"error":"All TTS providers failed","isPremium":false,"level":"error","message":"TTS generation failed","provider":"tiktok","textLength":650,"timestamp":"2024-12-13T18:44:22.387Z"}
{"error":"All TTS providers failed","level":"error","message":"Error handling message","timestamp":"2024-12-13T18:44:22.388Z"}
{"audioPath":"/tmp/1734115457306_tiktok.mp3","level":"info","message":"Finished playing audio","timestamp":"2024-12-13T18:44:24.146Z"}
{"audioPath":"/tmp/1734115457306_tiktok.mp3","error":"ENOENT: no such file or directory, unlink '/tmp/1734115457306_tiktok.mp3'","level":"warn","message":"Failed to clean up audio file","timestamp":"2024-12-13T18:44:24.146Z"}
{"allowedUsers":0,"guildId":"1203065884990644245","hasAdmin":false,"level":"info","message":"Server settings saved","settingsSize":169,"timestamp":"2024-12-13T18:45:13.862Z"}
{"allowedUsers":0,"guildId":"1203065884990644245","hasAdmin":false,"level":"info","message":"Server settings saved","settingsSize":169,"timestamp":"2024-12-13T18:45:22.172Z"}
{"envKeys":["OPENAI_API_KEY","ELEVENLABS_API_KEY","HUGGINGFACE_API_KEY","GROQ_API_KEY","ANTHROPIC_API_KEY","TIKTOK_SESSION_ID"],"hasElevenLabsKey":true,"hasHuggingFaceKey":true,"hasTiktokSession":true,"level":"info","message":"TTS Service initialized","timestamp":"2024-12-13T18:48:27.007Z"}
{"level":"info","message":"Registering slash commands...","timestamp":"2024-12-13T18:48:27.030Z"}
{"level":"info","message":"Web server listening on port 3000","timestamp":"2024-12-13T18:48:27.032Z"}
{"level":"info","message":"Slash commands registered successfully","timestamp":"2024-12-13T18:48:27.510Z"}
{"channelId":"1203065885435101268","event":"joining_channel","guildId":"1203065884990644245","level":"info","message":"Voice event: joining_channel","timestamp":"2024-12-13T18:48:30.169Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T18:48:30.511Z","userId":"422749762060550154"}
{"allowedUsers":0,"guildId":"1203065884990644245","hasAdmin":false,"level":"info","message":"Server settings saved","settingsSize":201,"timestamp":"2024-12-13T18:48:41.301Z"}
{"allowedUsers":0,"guildId":"1203065884990644245","hasAdmin":false,"level":"info","message":"Server settings saved","settingsSize":204,"timestamp":"2024-12-13T18:48:45.773Z"}
{"isPremium":false,"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"hlelo?","timestamp":"2024-12-13T18:49:41.420Z","userId":"422749762060550154"}
{"isPremium":false,"isVoiceInput":false,"level":"info","message":"TTS generation started","provider":"tiktok","textLength":62,"timestamp":"2024-12-13T18:49:41.425Z"}
{"isVoiceInput":false,"level":"info","message":"TikTok TTS started","textLength":62,"timestamp":"2024-12-13T18:49:41.430Z"}
{"duration":1104,"fileSize":76461,"isVoiceInput":false,"level":"info","message":"TikTok TTS completed","outputPath":"/tmp/1734115781432_tiktok.mp3","timestamp":"2024-12-13T18:49:42.535Z"}
{"audioPath":"/tmp/1734115781432_tiktok.mp3","level":"info","message":"Playing audio response","timestamp":"2024-12-13T18:49:42.537Z"}
{"audioPath":"/tmp/1734115781432_tiktok.mp3","level":"info","message":"Started playing audio","timestamp":"2024-12-13T18:49:42.565Z"}
{"isPremium":false,"isVoiceInput":false,"level":"info","message":"TTS generation started","provider":"tiktok","textLength":34,"timestamp":"2024-12-13T18:49:43.935Z"}
{"isVoiceInput":false,"level":"info","message":"TikTok TTS started","textLength":34,"timestamp":"2024-12-13T18:49:43.935Z"}
{"duration":1250,"fileSize":46125,"isVoiceInput":false,"level":"info","message":"TikTok TTS completed","outputPath":"/tmp/1734115783935_tiktok.mp3","timestamp":"2024-12-13T18:49:45.186Z"}
{"audioPath":"/tmp/1734115783935_tiktok.mp3","level":"info","message":"Playing audio response","timestamp":"2024-12-13T18:49:45.194Z"}
{"audioPath":"/tmp/1734115783935_tiktok.mp3","level":"info","message":"Started playing audio","timestamp":"2024-12-13T18:49:45.204Z"}
{"audioPath":"/tmp/1734115783935_tiktok.mp3","level":"info","message":"Finished playing audio","timestamp":"2024-12-13T18:49:45.335Z"}
{"audioPath":"/tmp/1734115783935_tiktok.mp3","error":"ENOENT: no such file or directory, unlink '/tmp/1734115783935_tiktok.mp3'","level":"warn","message":"Failed to clean up audio file","timestamp":"2024-12-13T18:49:45.335Z"}
{"isPremium":false,"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"its working wow","timestamp":"2024-12-13T18:49:58.825Z","userId":"422749762060550154"}
{"isPremium":false,"isVoiceInput":false,"level":"info","message":"TTS generation started","provider":"tiktok","textLength":62,"timestamp":"2024-12-13T18:49:58.832Z"}
{"isVoiceInput":false,"level":"info","message":"TikTok TTS started","textLength":62,"timestamp":"2024-12-13T18:49:58.833Z"}
{"duration":1007,"fileSize":76461,"isVoiceInput":false,"level":"info","message":"TikTok TTS completed","outputPath":"/tmp/1734115798834_tiktok.mp3","timestamp":"2024-12-13T18:49:59.840Z"}
{"audioPath":"/tmp/1734115798834_tiktok.mp3","level":"info","message":"Playing audio response","timestamp":"2024-12-13T18:49:59.841Z"}
{"audioPath":"/tmp/1734115798834_tiktok.mp3","level":"info","message":"Started playing audio","timestamp":"2024-12-13T18:49:59.860Z"}
{"isPremium":false,"isVoiceInput":false,"level":"info","message":"TTS generation started","provider":"tiktok","textLength":75,"timestamp":"2024-12-13T18:50:01.293Z"}
{"isVoiceInput":false,"level":"info","message":"TikTok TTS started","textLength":75,"timestamp":"2024-12-13T18:50:01.293Z"}
{"duration":928,"fileSize":74925,"isVoiceInput":false,"level":"info","message":"TikTok TTS completed","outputPath":"/tmp/1734115801293_tiktok.mp3","timestamp":"2024-12-13T18:50:02.222Z"}
{"audioPath":"/tmp/1734115801293_tiktok.mp3","level":"info","message":"Playing audio response","timestamp":"2024-12-13T18:50:02.222Z"}
{"audioPath":"/tmp/1734115801293_tiktok.mp3","level":"info","message":"Started playing audio","timestamp":"2024-12-13T18:50:02.231Z"}
{"audioPath":"/tmp/1734115801293_tiktok.mp3","level":"info","message":"Finished playing audio","timestamp":"2024-12-13T18:50:02.359Z"}
{"audioPath":"/tmp/1734115801293_tiktok.mp3","error":"ENOENT: no such file or directory, unlink '/tmp/1734115801293_tiktok.mp3'","level":"warn","message":"Failed to clean up audio file","timestamp":"2024-12-13T18:50:02.361Z"}
{"envKeys":["OPENAI_API_KEY","ELEVENLABS_API_KEY","HUGGINGFACE_API_KEY","GROQ_API_KEY","ANTHROPIC_API_KEY","TIKTOK_SESSION_ID"],"hasElevenLabsKey":true,"hasHuggingFaceKey":true,"hasTiktokSession":true,"level":"info","message":"TTS Service initialized","timestamp":"2024-12-13T18:50:15.230Z"}
{"level":"info","message":"Registering slash commands...","timestamp":"2024-12-13T18:50:15.257Z"}
{"level":"info","message":"Web server listening on port 3000","timestamp":"2024-12-13T18:50:15.364Z"}
{"level":"info","message":"Slash commands registered successfully","timestamp":"2024-12-13T18:50:15.743Z"}
{"channelId":"1203065885435101268","event":"joining_channel","guildId":"1203065884990644245","level":"info","message":"Voice event: joining_channel","timestamp":"2024-12-13T18:50:19.102Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T18:50:19.497Z","userId":"422749762060550154"}
{"allowedUsers":0,"guildId":"1203065884990644245","hasAdmin":false,"level":"info","message":"Server settings saved","settingsSize":204,"timestamp":"2024-12-13T18:50:25.127Z"}
{"allowedUsers":0,"guildId":"1203065884990644245","hasAdmin":false,"level":"info","message":"Server settings saved","settingsSize":194,"timestamp":"2024-12-13T18:50:30.012Z"}
{"allowedUsers":0,"guildId":"1203065884990644245","hasAdmin":false,"level":"info","message":"Server settings saved","settingsSize":194,"timestamp":"2024-12-13T18:50:40.218Z"}
{"isPremium":false,"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"you look offline?","timestamp":"2024-12-13T18:50:58.115Z","userId":"422749762060550154"}
{"isPremium":false,"isVoiceInput":false,"level":"info","message":"TTS generation started","provider":"tiktok","textLength":62,"timestamp":"2024-12-13T18:50:58.118Z"}
{"isVoiceInput":false,"level":"info","message":"TikTok TTS started","textLength":62,"timestamp":"2024-12-13T18:50:58.121Z"}
{"duration":1125,"fileSize":76461,"isVoiceInput":false,"level":"info","message":"TikTok TTS completed","outputPath":"/tmp/1734115858123_tiktok.mp3","timestamp":"2024-12-13T18:50:59.246Z"}
{"audioPath":"/tmp/1734115858123_tiktok.mp3","level":"info","message":"Playing audio response","timestamp":"2024-12-13T18:50:59.247Z"}
{"audioPath":"/tmp/1734115858123_tiktok.mp3","level":"info","message":"Started playing audio","timestamp":"2024-12-13T18:50:59.278Z"}
{"isPremium":false,"isVoiceInput":false,"level":"info","message":"TTS generation started","provider":"tiktok","textLength":98,"timestamp":"2024-12-13T18:51:00.668Z"}
{"isVoiceInput":false,"level":"info","message":"TikTok TTS started","textLength":98,"timestamp":"2024-12-13T18:51:00.669Z"}
{"duration":1203,"fileSize":117165,"isVoiceInput":false,"level":"info","message":"TikTok TTS completed","outputPath":"/tmp/1734115860669_tiktok.mp3","timestamp":"2024-12-13T18:51:01.872Z"}
{"audioPath":"/tmp/1734115860669_tiktok.mp3","level":"info","message":"Playing audio response","timestamp":"2024-12-13T18:51:01.873Z"}
{"audioPath":"/tmp/1734115860669_tiktok.mp3","level":"info","message":"Started playing audio","timestamp":"2024-12-13T18:51:01.886Z"}
{"audioPath":"/tmp/1734115860669_tiktok.mp3","level":"info","message":"Finished playing audio","timestamp":"2024-12-13T18:51:09.316Z"}
{"audioPath":"/tmp/1734115860669_tiktok.mp3","error":"ENOENT: no such file or directory, unlink '/tmp/1734115860669_tiktok.mp3'","level":"warn","message":"Failed to clean up audio file","timestamp":"2024-12-13T18:51:09.318Z"}
{"bufferSize":97920,"filepath":"/tmp/1734115880572.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T18:51:20.572Z","userId":"422749762060550154"}
{"error":"WAV file was not created","level":"error","message":"Error creating WAV file:","timestamp":"2024-12-13T18:51:20.579Z"}
{"bufferSize":97920,"filepath":"/tmp/1734115881593.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T18:51:21.593Z","userId":"422749762060550154"}
{"event":"transcribe_start","guildId":"1203065884990644245","level":"info","message":"Voice event: transcribe_start","timestamp":"2024-12-13T18:51:21.599Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T18:51:22.415Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T18:51:22.516Z","userId":"422749762060550154"}
{"event":"transcribe_success","guildId":"1203065884990644245","length":6,"level":"info","message":"Voice event: transcribe_success","timestamp":"2024-12-13T18:51:22.716Z","userId":"422749762060550154"}
{"isPremium":false,"isVoiceInput":true,"level":"info","message":"TTS generation started","provider":"elevenlabs","textLength":160,"timestamp":"2024-12-13T18:51:23.559Z"}
{"isVoiceInput":true,"level":"info","message":"TikTok TTS started","textLength":160,"timestamp":"2024-12-13T18:51:23.559Z"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T18:51:23.676Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T18:51:23.779Z","userId":"422749762060550154"}
{"duration":1186,"fileSize":165165,"isVoiceInput":true,"level":"info","message":"TikTok TTS completed","outputPath":"/tmp/1734115883560_tiktok.mp3","timestamp":"2024-12-13T18:51:24.745Z"}
{"audioPath":"/tmp/1734115883560_tiktok.mp3","level":"info","message":"Playing audio response","timestamp":"2024-12-13T18:51:24.746Z"}
{"audioPath":"/tmp/1734115883560_tiktok.mp3","level":"info","message":"Started playing audio","timestamp":"2024-12-13T18:51:24.755Z"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T18:51:24.897Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T18:51:24.998Z","userId":"422749762060550154"}
{"audioPath":"/tmp/1734115883560_tiktok.mp3","level":"info","message":"Finished playing audio","timestamp":"2024-12-13T18:51:35.194Z"}
{"envKeys":["OPENAI_API_KEY","ELEVENLABS_API_KEY","HUGGINGFACE_API_KEY","GROQ_API_KEY","ANTHROPIC_API_KEY","TIKTOK_SESSION_ID"],"hasElevenLabsKey":true,"hasHuggingFaceKey":true,"hasTiktokSession":true,"level":"info","message":"TTS Service initialized","timestamp":"2024-12-13T18:58:28.848Z"}
{"level":"info","message":"Registering slash commands...","timestamp":"2024-12-13T18:58:28.874Z"}
{"level":"info","message":"Web server listening on port 3000","timestamp":"2024-12-13T18:58:28.876Z"}
{"level":"info","message":"Slash commands registered successfully","timestamp":"2024-12-13T18:58:29.321Z"}
{"channelId":"1203065885435101268","event":"joining_channel","guildId":"1203065884990644245","level":"info","message":"Voice event: joining_channel","timestamp":"2024-12-13T18:58:33.304Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T18:58:33.776Z","userId":"422749762060550154"}
{"allowedUsers":0,"guildId":"1203065884990644245","hasAdmin":false,"level":"info","message":"Server settings saved","settingsSize":194,"timestamp":"2024-12-13T18:58:51.120Z"}
{"allowedUsers":0,"guildId":"1203065884990644245","hasAdmin":false,"level":"info","message":"Server settings saved","settingsSize":194,"timestamp":"2024-12-13T18:58:58.206Z"}
{"isPremium":false,"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"hello elevenlabs","timestamp":"2024-12-13T18:59:08.070Z","userId":"422749762060550154"}
{"isPremium":false,"isVoiceInput":false,"level":"info","message":"TTS generation started","provider":"tiktok","textLength":62,"timestamp":"2024-12-13T18:59:08.072Z"}
{"isVoiceInput":false,"level":"info","message":"TikTok TTS started","textLength":62,"timestamp":"2024-12-13T18:59:08.073Z"}
{"duration":1132,"fileSize":76461,"isVoiceInput":false,"level":"info","message":"TikTok TTS completed","outputPath":"/tmp/1734116348075_tiktok.mp3","timestamp":"2024-12-13T18:59:09.206Z"}
{"audioPath":"/tmp/1734116348075_tiktok.mp3","level":"info","message":"Playing audio response","timestamp":"2024-12-13T18:59:09.207Z"}
{"audioPath":"/tmp/1734116348075_tiktok.mp3","level":"info","message":"Started playing audio","timestamp":"2024-12-13T18:59:09.239Z"}
{"isPremium":false,"isVoiceInput":false,"level":"info","message":"TTS generation started","provider":"tiktok","textLength":34,"timestamp":"2024-12-13T18:59:10.673Z"}
{"isVoiceInput":false,"level":"info","message":"TikTok TTS started","textLength":34,"timestamp":"2024-12-13T18:59:10.674Z"}
{"duration":674,"fileSize":46125,"isVoiceInput":false,"level":"info","message":"TikTok TTS completed","outputPath":"/tmp/1734116350674_tiktok.mp3","timestamp":"2024-12-13T18:59:11.348Z"}
{"audioPath":"/tmp/1734116350674_tiktok.mp3","level":"info","message":"Playing audio response","timestamp":"2024-12-13T18:59:11.350Z"}
{"audioPath":"/tmp/1734116350674_tiktok.mp3","level":"info","message":"Started playing audio","timestamp":"2024-12-13T18:59:11.373Z"}
{"audioPath":"/tmp/1734116350674_tiktok.mp3","level":"info","message":"Finished playing audio","timestamp":"2024-12-13T18:59:14.372Z"}
{"audioPath":"/tmp/1734116350674_tiktok.mp3","error":"ENOENT: no such file or directory, unlink '/tmp/1734116350674_tiktok.mp3'","level":"warn","message":"Failed to clean up audio file","timestamp":"2024-12-13T18:59:14.373Z"}
{"channelId":"1203065885435101268","event":"joining_channel","guildId":"1203065884990644245","level":"info","message":"Voice event: joining_channel","timestamp":"2024-12-13T19:07:36.456Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T19:07:37.305Z","userId":"422749762060550154"}
{"channelId":"1203065885435101268","event":"joining_channel","guildId":"1203065884990644245","level":"info","message":"Voice event: joining_channel","timestamp":"2024-12-13T19:08:49.187Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T19:08:49.563Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T19:08:50.570Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T19:08:50.673Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T19:08:52.006Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T19:08:52.111Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T19:08:53.700Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T19:08:53.801Z","userId":"422749762060550154"}
{"envKeys":["OPENAI_API_KEY","ELEVENLABS_API_KEY","HUGGINGFACE_API_KEY","GROQ_API_KEY","ANTHROPIC_API_KEY","TIKTOK_SESSION_ID"],"hasElevenLabsKey":true,"hasHuggingFaceKey":true,"hasTiktokSession":true,"level":"info","message":"TTS Service initialized","timestamp":"2024-12-13T19:08:55.761Z"}
{"level":"info","message":"Registering slash commands...","timestamp":"2024-12-13T19:08:55.784Z"}
{"level":"info","message":"Web server listening on port 3000","timestamp":"2024-12-13T19:08:55.786Z"}
{"level":"info","message":"Slash commands registered successfully","timestamp":"2024-12-13T19:08:56.277Z"}
{"channelId":"1203065885435101268","event":"joining_channel","guildId":"1203065884990644245","level":"info","message":"Voice event: joining_channel","timestamp":"2024-12-13T19:09:07.982Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T19:09:08.636Z","userId":"422749762060550154"}
{"envKeys":["OPENAI_API_KEY","ELEVENLABS_API_KEY","HUGGINGFACE_API_KEY","GROQ_API_KEY","ANTHROPIC_API_KEY","TIKTOK_SESSION_ID"],"hasElevenLabsKey":true,"hasHuggingFaceKey":true,"hasTiktokSession":true,"level":"info","message":"TTS Service initialized","timestamp":"2024-12-13T19:30:07.736Z"}
{"level":"info","message":"Registering slash commands...","timestamp":"2024-12-13T19:30:07.758Z"}
{"level":"info","message":"Web server listening on port 3000","timestamp":"2024-12-13T19:30:07.760Z"}
{"level":"info","message":"Slash commands registered successfully","timestamp":"2024-12-13T19:30:08.197Z"}
{"channelId":"1203065885435101268","event":"joining_channel","guildId":"1203065884990644245","level":"info","message":"Voice event: joining_channel","timestamp":"2024-12-13T19:30:13.745Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T19:30:14.186Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T19:30:15.691Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T19:30:15.791Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T19:30:17.734Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T19:30:17.836Z","userId":"422749762060550154"}
{"event":"stream_end","guildId":"1203065884990644245","level":"info","message":"Voice event: stream_end","timestamp":"2024-12-13T19:30:19.022Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T19:30:19.129Z","userId":"422749762060550154"}
{"envKeys":["OPENAI_API_KEY","ELEVENLABS_API_KEY","HUGGINGFACE_API_KEY","GROQ_API_KEY","ANTHROPIC_API_KEY","TIKTOK_SESSION_ID"],"hasElevenLabsKey":true,"hasHuggingFaceKey":true,"hasTiktokSession":true,"level":"info","message":"TTS Service initialized","timestamp":"2024-12-13T19:35:19.111Z"}
{"level":"info","message":"Registering slash commands...","timestamp":"2024-12-13T19:35:19.135Z"}
{"level":"info","message":"Web server listening on port 3000","timestamp":"2024-12-13T19:35:19.138Z"}
{"level":"info","message":"Slash commands registered successfully","timestamp":"2024-12-13T19:35:19.677Z"}
{"channelId":"1203065885435101268","event":"joining_channel","guildId":"1203065884990644245","level":"info","message":"Voice event: joining_channel","timestamp":"2024-12-13T19:35:30.485Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T19:35:30.911Z","userId":"422749762060550154"}
{"bufferSize":97920,"filepath":"/tmp/1734118532096.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T19:35:32.096Z","userId":"422749762060550154"}
{"event":"transcribe_start","guildId":"1203065884990644245","level":"info","message":"Voice event: transcribe_start","timestamp":"2024-12-13T19:35:32.104Z","userId":"422749762060550154"}
{"event":"transcribe_success","guildId":"1203065884990644245","length":5,"level":"info","message":"Voice event: transcribe_success","timestamp":"2024-12-13T19:35:35.357Z","userId":"422749762060550154"}
{"isPremium":false,"isVoiceInput":true,"level":"info","message":"TTS generation started","provider":"elevenlabs","textLength":217,"timestamp":"2024-12-13T19:35:36.239Z"}
{"isVoiceInput":true,"level":"info","message":"TikTok TTS started","textLength":217,"timestamp":"2024-12-13T19:35:36.240Z"}
{"duration":1555,"fileSize":228525,"isVoiceInput":true,"level":"info","message":"TikTok TTS completed","outputPath":"/tmp/1734118536240_tiktok.mp3","timestamp":"2024-12-13T19:35:37.795Z"}
{"audioPath":"/tmp/1734118536240_tiktok.mp3","level":"info","message":"Playing audio response","timestamp":"2024-12-13T19:35:37.796Z"}
{"audioPath":"/tmp/1734118536240_tiktok.mp3","error":"Failed to subscribe to audio player","level":"error","message":"Error setting up audio playback:","timestamp":"2024-12-13T19:35:37.817Z"}
{"bufferSize":247680,"filepath":"/tmp/1734118538821.wav","guildId":"1203065884990644245","level":"info","message":"Creating WAV file","timestamp":"2024-12-13T19:35:38.821Z","userId":"422749762060550154"}
{"error":"WAV file was not created","level":"error","message":"Error creating WAV file:","timestamp":"2024-12-13T19:35:38.824Z"}
{"allowedUsers":0,"guildId":"1203065884990644245","hasAdmin":false,"level":"info","message":"Server settings saved","settingsSize":193,"timestamp":"2024-12-13T19:42:46.412Z"}
{"isPremium":false,"isVoiceChannel":true,"level":"info","message":"Processing message","prompt":"hello?_","timestamp":"2024-12-13T19:42:59.762Z","userId":"422749762060550154"}
{"channelId":"1203065885435101268","event":"joining_channel","guildId":"1203065884990644245","level":"info","message":"Voice event: joining_channel","timestamp":"2024-12-13T19:42:59.763Z","userId":"422749762060550154"}
{"channelId":"1203065884990644250","event":"start_listening","guildId":"1203065884990644245","level":"info","message":"Voice event: start_listening","timestamp":"2024-12-13T19:43:00.135Z","userId":"422749762060550154"}
{"isPremium":false,"isVoiceInput":false,"level":"info","message":"TTS generation started","provider":"tiktok","textLength":62,"timestamp":"2024-12-13T19:43:00.137Z"}
{"isVoiceInput":false,"level":"info","message":"TikTok TTS started","textLength":62,"timestamp":"2024-12-13T19:43:00.138Z"}
{"duration":1246,"fileSize":76461,"isVoiceInput":false,"level":"info","message":"TikTok TTS completed","outputPath":"/tmp/1734118980139_tiktok.mp3","timestamp":"2024-12-13T19:43:01.383Z"}
{"audioPath":"/tmp/1734118980139_tiktok.mp3","level":"info","message":"Playing audio response","timestamp":"2024-12-13T19:43:01.384Z"}
{"audioPath":"/tmp/1734118980139_tiktok.mp3","level":"info","message":"Started playing audio","timestamp":"2024-12-13T19:43:01.421Z"}
{"isPremium":false,"isVoiceInput":false,"level":"info","message":"TTS generation started","provider":"tiktok","textLength":34,"timestamp":"2024-12-13T19:43:02.789Z"}
{"isVoiceInput":false,"level":"info","message":"TikTok TTS started","textLength":34,"timestamp":"2024-12-13T19:43:02.789Z"}
{"duration":718,"fileSize":46125,"isVoiceInput":false,"level":"info","message":"TikTok TTS completed","outputPath":"/tmp/1734118982789_tiktok.mp3","timestamp":"2024-12-13T19:43:03.507Z"}
{"audioPath":"/tmp/1734118982789_tiktok.mp3","level":"info","message":"Playing audio response","timestamp":"2024-12-13T19:43:03.508Z"}
{"audioPath":"/tmp/1734118982789_tiktok.mp3","level":"info","message":"Started playing audio","timestamp":"2024-12-13T19:43:03.519Z"}
{"audioPath":"/tmp/1734118982789_tiktok.mp3","level":"info","message":"Finished playing audio","timestamp":"2024-12-13T19:43:03.642Z"}
{"audioPath":"/tmp/1734118982789_tiktok.mp3","error":"ENOENT: no such file or directory, unlink '/tmp/1734118982789_tiktok.mp3'","level":"warn","message":"Failed to clean up audio file","timestamp":"2024-12-13T19:43:03.643Z"}
